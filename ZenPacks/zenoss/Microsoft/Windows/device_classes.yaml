name: ZenPacks.zenoss.Microsoft.Windows

device_classes:
  /Server/Microsoft/Windows:
    remove: true
    description: Windows Server
    protocol: WinRM
    zProperties:
      zPythonClass: ZenPacks.zenoss.Microsoft.Windows.Device
      zCollectorPlugins: [zenoss.winrm.OperatingSystem, zenoss.winrm.CPUs, zenoss.winrm.FileSystems, zenoss.winrm.Interfaces, zenoss.winrm.Services, zenoss.winrm.Processes, zenoss.winrm.Software, zenoss.winrm.HardDisks]
      zDeviceTemplates: [Device, Active Directory, IIS, MSExchange2010IS]
  /Server/Microsoft/Cluster:
    remove: true
    description: Windows Cluster
    protocol: WinRM
    zProperties:
      zCollectorPlugins: [zenoss.winrm.OperatingSystem, zenoss.winrm.WinCluster]
      zDeviceTemplates: [Cluster, Active Directory, IIS, MSExchange2010IS]
      zPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterDevice
      zWindowsRemodelEventClassKeys: [clusterOwnerChange]
    templates:
      ClusterNode:
        description: Used to monitor the state of the Cluster Node.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterNode
        datasources:
          state:
            type: Windows Cluster
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Nodes.
            cycletime: '300'
      ClusterDisk:
        description: Used to monitor the state of the Cluster Disk.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterDisk
        datasources:
          state:
            type: Windows Cluster
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Disks.
              freespace:
                rrdtype: GAUGE
                description: Used to monitor the freespace of a Cluster Disk.
            cycletime: '300'
        graphs:
          Free Space:
            units: bytes
            miny: 0
            base: true
            graphpoints:
              Free Space:
                dpName: state_freespace
                lineType: AREA
                format: '%7.2lf%s'
      ClusterNetwork:
        description: Used to monitor the state of the Cluster Network.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterNetwork
        datasources:
          state:
            type: Windows Cluster
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Networks.
            cycletime: '300'
      ClusterResource:
        description: Used to monitor the state of the Cluster Resources.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterResource
        datasources:
          state:
            type: Windows Cluster
            datapoints:
              state:
                rrdtype: GAUGE
            cycletime: '300'
      ClusterInterface:
        description: Used to monitor the state of the Cluster Interface.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterInterface
        datasources:
          state:
            type: Windows Cluster
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Interfaces.
            cycletime: '300'
      ClusterService:
        description: Used to monitor the state of the Cluster Service.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterService
        datasources:
          state:
            type: Windows Cluster
            datapoints:
              state:
                rrdtype: GAUGE
            cycletime: '300'
  /Server/Microsoft:
    remove: true
    zProperties:
      zCollectorPlugins: []
      zCredentialsZProperties: [zWinRMUser, zWinRMPassword, zWinKDC, zWinScheme, zWinRMPort]
      zDeviceTemplates: [Device, Cluster, Active Directory, IIS, MSExchange2010IS]
      zIcon: /++resource++mswindows/img/server-windows.png
      zSnmpMonitorIgnore: true
    templates:
      WinSQLJob:
        description: Microsoft SQL Server per-job monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLJob
        datasources:
          jobStatus:
            type: Windows Shell
            cycletime: '300'
            resource: status
            strategy: powershell MSSQL Job
      MSExchangeInformationStore:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisrpcaveragedlatency: null}
            counter: \MSExchangeIS\RPC Averaged Latency
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisrpcoperations__sec: null}
            counter: \MSExchangeIS\RPC Operations/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpserverlocalqueuelength: null}
            counter: \SMTP Server(_Total)\Local Queue Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpservermsgsdelivered__sec: null}
            counter: \SMTP Server(_Total)\Messages Delivered/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseismailboxlocaldeliveryrate: null}
            counter: \MSExchangeIS Mailbox(_Total)\Local delivery rate
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseismailboxmessageopens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Message Opens/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisrpcrequests: null}
            counter: \MSExchangeIS\RPC Requests
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseismailboxfolderopens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Folder opens/sec
        graphs:
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Folder Opens:
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
              Message Opens:
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              Local Deliveries:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
          Exchange - RPC Requests:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
          Exchange - RPC Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          SMTP Server - Local Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
      MSExchange2010IS:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                aliases: {mseisrpcaveragedlatency: null}
            counter: \MSExchangeIS\RPC Averaged Latency
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                aliases: {mseisrpcoperations__sec: null}
            counter: \MSExchangeIS\RPC Operations/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                aliases: {smtpserverlocalqueuelength: null}
            counter: \MSExchangeTransport Queues(_Total)\Active Mailbox Delivery Queue
              Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                aliases: {smtpservermsgsdelivered__sec: null}
            counter: \MSExchangeTransport SmtpSend(_Total)\Messages Sent/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                aliases: {mseismailboxlocaldeliveryrate: null}
            counter: \MSExchangeIS Mailbox(_Total)\Local delivery rate
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                aliases: {mseismailboxmessageopens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Message Opens/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                aliases: {mseisrpcrequests: null}
            counter: \MSExchangeIS\RPC Requests
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                aliases: {mseismailboxfolderopens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Folder opens/sec
        graphs:
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Folder Opens:
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
              Message Opens:
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              Local Deliveries:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
          Exchange - RPC Requests:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
          Exchange - RPC Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          SMTP Server - Active Delivery Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
      IIS:
        description: Microsoft Internet Information Services.
        datasources:
          iisPostRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPostRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iispostrequests__sec: null}
            counter: \Web Service(_Total)\Post Requests/sec
          iisISAPIExtensionRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisISAPIExtensionRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisisapiextensionrequests__sec: null}
            counter: \Web Service(_Total)\ISAPI Extension Requests/sec
          iisGetRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisGetRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisgetrequests__sec: null}
            counter: \Web Service(_Total)\Get Requests/sec
          iisLockRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisLockRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iislockrequests__sec: null}
            counter: \Web Service(_Total)\Lock Requests/sec
          iisFilesReceived:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisFilesReceived:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisfilesreceived__sec: null}
            counter: \Web Service(_Total)\Files Received/sec
          iisCopyRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCopyRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iiscopyrequests__sec: null}
            counter: \Web Service(_Total)\Copy Requests/sec
          iisConnectionAttempts:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisConnectionAttempts:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisconnectionattempts__sec: null}
            counter: \Web Service(_Total)\Connection Attempts/sec
          iisOtherRequestMethods:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisOtherRequestMethods:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisotherrequestmethods__sec: null}
            counter: \Web Service(_Total)\Other Request Methods/sec
          iisUnlockRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisUnlockRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisunlockrequests__sec: null}
            counter: \Web Service(_Total)\Unlock Requests/sec
          iisSearchRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisSearchRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iissearchrequests__sec: null}
            counter: \Web Service(_Total)\Search Requests/sec
          iisTraceRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisTraceRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iistracerequests__sec: null}
            counter: \Web Service(_Total)\Trace Requests/sec
          iisDeleteRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisDeleteRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisdeleterequests__sec: null}
            counter: \Web Service(_Total)\Delete Requests/sec
          iisPropfindRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPropfindRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iispropfindrequests__sec: null}
            counter: \Web Service(_Total)\Propfind Requests/sec
          iisMkcolRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisMkcolRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iismkcolrequests__sec: null}
            counter: \Web Service(_Total)\Mkcol Requests/sec
          iisMoveRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisMoveRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iismoverequests__sec: null}
            counter: \Web Service(_Total)\Move Requests/sec
          iisOptionsRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisOptionsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisoptionsrequests__sec: null}
            counter: \Web Service(_Total)\Options Requests/sec
          iisPutRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPutRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisputrequests__sec: null}
            counter: \Web Service(_Total)\Put Requests/sec
          iisBytesSent:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisBytesSent:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iissent__bytes: null}
            counter: \Web Service(_Total)\Bytes Sent/sec
          iisCurrentConnections:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCurrentConnections:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iiscurrentconnections: null}
            counter: \Web Service(_Total)\Current Connections
          iisFilesSent:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisFilesSent:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisfilessent__sec: null}
            counter: \Web Service(_Total)\Files Sent/sec
          iisBytesReceived:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisBytesReceived:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisreceived__bytes: null}
            counter: \Web Service(_Total)\Bytes Received/sec
          iisProppatchRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisProppatchRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisproppatchrequests__sec: null}
            counter: \Web Service(_Total)\Proppatch Requests/sec
          iisCGIRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCGIRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iiscgirequests: null}
            counter: \Web Service(_Total)\CGI Requests/sec
          iisHeadRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisHeadRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisheadrequests__sec: null}
            counter: \Web Service(_Total)\Head Requests/sec
        graphs:
          IIS - Connections:
            units: connections
            miny: 0
            graphpoints:
              Current:
                dpName: iisCurrentConnections_iisCurrentConnections
                format: '%7.0lf'
          IIS - Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              Attempts:
                dpName: iisConnectionAttempts_iisConnectionAttempts
                format: '%7.2lf%s'
          IIS - Basic Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Other Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - File Rate:
            units: files/sec
            miny: 0
            graphpoints:
              Received:
                dpName: iisFilesReceived_iisFilesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisFilesSent_iisFilesSent
                format: '%7.2lf%s'
          IIS - Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Received:
                dpName: iisBytesReceived_iisBytesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisBytesSent_iisBytesSent
                format: '%7.2lf%s'
      WinDBInstance:
        description: Microsoft SQL Server per-instance monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLInstance
        datasources:
          InstanceStatus:
            type: Windows Shell
            cycletime: '300'
            resource: status
            strategy: powershell MSSQL Instance
          BufferCacheHitRatio:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              BufferCacheHitRatio:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {buffer_cache_hit_ratio: null}
            counter: \${here/perfmon_instance}:Buffer Manager\Buffer cache hit ratio
          PageLifeExpectancy:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              PageLifeExpectancy:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {page_life_expectancy: null}
            counter: \${here/perfmon_instance}:Buffer Manager\Page life expectancy
          BatchRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              BatchRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {batch_requests__sec: null}
            counter: \${here/perfmon_instance}:SQL Statistics\Batch Requests/Sec
          SQLCompilationsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              SQLCompilationsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {sql_compilations__sec: null}
            counter: \${here/perfmon_instance}:SQL Statistics\SQL Compilations/Sec
          SQLReCompilationsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              SQLReCompilationsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {sql_recompilations__sec: null}
            counter: \${here/perfmon_instance}:SQL Statistics\SQL Re-Compilations/Sec
          UserConnections:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              UserConnections:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {user_connections: null}
            counter: \${here/perfmon_instance}:General Statistics\User Connections
          LockWaitsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              LockWaitsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {lock_waits__sec: null}
            counter: \${here/perfmon_instance}:Locks(_Total)\Lock Waits/Sec
          PageSplitsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              PageSplitsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {page_splits__sec: null}
            counter: \${here/perfmon_instance}:Access Methods\Page Splits/Sec
          ProcessesBlocked:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              ProcessesBlocked:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {processes_blocked: null}
            counter: \${here/perfmon_instance}:General Statistics\Processes Blocked
          CheckpointPagesPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              CheckpointPagesPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {checkpoint_pages__sec: null}
            counter: \${here/perfmon_instance}:Buffer Manager\Checkpoint Pages/Sec
          DeadlocksPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DeadlocksPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {deadlocks__sec: null}
            counter: \${here/perfmon_instance}:Locks(_Total)\Number of Deadlocks/sec
        graphs:
          Buffer Cache Hit Ratio:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Cache Hit Ratio:
                dpName: BufferCacheHitRatio_BufferCacheHitRatio
                format: '%7.2lf%%'
          Page Life Expectancy:
            units: seconds
            miny: 0
            graphpoints:
              Page Life:
                dpName: PageLifeExpectancy_PageLifeExpectancy
                format: '%7.2lf%s'
          Batch Requests:
            units: batches/sec
            miny: 0
            graphpoints:
              Batches:
                dpName: BatchRequestsPerSec_BatchRequestsPerSec
                format: '%7.2lf%s'
          Compilations:
            units: compilatios/sec
            miny: 0
            graphpoints:
              Compilations:
                dpName: SQLCompilationsPerSec_SQLCompilationsPerSec
                format: '%7.2lf%s'
              Re-Compilations:
                dpName: SQLReCompilationsPerSec_SQLReCompilationsPerSec
                format: '%7.2lf%s'
          Connections:
            units: connections
            miny: 0
            graphpoints:
              User Connections:
                dpName: UserConnections_UserConnections
                format: '%7.2lf%s'
          Lock Waits:
            units: lock waits/sec
            miny: 0
            graphpoints:
              Locks:
                dpName: LockWaitsPerSec_LockWaitsPerSec
                format: '%7.2lf%s'
          Page Splits:
            units: page splits/sec
            miny: 0
            graphpoints:
              Splits:
                dpName: PageSplitsPerSec_PageSplitsPerSec
                format: '%7.2lf%s'
          Processes Blocked:
            units: processes
            miny: 0
            graphpoints:
              Processes:
                dpName: ProcessesBlocked_ProcessesBlocked
                format: '%7.2lf%s'
          Checkpoint Pages:
            units: checkpoint pages/sec
            miny: 0
            graphpoints:
              Pages:
                dpName: CheckpointPagesPerSec_CheckpointPagesPerSec
                format: '%7.2lf%s'
          Deadlocks:
            units: deadlocks/sec
            miny: 0
            graphpoints:
              Deadlocks:
                dpName: DeadlocksPerSec_DeadlocksPerSec
                format: '%7.2lf%s'
      Active Directory 2003:
        description: Microsoft Active Directory
        thresholds:
          ldapBindTimeCrit:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 5
            maxval: '30'
          ldapBindTimeErr:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 4
            maxval: '15'
          ldapBindTimeWarn:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            maxval: '5'
        datasources:
          ldapNewConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP New Connections/sec
          ldapSuccessfulBinds:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSuccessfulBinds:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Successful Binds/sec
          dsSearchSuboperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsSearchSuboperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Search sub-operations/sec
          dsThreadsInUse:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsThreadsInUse:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Threads in Use
          ldapBindTime:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapBindTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Bind Time
          kdcTgsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcTgsRequests:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\KDC TGS Requests
          SystemLog:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SystemLog
            strategy: DCDiag
          PortCheck:
            type: Windows PortCheck
            severity: 4
            cycletime: '1800'
            ports: '[{"port": "9389", "desc": "Traffic:SOAP. Usage:Web Services"},{"port":
              "3268", "desc": "Traffic:LDAP GC; Usage:Directory, Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "3269",
              "desc": "Traffic:LDAP GC SSL; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "88", "desc":
              "Traffic:Kerberos; Usage:User and Computer Authentication, Forest Level
              Trusts"},{"port": "464", "desc": "Traffic:Kerberos change/set password.
              Usage:Replication, User and Computer Authentication, Trusts"},{"port":
              "389", "desc": "Traffic:LDAP; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "636", "desc":
              "Traffic:LDAP SSL; Usage:Directory, Replication, User and Computer Authentication,
              Group Policy, Trusts"},{"port": "445", "desc": "Traffic:SMB,CIFS,SMB2,
              DFSN, LSARPC, NbtSS, NetLogonR, SamR, SrvSvc; Usage:Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "135",
              "desc": "Traffic:RPC, EPM; Usage:Replication"},{"port": "5722", "desc":
              "Traffic:RPC, DFSR (SYSVOL); Usage:File Replication"}]'
          dsServerNameTranslationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerNameTranslationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Server Name Translations/sec
          MachineAccount:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: MachineAccount
            strategy: DCDiag
          dsServerBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Server Binds/sec
          FSMOCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FSMOCheck
            strategy: DCDiag
          dsDirectoryReadsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryReadsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Reads/sec
          DFSREvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: DFSREvent
            strategy: DCDiag
          ldapActiveThreads:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapActiveThreads:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Active Threads
          ntlmAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ntlmAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\NTLM Authentications
          LocatorCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: LocatorCheck
            strategy: DCDiag
          NetLogons:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NetLogons
            strategy: DCDiag
          dsClientBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsClientBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Client Binds/sec
          kdcAsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcAsRequests:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\KDC AS Requests
          VerifyEnterpriseReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyEnterpriseReferences
            strategy: DCDiag
          dsDirectoryWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Writes/sec
          Services:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Services
            strategy: DCDiag
          ldapWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Writes/sec
          SysVolCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SysVolCheck
            strategy: DCDiag
          NCSecDesc:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NCSecDesc
            strategy: DCDiag
          kerberosAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kerberosAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\Kerberos Authentications
          ldapClientSessions:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClientSessions:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Client Sessions
          CrossRefValidation:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CrossRefValidation
            strategy: DCDiag
          ldapSearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Searches/sec
          Replications:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Replications
            strategy: DCDiag
          ldapUdpOperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapUdpOperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP UDP operations/sec
          Advertising:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Advertising
            strategy: DCDiag
          FrsEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FrsEvent
            strategy: DCDiag
          ldapNewSSLConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewSSLConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP New SSL Connections/sec
          VerifyReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyReferences
            strategy: DCDiag
          ldapClosedConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClosedConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Closed Connections/sec
          CheckSDRefDom:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CheckSDRefDom
            strategy: DCDiag
          dsNotifyQueueSize:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNotifyQueueSize:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Notify Queue Size
          dsNameCacheHitRate:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNameCacheHitRate:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Name Cache hit rate
          RidManager:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: RidManager
            strategy: DCDiag
          KnowsOfRoleHolders:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KnowsOfRoleHolders
            strategy: DCDiag
          KccEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KccEvent
            strategy: DCDiag
          dsDirectorySearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectorySearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Searches/sec
          ObjectsReplicated:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: ObjectsReplicated
            strategy: DCDiag
        graphs:
          Authentication Rate:
            units: auths/sec
            miny: 0
            graphpoints:
              Kerberos:
                dpName: kerberosAuthentications_kerberosAuthentications
                format: '%7.2lf%s'
              NTLM:
                dpName: ntlmAuthentications_ntlmAuthentications
                format: '%7.2lf%s'
          Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              LDAP New:
                dpName: ldapNewConnectionsSec_ldapNewConnectionsSec
                format: '%7.2lf%s'
              LDAP New SSL:
                dpName: ldapNewSSLConnectionsSec_ldapNewSSLConnectionsSec
                format: '%7.2lf%s'
              LDAP Closed:
                dpName: ldapClosedConnectionsSec_ldapClosedConnectionsSec
                format: '%7.2lf%s'
          KDC Requests:
            units: requests
            miny: 0
            graphpoints:
              AS:
                dpName: kdcAsRequests_kdcAsRequests
                format: '%7.2lf%s'
              TGS:
                dpName: kdcTgsRequests_kdcTgsRequests
                format: '%7.2lf%s'
          Bind Time:
            units: ms
            miny: 0
            graphpoints:
              LDAP:
                dpName: ldapBindTime_ldapBindTime
                format: '%7.2lf%s'
          Bind Rate:
            units: binds/sec
            miny: 0
            graphpoints:
              DS Client:
                dpName: dsClientBindsSec_dsClientBindsSec
                format: '%7.2lf%s'
              DS Server:
                dpName: dsServerBindsSec_dsServerBindsSec
                format: '%7.2lf%s'
              LDAP Success:
                dpName: ldapSuccessfulBinds_ldapSuccessfulBinds
                format: '%7.2lf%s'
          Operation Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              DS Searches:
                dpName: dsDirectorySearchesSec_dsDirectorySearchesSec
                format: '%7.2lf%s'
              DS Sub-Search:
                dpName: dsSearchSuboperationsSec_dsSearchSuboperationsSec
                format: '%7.2lf%s'
              DS Name Translations:
                dpName: dsServerNameTranslationsSec_dsServerNameTranslationsSec
                format: '%7.2lf%s'
              DS Reads:
                dpName: dsDirectoryReadsSec_dsDirectoryReadsSec
                format: '%7.2lf%s'
              DS Writes:
                dpName: dsDirectoryWritesSec_dsDirectoryWritesSec
                format: '%7.2lf%s'
              LDAP Searches:
                dpName: ldapSearchesSec_ldapSearchesSec
                format: '%7.2lf%s'
              LDAP UDP:
                dpName: ldapUdpOperationsSec_ldapUdpOperationsSec
                format: '%7.2lf%s'
              LDAP Writes:
                dpName: ldapWritesSec_ldapWritesSec
                format: '%7.2lf%s'
          Sessions:
            units: sessions
            miny: 0
            graphpoints:
              LDAP Client:
                dpName: ldapClientSessions_ldapClientSessions
                format: '%7.2lf%s'
          Queue Size:
            units: notifications
            miny: 0
            graphpoints:
              DS Notify:
                dpName: dsNotifyQueueSize_dsNotifyQueueSize
                format: '%7.2lf%s'
          Cache Hit Rate:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              DS Name:
                dpName: dsNameCacheHitRate_dsNameCacheHitRate
                format: '%7.2lf%%'
          Threads:
            units: threads
            miny: 0
            graphpoints:
              DS In Use:
                dpName: dsThreadsInUse_dsThreadsInUse
                format: '%7.2lf%s'
              LDAP Active:
                dpName: ldapActiveThreads_ldapActiveThreads
                format: '%7.2lf%s'
      WinDatabase:
        description: Microsoft SQL Server per-database monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLDatabase
        datasources:
          LogFileSize:
            type: Windows Shell
            datapoints:
              LogFileSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logsize__kbytes: null}
            cycletime: '300'
            resource: Log File(s) Size (KB)
            strategy: powershell MSSQL
          LogCacheReadsSec:
            type: Windows Shell
            datapoints:
              LogCacheReadsSec:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Log Cache Reads/sec
            strategy: powershell MSSQL
          CacheHitRatio:
            type: Windows Shell
            datapoints:
              CacheHitRatio:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {cachehitratio__pct: null}
            cycletime: '300'
            resource: Cache Hit Ratio
            strategy: powershell MSSQL
          LogCacheHitRatio:
            type: Windows Shell
            datapoints:
              LogCacheHitRatio:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logcachehitratio__pct: null}
            cycletime: '300'
            resource: Log Cache Hit Ratio
            strategy: powershell MSSQL
          CacheEntriesCount:
            type: Windows Shell
            datapoints:
              CacheEntriesCount:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {cacheentries: null}
            cycletime: '300'
            resource: Cache Entries Count
            strategy: powershell MSSQL
          CacheHitRatioBase:
            type: Windows Shell
            datapoints:
              CacheHitRatioBase:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Cache Hit Ratio Base
            strategy: powershell MSSQL
          DBCCLogicalScanBytesSec:
            type: Windows Shell
            datapoints:
              DBCCLogicalScanBytesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {dbcclogicalscanbytes__sec: null}
            cycletime: '300'
            resource: DBCC Logical Scan Bytes/sec
            strategy: powershell MSSQL
          LogFlushWaitsSec:
            type: Windows Shell
            datapoints:
              LogFlushWaitsSec:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Log Flush Waits/sec
            strategy: powershell MSSQL
          ShrinkDataMovementBytesSec:
            type: Windows Shell
            datapoints:
              ShrinkDataMovementBytesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {shrinkdatamovementbytes__sec: null}
            cycletime: '300'
            resource: Shrink Data Movement Bytes/sec
            strategy: powershell MSSQL
          PercentLogUsed:
            type: Windows Shell
            datapoints:
              PercentLogUsed:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logused__pct: null}
            cycletime: '300'
            resource: Percent Log Used
            strategy: powershell MSSQL
          BulkCopyRowsSec:
            type: Windows Shell
            datapoints:
              BulkCopyRowsSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {bulkcopyrows__sec: null}
            cycletime: '300'
            resource: Bulk Copy Rows/sec
            strategy: powershell MSSQL
          LogFileUsedSize:
            type: Windows Shell
            datapoints:
              LogFileUsedSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logsizeused__kbytes: null}
            cycletime: '300'
            resource: Log File(s) Used Size (KB)
            strategy: powershell MSSQL
          LogGrowths:
            type: Windows Shell
            datapoints:
              LogGrowths:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {loggrowths__sec: null}
            cycletime: '300'
            resource: Log Growths
            strategy: powershell MSSQL
          LogTruncations:
            type: Windows Shell
            datapoints:
              LogTruncations:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logtruncations__sec: null}
            cycletime: '300'
            resource: Log Truncations
            strategy: powershell MSSQL
          LogFlushWaitTime:
            type: Windows Shell
            datapoints:
              LogFlushWaitTime:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logflushwaittime__sec: null}
            cycletime: '300'
            resource: Log Flush Wait Time
            strategy: powershell MSSQL
          LogShrinks:
            type: Windows Shell
            datapoints:
              LogShrinks:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logshrinks__sec: null}
            cycletime: '300'
            resource: Log Shrinks
            strategy: powershell MSSQL
          BulkCopyThroughputSec:
            type: Windows Shell
            datapoints:
              BulkCopyThroughputSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {bulkcopythroughput__sec: null}
            cycletime: '300'
            resource: Bulk Copy Throughput/sec
            strategy: powershell MSSQL
          LogBytesFlushedSec:
            type: Windows Shell
            datapoints:
              LogBytesFlushedSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logbytesflushed__sec: null}
            cycletime: '300'
            resource: Log Bytes Flushed/sec
            strategy: powershell MSSQL
          LogFlushesSec:
            type: Windows Shell
            datapoints:
              LogFlushesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logflushes__sec: null}
            cycletime: '300'
            resource: Log Flushes/sec
            strategy: powershell MSSQL
          ReplPendingXacts:
            type: Windows Shell
            datapoints:
              ReplPendingXacts:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
            resource: Repl. Pending Xacts
            strategy: powershell MSSQL
          TransactionsSec:
            type: Windows Shell
            datapoints:
              TransactionsSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {transactions__sec: null}
            cycletime: '300'
            resource: Transactions/sec
            strategy: powershell MSSQL
          CacheEntriesPinnedCount:
            type: Windows Shell
            datapoints:
              CacheEntriesPinnedCount:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {cacheentriespinned: null}
            cycletime: '300'
            resource: Cache Entries Pinned Count
            strategy: powershell MSSQL
          ActiveTransactions:
            type: Windows Shell
            datapoints:
              ActiveTransactions:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {activetransactions: null}
            cycletime: '300'
            resource: Active Transactions
            strategy: powershell MSSQL
          BackupRestoreThroughputSec:
            type: Windows Shell
            datapoints:
              BackupRestoreThroughputSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {backuprestorethroughput__sec: null}
            cycletime: '300'
            resource: Backup/Restore Throughput/sec
            strategy: powershell MSSQL
          DataFileSize:
            type: Windows Shell
            datapoints:
              DataFileSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {filesize__kbytes: null}
            cycletime: '300'
            resource: Data File(s) Size (KB)
            strategy: powershell MSSQL
          ReplTransRate:
            type: Windows Shell
            datapoints:
              ReplTransRate:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {repltransactions__sec: null}
            cycletime: '300'
            resource: Repl. Trans. Rate
            strategy: powershell MSSQL
          LogCacheHitRatioBase:
            type: Windows Shell
            datapoints:
              LogCacheHitRatioBase:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logcachehitratiobase__pct: null}
            cycletime: '300'
            resource: Log Cache Hit Ratio Base
            strategy: powershell MSSQL
          status:
            type: Windows Shell
            eventClass: /Status
            datapoints:
              status:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
            resource: status
            strategy: powershell MSSQL
        graphs:
          Transactions:
            units: transactions
            miny: 0
            graphpoints:
              Active:
                dpName: ActiveTransactions_ActiveTransactions
                format: '%7.0lf'
          Transaction Rates:
            units: transactions/sec
            miny: 0
            graphpoints:
              Normal:
                dpName: TransactionsSec_TransactionsSec
                format: '%7.2lf%s'
              Replication:
                dpName: ReplTransRate_ReplTransRate
                format: '%7.2lf%s'
          Cache Entries:
            units: entries
            miny: 0
            graphpoints:
              Total:
                dpName: CacheEntriesCount_CacheEntriesCount
                format: '%7.2lf%s'
              Pinned:
                dpName: CacheEntriesPinnedCount_CacheEntriesPinnedCount
                format: '%7.2lf%s'
          Cache Hit Ratio:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Base:
                dpName: CacheHitRatioBase_CacheHitRatioBase
                lineType: DONTDRAW
              Hit:
                dpName: CacheHitRatio_CacheHitRatio
                format: '%7.2lf%%'
                rpn: Base,/,100,*,0,MAX,100,MIN
                color: 00cc00
          Data File Size:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: DataFileSize_DataFileSize
                format: '%7.2lf%s'
                rpn: 1024,*
          Log File Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Used:
                dpName: PercentLogUsed_PercentLogUsed
                format: '%7.2lf%%'
          Log File Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: LogFileSize_LogFileSize
                format: '%7.2lf%s'
                rpn: 1024,*
                color: '000000'
              Used:
                dpName: LogFileUsedSize_LogFileUsedSize
                lineType: AREA
                format: '%7.2lf%s'
                rpn: 1024,*
                color: 00cc00
          Log Operation Rates:
            units: operations/sec
            miny: 0
            graphpoints:
              Growths:
                dpName: LogGrowths_LogGrowths
                format: '%7.2lf%s'
              Shrinks:
                dpName: LogShrinks_LogShrinks
                format: '%7.2lf%s'
              Truncations:
                dpName: LogTruncations_LogTruncations
                format: '%7.2lf%s'
          Log Flush Latency:
            units: seconds
            miny: 0
            graphpoints:
              Wait Time:
                dpName: LogFlushWaitTime_LogFlushWaitTime
                format: '%7.2lf%s'
                rpn: 1000,/
          Log Flush Rates:
            units: per/sec
            miny: 0
            graphpoints:
              Flushes:
                dpName: LogFlushesSec_LogFlushesSec
                format: '%7.2lf%s'
              Waits:
                dpName: LogFlushWaitsSec_LogFlushWaitsSec
                format: '%7.2lf%s'
          Log Flush Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: LogBytesFlushedSec_LogBytesFlushedSec
                format: '%7.2lf%s'
          Log Cache Hit Ratio:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Base:
                dpName: LogCacheHitRatioBase_LogCacheHitRatioBase
                lineType: DONTDRAW
              Hit:
                dpName: LogCacheHitRatio_LogCacheHitRatio
                format: '%7.2lf%%'
                rpn: Base,/,100,*,0,MAX,100,MIN
                color: 00cc00
          Log Cache Throughput:
            units: operations/sec
            miny: 0
            graphpoints:
              Reads:
                dpName: LogCacheReadsSec_LogCacheReadsSec
                format: '%7.2lf%s'
          Bulk Copy Rates:
            units: per/sec
            miny: 0
            graphpoints:
              Rows:
                dpName: BulkCopyRowsSec_BulkCopyRowsSec
                format: '%7.2lf%s'
          Bulk Copy Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Bytes:
                dpName: BulkCopyThroughputSec_BulkCopyThroughputSec
                format: '%7.2lf%s'
          Replication:
            units: transactions
            miny: 0
            graphpoints:
              Pending:
                dpName: ReplPendingXacts_ReplPendingXacts
                format: '%7.2lf%s'
          Backup and Restore Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: BackupRestoreThroughputSec_BackupRestoreThroughputSec
                format: '%7.2lf%s'
          Database Console Commands (DBCC) Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Logical Scan:
                dpName: DBCCLogicalScanBytesSec_DBCCLogicalScanBytesSec
                format: '%7.2lf%s'
              Shrink Data:
                dpName: ShrinkDataMovementBytesSec_ShrinkDataMovementBytesSec
                format: '%7.2lf%s'
      FileSystem:
        description: Microsoft Windows file system monitoring.
        targetPythonClass: Products.ZenModel.FileSystem
        thresholds:
          low disk space:
            dsnames: [FreeMegabytes_FreeMegabytes]
            eventClass: /Perf/Filesystem
            minval: here.totalBlocks * here.blockSize / 1024 / 1024 * .1
        datasources:
          DiskReadTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadTime:
                rrdtype: GAUGE
                aliases: {diskreadtime: null}
            counter: \% Disk Read Time
          DiskWriteBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteBytesSec:
                rrdtype: GAUGE
                aliases: {diskwritebytes__sec: null}
            counter: \Disk Write Bytes/sec
          DiskWriteTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteTime:
                rrdtype: GAUGE
                aliases: {diskwritetime: null}
            counter: \% Disk Write Time
          DiskReadBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadBytesSec:
                rrdtype: GAUGE
                aliases: {diskreadbytes__sec: null}
            counter: \Disk Read Bytes/sec
          FreeMegabytes:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              FreeMegabytes:
                rrdtype: GAUGE
                aliases: {usedFilesystemSpace__bytes: '1024,*,1024,*,${here/totalBytes},EXC,-',
                          usedfilesystemspace__bytes: '1024,*,1024,*,${here/totalBytes},EXC,-'}
            counter: \Free Megabytes
        graphs:
          Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Used:
                dpName: FreeMegabytes_FreeMegabytes
                lineType: AREA
                format: '%7.2lf%%'
                rpn: 1048576,*,${here/totalBlocks},/,${here/blockSize},/,100,*,100,-,-1,*
          Disk Size:
            units: Gigabytes
            miny: 0
            graphpoints:
              Size:
                dpName: FreeMegabytes_FreeMegabytes
                format: '%7.2lf%s'
                rpn: 1024,/,${here/usedBytes},1073741824,/,+
          Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadBytesSec_DiskReadBytesSec
                format: '%7.2lf%s'
              Write:
                dpName: DiskWriteBytesSec_DiskWriteBytesSec
                format: '%7.2lf%s'
          Average Disk Queue Length Percentage:
            units: percent
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadTime_DiskReadTime
                format: '%7.2lf%%'
              Write:
                dpName: DiskWriteTime_DiskWriteTime
                format: '%7.2lf%%'
      Device:
        description: Microsoft Windows server monitoring.
        thresholds:
          CPU Utilization:
            dsnames: [ProcessorTotalProcessorTime_ProcessorTotalProcessorTime]
            eventClass: /Perf/CPU
            maxval: '90'
          Paging File Usage:
            dsnames: [PagingFileTotalUsage_PagingFileTotalUsage]
            eventClass: /Perf
            maxval: '95'
          Memory:
            dsnames: [MemoryAvailableBytes_MemoryAvailableBytes]
            eventClass: /Perf/Memory
            minval: here.hw.totalMemory * .1
        datasources:
          sysUpTime:
            type: Windows Perfmon
            datapoints:
              sysUpTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \System\System Up Time
          MemoryAvailableBytes:
            type: Windows Perfmon
            datapoints:
              MemoryAvailableBytes:
                rrdtype: GAUGE
                aliases: {memoryAvailable__bytes: null, memoryavailable__bytes: null}
            counter: \Memory\Available bytes
          ProcessorTotalProcessorTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalProcessorTime:
                rrdtype: GAUGE
                aliases: {cpu__pct: null}
            counter: \Processor(_Total)\% Processor Time
          MemoryPagesOutputSec:
            type: Windows Perfmon
            datapoints:
              MemoryPagesOutputSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Pages Output/sec
          WinRMPing:
            type: WinRM Ping
            enabled: false
          ProcessorTotalUserTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalUserTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Processor(_Total)\% User Time
          ProcessorTotalPrivilegedTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalPrivilegedTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Processor(_Total)\% Privileged Time
          MemoryPagesInputSec:
            type: Windows Perfmon
            datapoints:
              MemoryPagesInputSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Pages Input/sec
          PagingFileTotalUsage:
            type: Windows Perfmon
            datapoints:
              PagingFileTotalUsage:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Paging File(_Total)\% Usage
          MemoryCommittedBytes:
            type: Windows Perfmon
            datapoints:
              MemoryCommittedBytes:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Committed Bytes
        graphs:
          CPU Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Total:
                dpName: ProcessorTotalProcessorTime_ProcessorTotalProcessorTime
                format: '%7.2lf%%'
                includeThresholds: true
              Privileged:
                dpName: ProcessorTotalPrivilegedTime_ProcessorTotalPrivilegedTime
                format: '%7.2lf%%'
              User:
                dpName: ProcessorTotalUserTime_ProcessorTotalUserTime
                format: '%7.2lf%%'
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Available:
                dpName: MemoryAvailableBytes_MemoryAvailableBytes
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Committed:
                dpName: MemoryCommittedBytes_MemoryCommittedBytes
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
                includeThresholds: true
          Memory Paging:
            units: pages/sec
            miny: 0
            graphpoints:
              Input:
                dpName: MemoryPagesInputSec_MemoryPagesInputSec
                format: '%7.2lf%s'
              Output:
                dpName: MemoryPagesOutputSec_MemoryPagesOutputSec
                format: '%7.2lf%s'
          Paging File Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Total Usage:
                dpName: PagingFileTotalUsage_PagingFileTotalUsage
                lineType: AREA
                format: '%7.2lf%%'
                includeThresholds: true
      WinService:
        description: Microsoft Windows per-service monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            severity: 5
            cycletime: '300'
            startmode: None
          state:
            type: 'Built-In'
            component: ${here/id}
            datapoints:
              state: GAUGE


      Active Directory:
        description: Microsoft Active Directory
        thresholds:
          ldapBindTimeCrit:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 5
            maxval: '30'
          ldapBindTimeErr:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 4
            maxval: '15'
          ldapBindTimeWarn:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            maxval: '5'
        datasources:
          ldapNewConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapnewconnections__sec: null}
            counter: \NTDS\LDAP New Connections/sec
          ldapSuccessfulBinds:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSuccessfulBinds:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapsuccessfulbinds: null}
            counter: \NTDS\LDAP Successful Binds/sec
          dsSearchSuboperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsSearchSuboperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dssearchsuboperations__sec: null}
            counter: \NTDS\DS Search sub-operations/sec
          dsThreadsInUse:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsThreadsInUse:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsthreadsinuse: null}
            counter: \NTDS\DS Threads in Use
          ldapBindTime:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapBindTime:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapbindtime: null}
            counter: \NTDS\LDAP Bind Time
          kdcTgsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcTgsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kdctgsrequests: null}
            counter: \Security System-Wide Statistics\KDC TGS Requests
          SystemLog:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SystemLog
            strategy: DCDiag
          PortCheck:
            type: Windows PortCheck
            severity: 4
            cycletime: '1800'
            ports: '[{"port": "9389", "desc": "Traffic:SOAP. Usage:Web Services"},{"port":
              "3268", "desc": "Traffic:LDAP GC; Usage:Directory, Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "3269",
              "desc": "Traffic:LDAP GC SSL; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "88", "desc":
              "Traffic:Kerberos; Usage:User and Computer Authentication, Forest Level
              Trusts"},{"port": "464", "desc": "Traffic:Kerberos change/set password.
              Usage:Replication, User and Computer Authentication, Trusts"},{"port":
              "389", "desc": "Traffic:LDAP; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "636", "desc":
              "Traffic:LDAP SSL; Usage:Directory, Replication, User and Computer Authentication,
              Group Policy, Trusts"},{"port": "445", "desc": "Traffic:SMB,CIFS,SMB2,
              DFSN, LSARPC, NbtSS, NetLogonR, SamR, SrvSvc; Usage:Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "135",
              "desc": "Traffic:RPC, EPM; Usage:Replication"}]'
          dsServerNameTranslationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerNameTranslationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsservernametranslations__sec: null}
            counter: \NTDS\DS Server Name Translations/sec
          MachineAccount:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: MachineAccount
            strategy: DCDiag
          dsServerBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsserverbinds__sec: null}
            counter: \NTDS\DS Server Binds/sec
          FSMOCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FSMOCheck
            strategy: DCDiag
          dsDirectoryReadsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryReadsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsdirectoryreads__sec: null}
            counter: \NTDS\DS Directory Reads/sec
          DFSREvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: DFSREvent
            strategy: DCDiag
          ldapActiveThreads:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapActiveThreads:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapactivethreads: null}
            counter: \NTDS\LDAP Active Threads
          ntlmAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ntlmAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ntlmauthentications: null}
            counter: \Security System-Wide Statistics\NTLM Authentications
          LocatorCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: LocatorCheck
            strategy: DCDiag
          NetLogons:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NetLogons
            strategy: DCDiag
          dsClientBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsClientBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsclientbinds__sec: null}
            counter: \NTDS\DS Client Binds/sec
          kdcAsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcAsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kdcasrequests: null}
            counter: \Security System-Wide Statistics\KDC AS Requests
          VerifyEnterpriseReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyEnterpriseReferences
            strategy: DCDiag
          dsDirectoryWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsdirectorywrites__sec: null}
            counter: \NTDS\DS Directory Writes/sec
          Services:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Services
            strategy: DCDiag
          ldapWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapwrites__sec: null}
            counter: \NTDS\LDAP Writes/sec
          SysVolCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SysVolCheck
            strategy: DCDiag
          NCSecDesc:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NCSecDesc
            strategy: DCDiag
          kerberosAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kerberosAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kerberosauthentications: null}
            counter: \Security System-Wide Statistics\Kerberos Authentications
          ldapClientSessions:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClientSessions:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapclientsessions: null}
            counter: \NTDS\LDAP Client Sessions
          CrossRefValidation:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CrossRefValidation
            strategy: DCDiag
          ldapSearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapsearches__sec: null}
            counter: \NTDS\LDAP Searches/sec
          Replications:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Replications
            strategy: DCDiag
          ldapUdpOperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapUdpOperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapudpoperations__sec: null}
            counter: \NTDS\LDAP UDP operations/sec
          Advertising:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Advertising
            strategy: DCDiag
          FrsEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FrsEvent
            strategy: DCDiag
          ldapNewSSLConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewSSLConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapnewsslconnections__sec: null}
            counter: \NTDS\LDAP New SSL Connections/sec
          VerifyReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyReferences
            strategy: DCDiag
          ldapClosedConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClosedConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapclosedconnections__sec: null}
            counter: \NTDS\LDAP Closed Connections/sec
          CheckSDRefDom:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CheckSDRefDom
            strategy: DCDiag
          dsNotifyQueueSize:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNotifyQueueSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsnotifyqueuesize: null}
            counter: \NTDS\DS Notify Queue Size
          dsNameCacheHitRate:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNameCacheHitRate:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsnamecachehitrate__pct: null}
            counter: \NTDS\DS Name Cache hit rate
          RidManager:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: RidManager
            strategy: DCDiag
          KnowsOfRoleHolders:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KnowsOfRoleHolders
            strategy: DCDiag
          KccEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KccEvent
            strategy: DCDiag
          dsDirectorySearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectorySearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsdirectorysearches__sec: null}
            counter: \NTDS\DS Directory Searches/sec
          ObjectsReplicated:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: ObjectsReplicated
            strategy: DCDiag
        graphs:
          Authentication Rate:
            units: auths/sec
            miny: 0
            graphpoints:
              Kerberos:
                dpName: kerberosAuthentications_kerberosAuthentications
                format: '%7.2lf%s'
              NTLM:
                dpName: ntlmAuthentications_ntlmAuthentications
                format: '%7.2lf%s'
          Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              LDAP New:
                dpName: ldapNewConnectionsSec_ldapNewConnectionsSec
                format: '%7.2lf%s'
              LDAP New SSL:
                dpName: ldapNewSSLConnectionsSec_ldapNewSSLConnectionsSec
                format: '%7.2lf%s'
              LDAP Closed:
                dpName: ldapClosedConnectionsSec_ldapClosedConnectionsSec
                format: '%7.2lf%s'
          KDC Requests:
            units: requests
            miny: 0
            graphpoints:
              AS:
                dpName: kdcAsRequests_kdcAsRequests
                format: '%7.2lf%s'
              TGS:
                dpName: kdcTgsRequests_kdcTgsRequests
                format: '%7.2lf%s'
          Bind Time:
            units: ms
            miny: 0
            graphpoints:
              LDAP:
                dpName: ldapBindTime_ldapBindTime
                format: '%7.2lf%s'
          Bind Rate:
            units: binds/sec
            miny: 0
            graphpoints:
              DS Client:
                dpName: dsClientBindsSec_dsClientBindsSec
                format: '%7.2lf%s'
              DS Server:
                dpName: dsServerBindsSec_dsServerBindsSec
                format: '%7.2lf%s'
              LDAP Success:
                dpName: ldapSuccessfulBinds_ldapSuccessfulBinds
                format: '%7.2lf%s'
          Operation Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              DS Searches:
                dpName: dsDirectorySearchesSec_dsDirectorySearchesSec
                format: '%7.2lf%s'
              DS Sub-Search:
                dpName: dsSearchSuboperationsSec_dsSearchSuboperationsSec
                format: '%7.2lf%s'
              DS Name Translations:
                dpName: dsServerNameTranslationsSec_dsServerNameTranslationsSec
                format: '%7.2lf%s'
              DS Reads:
                dpName: dsDirectoryReadsSec_dsDirectoryReadsSec
                format: '%7.2lf%s'
              DS Writes:
                dpName: dsDirectoryWritesSec_dsDirectoryWritesSec
                format: '%7.2lf%s'
              LDAP Searches:
                dpName: ldapSearchesSec_ldapSearchesSec
                format: '%7.2lf%s'
              LDAP UDP:
                dpName: ldapUdpOperationsSec_ldapUdpOperationsSec
                format: '%7.2lf%s'
              LDAP Writes:
                dpName: ldapWritesSec_ldapWritesSec
                format: '%7.2lf%s'
          Sessions:
            units: sessions
            miny: 0
            graphpoints:
              LDAP Client:
                dpName: ldapClientSessions_ldapClientSessions
                format: '%7.2lf%s'
          Queue Size:
            units: notifications
            miny: 0
            graphpoints:
              DS Notify:
                dpName: dsNotifyQueueSize_dsNotifyQueueSize
                format: '%7.2lf%s'
          Cache Hit Rate:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              DS Name:
                dpName: dsNameCacheHitRate_dsNameCacheHitRate
                format: '%7.2lf%%'
          Threads:
            units: threads
            miny: 0
            graphpoints:
              DS In Use:
                dpName: dsThreadsInUse_dsThreadsInUse
                format: '%7.2lf%s'
              LDAP Active:
                dpName: ldapActiveThreads_ldapActiveThreads
                format: '%7.2lf%s'
      OSProcess-2003:
        description: Microsoft Windows 2003 per-process monitoring.
        targetPythonClass: Products.ZenModel.OSProcess
        thresholds:
          count:
            dsnames: [process_count]
            eventClass: /Status/OSProcess
            minval: here.getMinProcessCount()
            maxval: here.getMaxProcessCount()
        datasources:
          process:
            type: Windows Process
            datapoints:
              count:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSet:
                rrdtype: GAUGE
                rrdmin: 0
              PercentProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
        graphs:
          Running Processes:
            units: processes
            miny: 0
            graphpoints:
              Count:
                dpName: process_count
                format: '%7.0lf'
          CPU Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Processor Time:
                dpName: process_PercentProcessorTime
                format: '%7.2lf%%'
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Total Working Set:
                dpName: process_WorkingSet
                format: '%7.2lf%s'
      MSExchange2013IS:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisrpcaveragedlatency: null}
            counter: \MSExchange Store Interface(_Total)\RPC Latency average (msec)
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisrpcoperations__sec: null}
            counter: \MSExchange Store Interface(_Total)\RPC Requests sent/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpserverlocalqueuelength: null}
            counter: \MSExchangeTransport Queues(_Total)\Active Mailbox Delivery Queue
              Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpservermsgsdelivered__sec: null}
            counter: \MSExchange Delivery SmtpSend(_Total)\Messages Sent/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseismailboxlocaldeliveryrate: null}
            counter: \MSExchangeIS Store(_Total)\Messages Delivered/sec
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseismailboxmessageopens__sec: null}
            counter: \MSExchangeIS Store(_Total)\Messages opened/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisrpcrequests: null}
            counter: \MSExchange Store Interface(_Total)\RPC Requests sent
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseismailboxfolderopens__sec: null}
            counter: \MSExchangeIS Store(_Total)\Folders opened/sec
        graphs:
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Folder Opens:
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
              Message Opens:
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              Messages Delivered:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
          Exchange - RPC Requests Sent:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
          Exchange - RPC Requests Sent per Sec:
            units: requests/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          SMTP Server - Active Delivery Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
      IISSites:
        description: Microsoft IIS site monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinIIS
        datasources:
          sitecheck:
            type: Windows IIS Site
            eventClass: /Status/IIS
            cycletime: '300'
            datapoints:
              status:
                rrdtype: GAUGE
              appPoolState:
                rrdtype: GAUGE
          iisPostRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPostRequests:
                rrdtype: GAUGE
                aliases: {iissitepostrequests__sec: null}
            counter: \Web Service(${here/sitename})\Post Requests/sec
          iisISAPIExtensionRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisISAPIExtensionRequests:
                rrdtype: GAUGE
                aliases: {iissiteisapiextensionreqs__sec: null}
            counter: \Web Service(${here/sitename})\ISAPI Extension Requests/sec
          iisGetRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisGetRequests:
                rrdtype: GAUGE
                aliases: {iissitegetrequests__sec: null}
            counter: \Web Service(${here/sitename})\Get Requests/sec
          iisLockRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisLockRequests:
                rrdtype: GAUGE
                aliases: {iissitelockrequests__sec: null}
            counter: \Web Service(${here/sitename})\Lock Requests/sec
          iisFilesReceived:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisFilesReceived:
                rrdtype: GAUGE
                aliases: {iissitefilesreceived__sec: null}
            counter: \Web Service(${here/sitename})\Files Received/sec
          iisCopyRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCopyRequests:
                rrdtype: GAUGE
                aliases: {iissitecopyrequests__sec: null}
            counter: \Web Service(${here/sitename})\Copy Requests/sec
          iisConnectionAttempts:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisConnectionAttempts:
                rrdtype: GAUGE
                aliases: {iissiteconnectionattempts__sec: null}
            counter: \Web Service(${here/sitename})\Connection Attempts/sec
          iisOtherRequestMethods:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisOtherRequestMethods:
                rrdtype: GAUGE
                aliases: {iissiteotherreqmethods__sec: null}
            counter: \Web Service(${here/sitename})\Other Request Methods/sec
          iisUnlockRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisUnlockRequests:
                rrdtype: GAUGE
                aliases: {iissiteunlockrequests__sec: null}
            counter: \Web Service(${here/sitename})\Unlock Requests/sec
          iisSearchRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisSearchRequests:
                rrdtype: GAUGE
                aliases: {iissitesearchrequests__sec: null}
            counter: \Web Service(${here/sitename})\Search Requests/sec
          iisTraceRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisTraceRequests:
                rrdtype: GAUGE
                aliases: {iissitetracerequests__sec: null}
            counter: \Web Service(${here/sitename})\Trace Requests/sec
          iisDeleteRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisDeleteRequests:
                rrdtype: GAUGE
                aliases: {iissitedeleterequests__sec: null}
            counter: \Web Service(${here/sitename})\Delete Requests/sec
          iisPropfindRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPropfindRequests:
                rrdtype: GAUGE
                aliases: {iissitepropfindrequests__sec: null}
            counter: \Web Service(${here/sitename})\Propfind Requests/sec
          iisMkcolRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisMkcolRequests:
                rrdtype: GAUGE
                aliases: {iissitemkcolrequests__sec: null}
            counter: \Web Service(${here/sitename})\Mkcol Requests/sec
          iisMoveRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisMoveRequests:
                rrdtype: GAUGE
                aliases: {iissitemoverequests__sec: null}
            counter: \Web Service(${here/sitename})\Move Requests/sec
          iisOptionsRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisOptionsRequests:
                rrdtype: GAUGE
                aliases: {iissiteoptionsrequests__sec: null}
            counter: \Web Service(${here/sitename})\Options Requests/sec
          iisPutRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPutRequests:
                rrdtype: GAUGE
                aliases: {iissiteputrequests__sec: null}
            counter: \Web Service(${here/sitename})\Put Requests/sec
          iisBytesSent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisBytesSent:
                rrdtype: GAUGE
                aliases: {iissitesent__bytes: null}
            counter: \Web Service(${here/sitename})\Bytes Sent/sec
          iisCurrentConnections:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCurrentConnections:
                rrdtype: GAUGE
                aliases: {iissitecurrentconnections: null}
            counter: \Web Service(${here/sitename})\Current Connections
          iisFilesSent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisFilesSent:
                rrdtype: GAUGE
                aliases: {iissitefilessent__sec: null}
            counter: \Web Service(${here/sitename})\Files Sent/sec
          iisBytesReceived:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisBytesReceived:
                rrdtype: GAUGE
                aliases: {iissitereceived__bytes: null}
            counter: \Web Service(${here/sitename})\Bytes Received/sec
          iisProppatchRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisProppatchRequests:
                rrdtype: GAUGE
                aliases: {iissiteproppatchrequests__sec: null}
            counter: \Web Service(${here/sitename})\Proppatch Requests/sec
          iisCGIRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCGIRequests:
                rrdtype: GAUGE
                aliases: {iissitecgirequests: null}
            counter: \Web Service(${here/sitename})\CGI Requests/sec
          iisHeadRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisHeadRequests:
                rrdtype: GAUGE
                aliases: {iissiteheadrequests__sec: null}
            counter: \Web Service(${here/sitename})\Head Requests/sec
        graphs:
          IIS - Connections:
            units: connections
            miny: 0
            graphpoints:
              Current:
                dpName: iisCurrentConnections_iisCurrentConnections
                format: '%7.0lf'
          IIS - Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              Attempts:
                dpName: iisConnectionAttempts_iisConnectionAttempts
                format: '%7.2lf%s'
          IIS - Basic Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Other Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - File Rate:
            units: files/sec
            miny: 0
            graphpoints:
              Received:
                dpName: iisFilesReceived_iisFilesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisFilesSent_iisFilesSent
                format: '%7.2lf%s'
          IIS - Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Received:
                dpName: iisBytesReceived_iisBytesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisBytesSent_iisBytesSent
                format: '%7.2lf%s'
      ethernetCsmacd:
        description: Microsoft Windows network interface monitoring.
        targetPythonClass: Products.ZenModel.IpInterface
        thresholds:
          high utilization:
            dsnames: [bytesReceivedSec_bytesReceivedSec, bytesSentSec_bytesSentSec]
            eventClass: /Status/Interface
            maxval: (here.speed or 1e9) / 8 * .75
        datasources:
          bytesSentSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              bytesSentSec:
                rrdtype: GAUGE
                aliases: {outputOctets__bytes: null, outputoctets__bytes: null}
            counter: \Bytes Sent/sec
          packetsReceivedErrors:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsReceivedErrors:
                rrdtype: GAUGE
                aliases: {ifinerrors: null}
            counter: \Packets Received Errors
          packetsSentSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsSentSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {packetssent__sec: null}
            counter: \Packets Sent/sec
          bytesReceivedSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              bytesReceivedSec:
                rrdtype: GAUGE
                aliases: {inputOctets__bytes: null, inputoctets__bytes: null}
            counter: \Bytes Received/sec
          packetsSentErrors:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsSentErrors:
                rrdtype: GAUGE
                aliases: {ifouterrors: null}
            counter: \Packets Outbound Errors
          packetsReceivedSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsReceivedSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {packetsreceived__sec: null}
            counter: \Packets Received/sec
        graphs:
          Throughput:
            units: bits/sec
            miny: 0
            graphpoints:
              Inbound:
                dpName: bytesReceivedSec_bytesReceivedSec
                format: '%7.2lf%s'
                rpn: 8,*
              Outbound:
                dpName: bytesSentSec_bytesSentSec
                format: '%7.2lf%s'
                rpn: 8,*
          Packets:
            units: packets/sec
            miny: 0
            graphpoints:
              Inbound:
                dpName: packetsReceivedSec_packetsReceivedSec
                format: '%7.2lf%s'
              Outbound:
                dpName: packetsSentSec_packetsSentSec
                format: '%7.2lf%s'
          Errors:
            units: '# of errors'
            miny: 0
            graphpoints:
              Receive:
                dpName: packetsReceivedErrors_packetsReceivedErrors
                format: '%7.2lf%s'
              Send:
                dpName: packetsSentErrors_packetsSentErrors
                format: '%7.2lf%s'
      OSProcess:
        description: Microsoft Windows per-process monitoring.
        targetPythonClass: Products.ZenModel.OSProcess
        thresholds:
          count:
            dsnames: [process_count]
            eventClass: /Status/OSProcess
            minval: here.getMinProcessCount()
            maxval: here.getMaxProcessCount()
        datasources:
          process:
            type: Windows Process
            datapoints:
              count:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSet:
                rrdtype: GAUGE
                rrdmin: 0
              PercentProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSetPrivate:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
        graphs:
          Running Processes:
            units: processes
            miny: 0
            graphpoints:
              Count:
                dpName: process_count
                format: '%7.0lf'
          CPU Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Processor Time:
                dpName: process_PercentProcessorTime
                format: '%7.2lf%%'
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Private Working Set:
                dpName: process_WorkingSetPrivate
                format: '%7.2lf%s'
              Total Working Set:
                dpName: process_WorkingSet
                format: '%7.2lf%s'
      HardDisk:
        description: Microsoft Windows file system monitoring.
        targetPythonClass: Products.ZenModel.HardDisk
        datasources:
          DiskReadTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadTime:
                rrdtype: GAUGE
                aliases: {hd_diskreadtime: null}
            counter: \PhysicalDisk(${here/instance_name})\% Disk Read Time
          DiskWriteBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteBytesSec:
                rrdtype: GAUGE
                aliases: {hd_diskwritebytes__sec: null}
            counter: \PhysicalDisk(${here/instance_name})\Disk Write Bytes/sec
          DiskWriteTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteTime:
                rrdtype: GAUGE
                aliases: {hd_diskwritetime: null}
            counter: \PhysicalDisk(${here/instance_name})\% Disk Write Time
          DiskReadBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadBytesSec:
                rrdtype: GAUGE
                aliases: {hd_diskreadbytes__sec: null}
            counter: \PhysicalDisk(${here/instance_name})\Disk Read Bytes/sec
        graphs:
          Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadBytesSec_DiskReadBytesSec
                format: '%7.2lf%s'
              Write:
                dpName: DiskWriteBytesSec_DiskWriteBytesSec
                format: '%7.2lf%s'
          Average Disk Queue Length Percentage:
            units: percent
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadTime_DiskReadTime
                format: '%7.2lf%%'
              Write:
                dpName: DiskWriteTime_DiskWriteTime
                format: '%7.2lf%%'

