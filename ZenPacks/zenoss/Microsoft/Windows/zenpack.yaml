name: ZenPacks.zenoss.Microsoft.Windows
zProperties:
  DEFAULTS:
    category: Windows
  zWinRMUser:
    default: ''
  zWinRMPassword:
    type: password
    default: ''
  zWinRMUser:
    default: ''
  zWinRMServerName:
    default: ''
  zWinRMPort:
    default: '5985'
  zDBInstances:
    type: instancecredentials
    default: '[{"instance": "MSSQLSERVER", "user": "", "passwd": ""}]'
    category: 'Misc'
  zWinKDC:
    default: ''
  zWinKeyTabFilePath:
    default: ''
  zWinScheme:
    default: 'http'
  zWinPerfmonInterval:
    default: 300
  zWinTrustedRealm:
    default: ''
  zWinTrustedKDC:
    default: ''
  zWinUseWsmanSPN:
    default: false
    type: boolean


class_relationships:
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(winrmservices) 1:MC (os)ZenPacks.zenoss.Microsoft.Windows.WinService.WinService
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(winrmiis) 1:MC (os)WinIIS
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(winsqlinstances) 1:MC (os)WinSQLInstance
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(clusterservices) 1:MC (os)ClusterService
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(clusternetworks) 1:MC (os)ClusterNetwork
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(clusternodes) 1:MC (os)ClusterNode
  - ClusterService(clusterresources) 1:MC (clusterservice)ClusterResource
  - ClusterNode(clusterdisks) 1:MC (clusternode)ClusterDisk
  - ClusterNode(clusterinterfaces) 1:MC (clusternode)ClusterInterface
  - WinSQLInstance(backups) 1:MC (winsqlinstance)WinSQLBackup
  - WinSQLInstance(databases) 1:MC (winsqlinstance)WinSQLDatabase
  - WinSQLInstance(jobs) 1:MC (winsqlinstance)WinSQLJob
  - TeamInterface(teaminterfaces) 1:M (teaminterface)Interface


classes:
  BaseDevice:
    base: [zenpacklib.Device]

  ClusterObject:
    base: [zenpacklib.OSComponent]
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      getState:
        label: State
        api_only: true
        api_backendtype: method
        grid_display: true
        order: 7
      domain:
        label: Domain
        default: ''

  ClusterNodeObject:
    base: [ClusterObject]
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      ownernode:
        label: Owner Node
      get_host_device:
        label: Cluster Node
        grid_display: true
        api_only: true
        api_backendtype: method
        type: entity
        order: 1

  Device:
    base: [BaseDevice]
    label: Device
    properties:
      clusterdevices:
        label: Cluster Devices
        default: ''
      sqlhostname:
        label: SQL Host Name
        default: None
      msexchangeversion:
        label: MS Exchange Version
        default: None
      ip_and_hostname:
        default: None
      domain_controller:
        label: MS Exchange Version
        type: boolean
        default: false
    impacts:
      - all_filesystems
      - all_processes
      - all_ipservices
      - all_cpus
      - all_interfaces
      - all_clusterservices
      - all_clusternodes
      - all_clusternetworks
      - all_winservices
      - all_hyperv
      - all_winsqlinstances
      - all_winrmiis
    impacted_by: []
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts:
        - all_filesystems
        - all_processes
        - all_ipservices
        - all_cpus
        - all_interfaces
        - all_clusterservices
        - all_clusternodes
        - all_clusternetworks
        - all_winservices
        - all_hyperv
        - all_winsqlinstances
        - all_winrmiis
      impacted_by: []

  ClusterDevice:
    base: [Device]
    properties:
      clusterhostdevices:
        label: Cluster Host Devices
        default: ''
      GUID:
        label: GUID
        default: None
      creatingdc:
        label: Creating DC
        default: None
    impacts:
      - all_filesystems
      - all_processes
      - all_ipservices
      - all_cpus
      - all_interfaces
      - all_clusterservices
      - all_clusternodes
      - all_clusternetworks
      - all_winservices
      - all_hyperv
      - all_winsqlinstances
      - all_winrmiis
    impacted_by: [all_clusterhosts]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts:
        - all_filesystems
        - all_processes
        - all_ipservices
        - all_cpus
        - all_interfaces
        - all_clusterservices
        - all_clusternodes
        - all_clusternetworks
        - all_winservices
        - all_hyperv
        - all_winsqlinstances
        - all_winrmiis
      impacted_by: [all_clusterhosts]

  ClusterResource:
    label: Cluster Resource
    base: [ClusterNodeObject]
    order: 5
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      description:
        label: Description
      ownergroup:
        label: Owner Group
        type: boolean
        default: False
    monitoring_templates: [ClusterResource]
    impacts: []
    impacted_by: [device, clusterservice]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [clusterservice]

  ClusterService:
    label: Cluster Service
    base: [ClusterNodeObject]
    order: 6
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      description:
        label: Description
      coregroup:
        label: Core Group
        type: boolean
        default: False
      priority:
        label: Priority
        type: int
        default: 0
    monitoring_templates: [ClusterService]
    impacts: [clusterresources]
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: [clusterresources]
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  ClusterNode:
    label: Cluster Node
    base: [ClusterNodeObject]
    order: 1
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      assignedvote:
        label: Assigned Vote
        grid_display: true
        order: 2
      currentvote:
        label: Current Vote
        grid_display: true
        order: 3
    monitoring_templates: [ClusterNode]
    impacts: []
    impacted_by: [clusterdisks, clusterinterfaces]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [clusterdisks, clusterinterfaces]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  ClusterDisk:
    label: Cluster Disk
    base: [ClusterNodeObject]
    order: 2
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      volumepath:
        label: Volume Path
      disknumber:
        label: Disk Number
      partitionnumber:
        label: Partition Number
      size:
        label: Size
        grid_display: true
        order: 5
      freespace:
        label: Free Space
        grid_display: true
        order: 6
      assignedto:
        label: Assigned To
        grid_display: true
        order: 2
    monitoring_templates: [ClusterDisk]
    impacts: [clusternode]
    impacted_by: []
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: [clusternode]
      impacted_by: []

  ClusterNetwork:
    label: Cluster Network
    base: [ClusterObject]
    order: 4
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      description:
        label: Description
        grid_display: true
        order: 3
      role:
        label: Cluster Use
        type: boolean
        default: False
        grid_display: true
        order: 2
    monitoring_templates: [ClusterNetwork]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  ClusterInterface:
    label: Cluster Interface
    base: [ClusterObject]
    order: 3
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      node:
        label: Node
      get_network:
        label: Network
        grid_display: true
        api_only: true
        api_backendtype: method
        type: entity
        order: 2
      network:
        label: Network
      ipaddresses:
        label: IP Addresses
        grid_display: true
        order: 3
      adapter:
        label: Adapter
    monitoring_templates: [ClusterInterface]
    impacts: [clusternode]
    impacted_by: []
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: [clusternode]
      impacted_by: []

  CPU:
    label: Processor
    base: [zenpacklib.CPU]
    properties:
      DEFAULTS:
        grid_display: false
        default: 0
        type: int
      description:
        label: Description
        type: string
        default: None
      cores:
        label: Cores
      cores:
        label: Cores
      threads:
        label: Threads
      cacheSpeedL2:
        label: L2 Cache Speed
      cacheSpeedL3:
        label: L3 Cache Speed
      cacheSizeL3:
        label: L3 Cache Size
        grid_display: true
    monitoring_templates: [CPU]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]

  HardDisk:
    label: Hard Disk
    base: [zenpacklib.HardDisk]
    meta_type: WindowsHardDisk
    plural_label: Hard Disks
    properties:
      DEFAULTS:
        grid_display: false
      size:
        label: Size
        type: int
        renderer: Zenoss.render.bytesString
        order: 4
        grid_display: true
      utilization:
        label: '% Util'
        api_backendtype: method
        api_only: true
        grid_display: true
      partitions:
        label: Partitions
        type: int
        grid_display: true
      capabilities:
        label: Capabilities
        type: lines
      disk_ids:
        label: 'Disk IDs'
        type: lines
      filesystems:
        label: File Systems
        type: entity
        api_only: true
        api_backendtype: method
      fs_ids:
        type: lines
        details_display: false
      freespace:
        label: Free
        type: int
      perfmonInstance:
        details_display: false

  FileSystem:
    label: File System
    base: [zenpacklib.FileSystem]
    properties:
      DEFAULTS:
        details_display: false
        grid_display: false
      mediatype:
        label: Media Type
        default: None
      drivetype:
        label: Drive Type
        default: None
      total_bytes:
        type: long
        label: Total Bytes
        default: 0
      harddisk:
        label: Hard Disk
        type: entity
        api_backendtype: method
        api_only: true
        grid_display: true
        details_display: true
    monitoring_templates: [FileSystem]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]

  Interface:
    label: Interface
    base: [zenpacklib.IpInterface]
    monitoring_templates: [ethernetCsmacd]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: true
        details_display: false
      teaminterface: {}

  OSProcess:
    label: Process
    base: [zenpacklib.OSProcess]
    monitoring_templates: [OSProcess]
    properties:
      supports_WorkingSetPrivate:
        label: Supports Private Working Set
        type: boolean
        default: False
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]

  TeamInterface:
    label: Team Interface
    base: [zenpacklib.IpInterface]
    monitoring_templates: [TeamInterface]
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      description:
        label: Description
      get_niccount:
        type: int
        label: NIC Count
        default: 0
        api_only: true
        api_backendtype: method
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]

  WinIIS:
    label: IIS Site
    base: [zenpacklib.OSComponent]
    plural_label: IIS Sites
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      sitename:
        label: Site Name
      apppool:
        label: Application Pool
        grid_display: true
        order: 2
      caption:
        label: Caption
      status:
        label: Status
        grid_display: true
        order: 3
      statusname:
        label: Status Name
      iis_version:
        label: Version
        type: int
    monitoring_templates: [IISSites]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  WinSQLBackup:
    label: SQL Backup
    base: [zenpacklib.OSComponent]
    order: 13
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      instancename:
        label: Instance Name
      devicetype:
        label: Device Type
        grid_display: true
        order: 1
      physicallocation:
        label: Physical Location
      status:
        label: Status
    monitoring_templates: [WinBackupDevice]
    impacts: []
    impacted_by:  [winsqlinstance]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by:  [winsqlinstance]

  WinSQLDatabase:
    label: SQL Database
    base: [zenpacklib.OSComponent]
    order: 11
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      instancename:
        label: Instance Name
      version:
        label: Version
      owner:
        label: Owner
        grid_display: true
        order: 1
      lastbackupdate:
        label: Last Backup
      lastlogbackupdate:
        label: Last Log Backup
      isaccessible:
        label: Accessible
      collation:
        label: Collation
      createdate:
        label: Created On
      defaultfilegroup:
        label: File Group
      primaryfilepath:
        label: File Path
      systemobject:
        label: System Object
      recoverymodel:
        label: Recovery Model
      getState:
        label: Status
        api_only: true
        api_backendtype: method
        grid_display: true
        order: 3
      cluster_node_server:
        label: Cluster Node Server
    monitoring_templates: [WinDatabase]
    impacts: []
    impacted_by: [winsqlinstance]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [winsqlinstance]

  WinSQLInstance:
    label: SQL Instance
    base: [zenpacklib.OSComponent]
    order: 10
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      instancename:
        label: Instance Name
        grid_display: true
      sql_server_version:
        label: SQL Server Version
        grid_display: true
      backupdevices:
        label: Backup Devices
      roles:
        label: Roles
      cluster_node_server:
        label: Cluster Node Server
    monitoring_templates: [WinDBInstance]
    impacts: [backups, databases, jobs]
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: [backups, databases, jobs]
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  WinSQLJob:
    label: SQL Job
    base: [zenpacklib.OSComponent]
    order: 12
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      instancename:
        label: Instance Name
      jobid:
        label: Job ID
      enabled:
        label: Enabled
        grid_display: true
        order: 1
      description:
        label: Description
      username:
        label: User
      datecreated:
        label: Date Created
      cluster_node_server:
        label: Cluster Node Server
    monitoring_templates: [WinSQLJob]
    impacts: []
    impacted_by: [winsqlinstance]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [winsqlinstance]

device_classes:
  /Server/Microsoft/Windows:
    description: Windows Server
    protocol: WinRM
    zProperties:
      zPythonClass: ZenPacks.zenoss.Microsoft.Windows.Device
      zCollectorPlugins: [zenoss.winrm.OperatingSystem, zenoss.winrm.CPUs, zenoss.winrm.FileSystems, zenoss.winrm.Interfaces, zenoss.winrm.Services, zenoss.winrm.Processes, zenoss.winrm.Software, zenoss.winrm.HardDisks]
      zDeviceTemplates: [Device, Active Directory, IIS, MSExchange2010IS]
      zDBInstances:
      - {instance: MSSQLSERVER, passwd: '', user: ''}
  /Server/Microsoft/Cluster:
    description: Windows Cluster
    protocol: WinRM
    zProperties:
      zCollectorPlugins: [zenoss.winrm.OperatingSystem, zenoss.winrm.WinCluster]
      zDBInstances:
      - {instance: MSSQLSERVER, passwd: '', user: ''}
      zDeviceTemplates: [Cluster, Active Directory, IIS, MSExchange2010IS]
      zPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterDevice
    templates:
      ClusterNode:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Nodes.
            cycletime: '300'
            resource: get-clusternode
            strategy: powershell Cluster Nodes
      ClusterDisk:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Disks.
            cycletime: '300'
            resource: get-clustersharedvolume
            strategy: powershell Cluster Disks
      ClusterNetwork:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Networks.
            cycletime: '300'
            resource: get-clusternetwork
            strategy: powershell Cluster Network
      ClusterResource:
        description: Used to monitor the state of the Cluster Resources.
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
            cycletime: '300'
            resource: get-clusterresource
            strategy: powershell Cluster Resources
      ClusterInterface:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Interfaces.
            cycletime: '300'
            resource: get-clusternetworkinterface
            strategy: powershell Cluster Interface
      ClusterService:
        description: Used to monitor the state of the Cluster Service.
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
            cycletime: '300'
            resource: get-clustergroup
            strategy: powershell Cluster Services
  /Server/Microsoft:
    zProperties:
      zCollectorPlugins: []
      zCredentialsZProperties: [zWinRMUser, zWinRMPassword, zWinKDC, zWinScheme, zWinRMPort]
      zDeviceTemplates: [Device, Cluster, Active Directory, IIS, MSExchange2010IS]
      zIcon: /++resource++mswindows/img/server-windows.png
    templates:
      WinSQLJob:
        description: Microsoft SQL Server per-job monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLJob
        datasources:
          jobStatus:
            type: Windows Shell
            cycletime: '300'
            resource: status
            strategy: powershell MSSQL Job
      W3SVC:
        description: Microsoft Windows W3SVC service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      ClientAccessRole:
        description: Exchange Server Client Access Role Monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Exchange.ExchangeServer
        thresholds:
          address_book_rpc_browse_requests_latency:
            dsnames: [mseabNSPIRPCBrowseRequestsAverageLatency_mseabNSPIRPCBrowseRequestsAverageLatency]
            eventClass: /Status
            maxval: '1000'
          rpc_client_access_rpc_requests:
            dsnames: [mserpccaRPCRequests_mserpccaRPCRequests]
            eventClass: /Status
            maxval: '40'
          asp_application_restarts:
            dsnames: [aspApplicationRestarts_aspApplicationRestarts]
            eventClass: /Status
            maxval: '0'
          rpc_client_access_rpc_averaged_latency:
            dsnames: [mserpccaRPCAveragedLatency_mserpccaRPCAveragedLatency]
            eventClass: /Status
            maxval: '250'
          owa_average_search_time:
            dsnames: [mseowaAverageSearchTime_mseowaAverageSearchTime]
            eventClass: /Status
            maxval: '5000'
          activesync_current_requests:
            dsnames: [mseasCurrentRequests_mseasCurrentRequests]
            eventClass: /Status
            minval: '50'
            maxval: '100'
          address_book_rpc_requests_latency:
            dsnames: [mseabNSPIRPCRequestsAverageLatency_mseabNSPIRPCRequestsAverageLatency]
            eventClass: /Status
            maxval: '1000'
          asp_worker_process_restarts:
            dsnames: [aspWorkerProcessRestarts_aspWorkerProcessRestarts]
            eventClass: /Status
            maxval: '0'
          availability_service_time:
            dsnames: [mseasAverageTimeToProcessFreeBusyRequest_mseasAverageTimeToProcessFreeBusyRequest]
            eventClass: /Status
            maxval: '5'
          asp_request_wait_time:
            dsnames: [aspRequestWaitTime_aspRequestWaitTime]
            eventClass: /Status
            maxval: '0'
          control_panel_requests_response_time:
            dsnames: [msecpRequestsAverageResponseTime_msecpRequestsAverageResponseTime]
            eventClass: /Status
            maxval: '6000'
          address_book_referral_rpc_requests_latency:
            dsnames: [mseabReferralRPCRequestsAverageLatency_mseabReferralRPCRequestsAverageLatency]
            eventClass: /Status
            maxval: '1000'
          control_panel_outbound_proxy_requests_response_time:
            dsnames: [msecpOutboundProxyRequestsResponseTime_msecpOutboundProxyRequestsResponseTime]
            eventClass: /Status
            maxval: '6000'
        datasources:
          msecpPowerShellRunspacesAverageActiveTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpPowerShellRunspacesAverageActiveTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time (in seconds) that a Windows PowerShell
                  runspace stays active while executing cmdlets in the Exchange Control
                  Panel during the sampling period.
                aliases: {msecpPwrShRunspcAvgActiv__sec: null}
            counter: \MSExchange Control Panel\PowerShell Runspaces - Average Active
              Time
          msecpExplicitSignOnOutboundProxySessionsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpExplicitSignOnOutboundProxySessionsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of explicit sign-on outbound proxy sessions
                  loaded per second in the Exchange Control Panel.
                aliases: {msecpExpSgnOutbndPrxySess__sec: null}
            counter: \MSExchange Control Panel\Explicit Sign-On Outbound Proxy Sessions/sec
          msewsRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msewsRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of requests processed each second.
                aliases: {msewsRequests__sec: null}
            counter: \MSExchangeWS\Requests/sec
          mseabNSPIConnectionsCurrent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseabNSPIConnectionsCurrent:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of NSPI clients currently connected
                  to the server.
                aliases: {mseabNSPIConnectionsCurrent: null}
            counter: \MSExchangeAB\NSPI Connections Current
          msecpASPNetRequestFailuresPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpASPNetRequestFailuresPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of failures per second detected by ASP.NET
                  in the Exchange Control Panel.
                aliases: {msecpASPNetRequestFailures__sec: null}
            counter: \MSExchange Control Panel\ASP.Net Request Failures/sec
          wsConnectionAttemptsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              wsConnectionAttemptsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate that connections to the Web service are
                  being attempted.
                aliases: {wsConnectionAttempts__sec: null}
            counter: \Web Service(_Total)\Connection Attempts/sec
          mseasPingCommandsPending:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseasPingCommandsPending:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of ping commands currently pending on
                  the server.
                aliases: {mseasPingCommandsPending: null}
            counter: \MSExchange ActiveSync\Ping Commands Pending
          msecpExplicitSignOnStandardRBACRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpExplicitSignOnStandardRBACRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of requests received per second by an
                  explicit sign-on standard RBAC session.
                aliases: {msecpExpSgnStdRBACReqs__sec: null}
            counter: \MSExchange Control Panel\Explicit Sign-On Standard RBAC Requests/sec
          mserpccaRPCRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mserpccaRPCRequests:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of client requests currently being processed
                  by the RPC Client Access service.
                aliases: {mserpccaRPCRequests: null}
            counter: \MSExchange RpcClientAccess\RPC Requests
          mseabNSPIConnectionsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseabNSPIConnectionsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of NSPI client connections established
                  to the server each second.
                aliases: {mseabNSPIConnections__sec: null}
            counter: \MSExchangeAB\NSPI Connections/sec
          msecpRBACSessionsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpRBACSessionsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of RBAC sessions loaded per second in
                  the Exchange Control Panel.
                aliases: {msecpRBACSessions__sec: null}
            counter: \MSExchange Control Panel\RBAC Sessions/sec
          mseasSyncCommandsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseasSyncCommandsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of sync commands processed per second.
                  Clients use this command to synchronize items within a folder.
                aliases: {mseasSyncCommands__sec: null}
            counter: \MSExchange ActiveSync\Sync Commands/sec
          msecpOutboundProxyRequestsResponseTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpOutboundProxyRequestsResponseTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time (in ms) that requests sent to
                  a secondary Client Access server took to complete during the sampling
                  period.
                aliases: {msecpOutbndProxyReqRespTime: null}
            counter: \MSExchange Control Panel\Outbound Proxy Requests - Average Response
              Time
          msecpRequestsActivationsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpRequestsActivationsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of requests activated per second in
                  the Exchange Control Panel.
                aliases: {msecpRequestsActivations__sec: null}
            counter: \MSExchange Control Panel\Requests - Activations/sec
          mserpccaRPCOperationsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mserpccaRPCOperationsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate at which RPC operations occur per second.
                aliases: {mserpccaRPCOperations__sec: null}
            counter: \MSExchange RpcClientAccess\RPC Operations/sec
          mseasCurrentRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseasCurrentRequests:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of HTTP requests waiting to be assigned
                  to a thread.
                aliases: {mseasCurrentRequests: null}
            counter: \MSExchange ActiveSync\Current Requests
          msecpExplicitSignOnInboundProxySessionsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpExplicitSignOnInboundProxySessionsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of explicit sign-on inbound proxy sessions
                  loaded per second in the Exchange Control Panel.
                aliases: {msecpExpSgnInbndPrxySess__sec: null}
            counter: \MSExchange Control Panel\Explicit Sign-On Inbound Proxy Sessions/sec
          mseasAvailabilityRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseasAvailabilityRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of requests serviced per second.
                aliases: {mseasAvailabilityRequests__sec: null}
            counter: \MSExchange Availability Service\Availability Requests (sec)
          mseabNSPIRPCBrowseRequestsAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseabNSPIRPCBrowseRequestsAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time in ms that Name Service Provider
                  Interface (NSPI) browse requests took to complete during the sampling
                  period.
                aliases: {mseabNSPIRPCBrowseReqAvgLatency: null}
            counter: \MSExchangeAB\NSPI RPC Browse Requests Average Latency
          msecpInboundProxySessionsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpInboundProxySessionsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of inbound proxy sessions loaded per
                  second in the Exchange Control Panel.
                aliases: {msecpInboundProxySessions__sec: null}
            counter: \MSExchange Control Panel\Inbound Proxy Sessions/sec
          msecpExplicitSignOnInboundProxyRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpExplicitSignOnInboundProxyRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of explicit sign-on requests received
                  from a primary Client Access server per second.
                aliases: {msecpExpSgnInbndPrxyReqs__sec: null}
            counter: \MSExchange Control Panel\Explicit Sign-On Inbound Proxy Requests/sec
          mseabReferralRPCRequestsAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseabReferralRPCRequestsAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time in ms that referral requests took
                  to complete during the sampling period.
                aliases: {mseabReferralRPCReqAvgLatency: null}
            counter: \MSExchangeAB\Referral RPC Requests Average Latency
          aspRequestWaitTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              aspRequestWaitTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of ms the most recent request was waiting
                  in the queue.
                aliases: {aspRequestWaitTime: null}
            counter: \ASP.NET\Request Wait Time
          mseowaCurrentUniqueUsers:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseowaCurrentUniqueUsers:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of unique users currently logged on
                  to Outlook Web App.
                aliases: {mseowaCurrentUniqueUsers: null}
            counter: \MSExchange OWA\Current Unique Users
          mserpccaRPCAveragedLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mserpccaRPCAveragedLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the latency in ms averaged for the past 1024 packets.
                aliases: {mserpccaRPCAveragedLatency: null}
            counter: \MSExchange RpcClientAccess\RPC Averaged Latency
          mseabNSPIRPCRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseabNSPIRPCRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate at which NSPI requests occur each second.
                aliases: {mseabNSPIRPCRequests__sec: null}
            counter: \MSExchangeAB\NSPI RPC Requests/sec
          msecpOutboundProxySessionsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpOutboundProxySessionsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of outbound proxy sessions loaded per
                  second in the Exchange Control Panel.
                aliases: {msecpExpSgnInbndPrxySessns__sec: null}
            counter: \MSExchange Control Panel\Outbound Proxy Sessions/sec
          msecpOutboundProxyRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpOutboundProxyRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of requests sent to a secondary Client
                  Access server per second.
                aliases: {msecpOutboundProxyRequests__sec: null}
            counter: \MSExchange Control Panel\Outbound Proxy Requests/sec
          msecpInboundProxyRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpInboundProxyRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of requests received from a primary
                  Client Access server per second.
                aliases: {msecpInboundProxyRequests__sec: null}
            counter: \MSExchange Control Panel\Inbound Proxy Requests/sec
          wsTotalCurrentConnections:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              wsTotalCurrentConnections:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the current number of connections established with
                  the Web service.
                aliases: {wsTotalCurrentConnections: null}
            counter: \Web Service(_Total)\Current Connections
          msecpPowerShellRunspacesPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpPowerShellRunspacesPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of Windows PowerShell runspaces created
                  per second in the Exchange Control Panel.
                aliases: {msecpPowerShellRunspaces__sec: null}
            counter: \MSExchange Control Panel\PowerShell Runspaces/sec
          wsTotalOtherRequestMethodsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              wsTotalOtherRequestMethodsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate HTTP requests are made that don't use
                  the OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, MOVE, COPY, MKCOL,
                  PROPFIND, PROPPATCH, SEARCH, LOCK, or UNLOCK methods.
                aliases: {wsTotalOtherRequestMethods__sec: null}
            counter: \Web Service(_Total)\Other Request Methods/sec
          msecpPowerShellRunspacesActivationsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpPowerShellRunspacesActivationsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of Windows PowerShell runspaces activated
                  per second in the Exchange Control Panel.
                aliases: {msecpPwrShRunspcActive__sec: null}
            counter: \MSExchange Control Panel\PowerShell Runspaces - Activations/sec
          mseowaAverageSearchTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseowaAverageSearchTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time that elapsed while waiting for
                  a search to complete.
                aliases: {mseowaAverageSearchTime: null}
            counter: \MSExchange OWA\Average Search Time
          mseowaRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseowaRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of requests handled by Outlook Web App
                  per second.
                aliases: {mseowaRequests__sec: null}
            counter: \MSExchange OWA\Requests/sec
          msecpExplicitSignOnOutboundProxyRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpExplicitSignOnOutboundProxyRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of explicit sign-on requests sent to
                  a secondary Client Access server per second.
                aliases: {msecpExpSgnOutbndPrxyReqs__sec: null}
            counter: \MSExchange Control Panel\Explicit Sign-On Outbound Proxy Requests/sec
          mseabReferralRPCRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseabReferralRPCRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate at which referral requests occur each
                  second.
                aliases: {mseabReferralRPCRequests__sec: null}
            counter: \MSExchangeAB\Referral RPC Requests/sec
          mseasSyncCommandsPending:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseasSyncCommandsPending:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of sync commands currently pending on
                  the server.
                aliases: {mseasSyncCommandsPending: null}
            counter: \MSExchange ActiveSync\Sync Commands Pending
          mseasAverageTimeToProcessFreeBusyRequest:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseasAverageTimeToProcessFreeBusyRequest:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time to process a free/busy request
                  in seconds.
                aliases: {mseasAvgTimeToProcFreeBusyReq: null}
            counter: \MSExchange Availability Service\Average Time to Process a Free
              Busy Request
          mseasRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseasRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of HTTP requests received from the client
                  via ASP.NET per second. Determines the current Exchange ActiveSync
                  request rate.
                aliases: {mseasRequests__sec: null}
            counter: \MSExchange ActiveSync\Requests/sec
          mseabNSPIRPCRequestsAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseabNSPIRPCRequestsAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time in ms that NSPI requests took
                  to complete during the sampling period.
                aliases: {mseabNSPIRPCReqAvgLatency: null}
            counter: \MSExchangeAB\NSPI RPC Requests Average Latency
          mseadRequestsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseadRequestsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: ''
                aliases: {mseadRequests__sec: null}
            counter: \MSExchangeAutodiscover\Requests/sec
          aspWorkerProcessRestarts:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              aspWorkerProcessRestarts:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of times a worker process has restarted
                  on the computer.
                aliases: {aspWorkerProcessRestarts: null}
            counter: \ASP.NET\Worker Process Restarts
          aspApplicationRestarts:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              aspApplicationRestarts:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of times the application has been restarted
                  during the Web server's lifetime.
                aliases: {aspApplicationRestarts: null}
            counter: \ASP.NET\Application Restarts
          mserpccaActiveUserCount:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mserpccaActiveUserCount:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of unique users that have shown some
                  activity in the last 2 minutes.
                aliases: {mserpccaActiveUserCount: null}
            counter: \MSExchange RpcClientAccess\Active User Count
          msecpExplicitSignOnStandardRBACSessionsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpExplicitSignOnStandardRBACSessionsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of explicit sign-on standard RBAC sessions
                  loaded per second in the Exchange Control Panel.
                aliases: {msecpExpSgnStdRBACSess__sec: null}
            counter: \MSExchange Control Panel\Explicit Sign-On Standard RBAC Sessions/sec
          mserpccaConnectionCount:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mserpccaConnectionCount:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the total number of client connections maintained.
                aliases: {mserpccaConnectionCount: null}
            counter: \MSExchange RpcClientAccess\Connection Count
          msecpRequestsAverageResponseTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecpRequestsAverageResponseTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time (in ms) the Exchange Control Panel
                  took to respond to a request during the sampling period.
                aliases: {msecpReqAvgResponseTime: null}
            counter: \MSExchange Control Panel\Requests - Average Response Time
          mserpcUserCount:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mserpcUserCount:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of users connected to the service.
                aliases: {mserpcUserCount: null}
            counter: \MSExchange RpcClientAccess\User Count
        graphs:
          NSPI Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              Connections:
                dpName: mseabNSPIConnectionsPerSec_mseabNSPIConnectionsPerSec
          Control Panel Requests:
            units: requests/sec
            miny: 0
            graphpoints:
              Inbound proxy requests:
                dpName: msecpInboundProxyRequestsPerSec_msecpInboundProxyRequestsPerSec
              Explicit sign-on outbound proxy requests:
                dpName: msecpExplicitSignOnOutboundProxyRequestsPerSec_msecpExplicitSignOnOutboundProxyRequestsPerSec
              Explicit sign-on inbound proxy requests:
                dpName: msecpExplicitSignOnInboundProxyRequestsPerSec_msecpExplicitSignOnInboundProxyRequestsPerSec
              RBAC requests:
                dpName: msecpExplicitSignOnStandardRBACRequestsPerSec_msecpExplicitSignOnStandardRBACRequestsPerSec
              Outbound proxy requests:
                dpName: msecpOutboundProxyRequestsPerSec_msecpOutboundProxyRequestsPerSec
              Activated requests:
                dpName: msecpRequestsActivationsPerSec_msecpRequestsActivationsPerSec
          PowerShell Runspaces:
            units: runspaces/sec
            miny: 0
            graphpoints:
              Activations:
                dpName: msecpPowerShellRunspacesActivationsPerSec_msecpPowerShellRunspacesActivationsPerSec
              Runspaces:
                dpName: msecpPowerShellRunspacesPerSec_msecpPowerShellRunspacesPerSec
          OWA Average Search Time:
            units: ms
            miny: 0
            graphpoints:
              RPC backoffs:
                dpName: mseowaAverageSearchTime_mseowaAverageSearchTime
                includeThresholds: true
          Address Book Requests:
            units: requests/sec
            miny: 0
            graphpoints:
              Referral RPC requests:
                dpName: mseabReferralRPCRequestsPerSec_mseabReferralRPCRequestsPerSec
              NSPI RPC requests:
                dpName: mseabNSPIRPCRequestsPerSec_mseabNSPIRPCRequestsPerSec
          Web Service Connections:
            units: connections
            miny: 0
            graphpoints:
              Connections:
                dpName: wsTotalCurrentConnections_wsTotalCurrentConnections
          NSPI Connections:
            units: connections
            miny: 0
            graphpoints:
              Connections:
                dpName: mseabNSPIConnectionsCurrent_mseabNSPIConnectionsCurrent
          RPC Client Access Requests:
            units: requests
            miny: 0
            graphpoints:
              RPC requests:
                dpName: mserpccaRPCRequests_mserpccaRPCRequests
                includeThresholds: true
          ActiveSync Requests:
            units: requests
            miny: 0
            graphpoints:
              HTTP requests:
                dpName: mseasCurrentRequests_mseasCurrentRequests
                includeThresholds: true
          Requests Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              Availability service:
                dpName: mseasAvailabilityRequestsPerSec_mseasAvailabilityRequestsPerSec
              OWA:
                dpName: mseowaRequestsPerSec_mseowaRequestsPerSec
              Autodiscover:
                dpName: mseadRequestsPerSec_mseadRequestsPerSec
              ActiveSync:
                dpName: mseasRequestsPerSec_mseasRequestsPerSec
              Other:
                dpName: wsTotalOtherRequestMethodsPerSec_wsTotalOtherRequestMethodsPerSec
              WS:
                dpName: msewsRequestsPerSec_msewsRequestsPerSec
          ActiveSync Commands:
            units: commands
            miny: 0
            graphpoints:
              Ping:
                dpName: mseasPingCommandsPending_mseasPingCommandsPending
              Sync:
                dpName: mseasSyncCommandsPending_mseasSyncCommandsPending
          RPC Client Access Users:
            units: users
            miny: 0
            graphpoints:
              Users:
                dpName: mserpcUserCount_mserpcUserCount
              Active users:
                dpName: mserpccaActiveUserCount_mserpccaActiveUserCount
          Control Panel Sessions:
            units: sessions/sec
            miny: 0
            graphpoints:
              Explicit sign-on inbound proxy sessions:
                dpName: msecpExplicitSignOnInboundProxySessionsPerSec_msecpExplicitSignOnInboundProxySessionsPerSec
              Inbound proxy sessions:
                dpName: msecpInboundProxySessionsPerSec_msecpInboundProxySessionsPerSec
              Outbound proxy sessions:
                dpName: msecpOutboundProxySessionsPerSec_msecpOutboundProxySessionsPerSec
              Explicit sign-on outbound proxy sessions:
                dpName: msecpExplicitSignOnOutboundProxySessionsPerSec_msecpExplicitSignOnOutboundProxySessionsPerSec
              RBAC sessions:
                dpName: msecpExplicitSignOnStandardRBACSessionsPerSec_msecpExplicitSignOnStandardRBACSessionsPerSec
          Web Service Connection Rate:
            units: attempts/sec
            miny: 0
            graphpoints:
              Connections:
                dpName: wsConnectionAttemptsPerSec_wsConnectionAttemptsPerSec
          OWA Users:
            units: users
            miny: 0
            graphpoints:
              Current:
                dpName: mseowaCurrentUniqueUsers_mseowaCurrentUniqueUsers
          Address Book Service:
            units: ms
            miny: 0
            graphpoints:
              NSPI RPC requests:
                dpName: mseabNSPIRPCRequestsAverageLatency_mseabNSPIRPCRequestsAverageLatency
                includeThresholds: true
              NSPI RPC browse requests:
                dpName: mseabNSPIRPCBrowseRequestsAverageLatency_mseabNSPIRPCBrowseRequestsAverageLatency
                includeThresholds: true
              Referral requests:
                dpName: mseabReferralRPCRequestsAverageLatency_mseabReferralRPCRequestsAverageLatency
                includeThresholds: true
          RPC Client Access Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              RPC operations:
                dpName: mserpccaRPCOperationsPerSec_mserpccaRPCOperationsPerSec
          ASP Request Wait Time:
            units: ms
            miny: 0
            graphpoints:
              Wait time:
                dpName: aspRequestWaitTime_aspRequestWaitTime
                includeThresholds: true
          RPC Client Access Latency:
            units: ms
            miny: 0
            graphpoints:
              RPC averaged latency:
                dpName: mserpccaRPCAveragedLatency_mserpccaRPCAveragedLatency
                includeThresholds: true
          Control Panel:
            units: ms
            miny: 0
            graphpoints:
              PowerShell active time:
                dpName: msecpPowerShellRunspacesAverageActiveTime_msecpPowerShellRunspacesAverageActiveTime
              Requests response time:
                dpName: msecpRequestsAverageResponseTime_msecpRequestsAverageResponseTime
              Outbound proxy response time:
                dpName: msecpOutboundProxyRequestsResponseTime_msecpOutboundProxyRequestsResponseTime
                includeThresholds: true
          RPC Client Access Connections:
            units: connections
            miny: 0
            graphpoints:
              Connections:
                dpName: mserpccaConnectionCount_mserpccaConnectionCount
          Control Panel ASP Request Failures:
            units: requests/sec
            miny: 0
            graphpoints:
              ASP.Net Request Failures:
                dpName: msecpASPNetRequestFailuresPerSec_msecpASPNetRequestFailuresPerSec
      MSExchangeInformationStore:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCAveragedLatency: null}
            counter: \MSExchangeIS\RPC Averaged Latency
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCOperations__sec: null}
            counter: \MSExchangeIS\RPC Operations/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpServerLocalQueueLength: null}
            counter: \SMTP Server(_Total)\Local Queue Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpServerMsgsDelivered__sec: null}
            counter: \SMTP Server(_Total)\Messages Delivered/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxLocalDeliveryRate: null}
            counter: \MSExchangeIS Mailbox(_Total)\Local delivery rate
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxMessageOpens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Message Opens/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCRequests: null}
            counter: \MSExchangeIS\RPC Requests
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxFolderOpens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Folder opens/sec
        graphs:
          Exchange - RPC Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Local Deliveries:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
              'Message Opens   ':
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              'Folder Opens    ':
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          SMTP Server - Local Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          Exchange - RPC Requests:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
      MSExchange2010IS:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                aliases: {mseisRPCAveragedLatency: null}
            counter: \MSExchangeIS\RPC Averaged Latency
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                aliases: {mseisRPCOperations__sec: null}
            counter: \MSExchangeIS\RPC Operations/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                aliases: {smtpServerLocalQueueLength: null}
            counter: \MSExchangeTransport Queues(_Total)\Active Mailbox Delivery Queue
              Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                aliases: {smtpServerMsgsDelivered__sec: null}
            counter: \MSExchangeTransport SmtpSend(_Total)\Messages Sent/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                aliases: {mseisMailboxLocalDeliveryRate: null}
            counter: \MSExchangeIS Mailbox(_Total)\Local delivery rate
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                aliases: {mseisMailboxMessageOpens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Message Opens/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                aliases: {mseisRPCRequests: null}
            counter: \MSExchangeIS\RPC Requests
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                aliases: {mseisMailboxFolderOpens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Folder opens/sec
        graphs:
          Exchange - RPC Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Local Deliveries:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
              'Message Opens   ':
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              'Folder Opens    ':
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
          SMTP Server - Active Delivery Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          Exchange - RPC Requests:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
      MailboxDatabase-2010:
        description: Exchange Server 2010 Mailbox Database Role Monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Exchange.MailboxDatabase
        thresholds:
          log_generation_checkpoint_depth:
            dsnames: [msedbInstancesLogGenerationCheckpointDepth_msedbInstancesLogGenerationCheckpointDepth]
            eventClass: /Status
            maxval: '500'
          mailbox_full_crawl_mode_status:
            dsnames: [msesiFullCrawlModeStatus_msesiFullCrawlModeStatus]
            eventClass: /Status
            maxval: '1'
          search_task_rate:
            dsnames: [mseismbSearchTaskRate_mseismbSearchTaskRate]
            eventClass: /Status
            maxval: '10'
          mailbox_average_document_indexing_time:
            dsnames: [msesimbdbAveragedocumentIndexingTime_msesimbdbAveragedocumentIndexingTime]
            eventClass: /Status
            maxval: '30000'
          mailbox_submission_event_processing_time:
            dsnames: [mseapdbMailBoxSubmissionAverageEventProcessingTime_mseapdbMailBoxSubmissionAverageEventProcessingTime]
            eventClass: /Status
            maxval: '2'
          slow_findrow_rate:
            dsnames: [mseismbSlowFindrowRate_mseismbSlowFindrowRate]
            eventClass: /Status
            maxval: '10'
        datasources:
          msesiAverageLatencyofRPCsUsedtoObtainContent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesiAverageLatencyofRPCsUsedtoObtainContent:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average latency in ms of the most recent RPCs
                  to the Information Store service.
                aliases: {msesiAvgRPCContentLatency__sec: null}
            counter: \MSExchange Search Indices(${here/id})\Average Latency of RPCs
              Used to Obtain Content
          msesimbdbAveragedocumentIndexingTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesimbdbAveragedocumentIndexingTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average in ms of how long it takes to index
                  documents.
                aliases: {msesimbdbAvgDocIndexingTime: null}
            counter: \MSExchange Search Indices(${here/id})\Average Document Indexing
              Time
          mseapdbMailBoxSubmissionEventsInQueue:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseapdbMailBoxSubmissionEventsInQueue:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of events in the in-memory queue waiting
                  to be processed by the assistants.
                aliases: {mseapdbMbxSubmitEventsInQueue: null}
            counter: \MSExchange Assistants - Per Database(msexchangemailsubmission-${here/id})\Events
              in queue
          msesiFullCrawlModeStatus:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesiFullCrawlModeStatus:
                rrdtype: GAUGE
                rrdmin: 0
                description: This counter is used to determine if a full crawl is
                  occurring for any specified database.
                aliases: {msesiFullCrawlModeStatus: null}
            counter: \MSExchange Search Indices(${here/id})\Full Crawl Mode Status
          mseapdbMailBoxSubmissionAverageEventProcessingTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseapdbMailBoxSubmissionAverageEventProcessingTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average processing time of the events chosen.
                aliases: {mseapdbMbxSubmitAvgEventProc__sec: null}
            counter: \MSExchange Assistants - Per Database(msexchangemailsubmission-${here/id})\Average
              Event Processing Time in Seconds
          mseismbSlowFindrowRate:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseismbSlowFindrowRate:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate at which the slower FindRow needs to be
                  used in the mailbox store.
                aliases: {mseismbSlowFindrowRate: null}
            counter: \MSExchangeIS Mailbox(${here/id})\Slow Findrow Rate
          mseismbSearchTaskRate:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseismbSearchTaskRate:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of search tasks created per second.
                aliases: {mseismbSearchTaskRate: null}
            counter: \MSExchangeIS Mailbox(${here/id})\Search Task Rate
          msedbInstancesIODatabaseReadsAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInstancesIODatabaseReadsAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average length of time in ms per database read
                  operation.
                aliases: {msedbInstIODbReadsAvgLatency: null}
            counter: \MSExchange Database ==> Instances(Information Store/${here/id})\I/O
              Database Reads Average Latency
          mseapdbMailboxSubmissionMailboxesProcessedPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseapdbMailboxSubmissionMailboxesProcessedPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate of mailboxes processed by time-based assistants
                  per second.
                aliases: {mseapdbMbxSubmitMbxsProc__sec: null}
            counter: \MSExchange Assistants - Per Database(msexchangemailsubmission-${here/id})\Mailboxes
              Processed/sec
          mseapdbMailboxSubmissionEventsPolledPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseapdbMailboxSubmissionEventsPolledPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of events polled per second.
                aliases: {mseapdbMbxSubmitEventPolls__sec: null}
            counter: \MSExchange Assistants - Per Database(msexchangemailsubmission-${here/id})\Events
              Polled/sec
          msedbInstancesLogGenerationCheckpointDepth:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInstancesLogGenerationCheckpointDepth:
                rrdtype: GAUGE
                rrdmin: 0
                description: Represents the amount of work in the log file count that
                  needs to be redone or undone to the database files if the process
                  fails.
                aliases: {msedbInstLogGenCheckpointDepth: null}
            counter: \MSExchange Database ==> Instances(Information Store/${here/id})\Log
              Generation Checkpoint Depth
          msedbInstancesIODatabaseWritesAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInstancesIODatabaseWritesAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average length of time in ms per database write
                  operation.
                aliases: {msedbInstIODbWritesAvgLatency: null}
            counter: \MSExchange Database ==> Instances(Information Store/${here/id})\I/O
              Database Writes Average Latency
        graphs:
          IO Database Latency:
            units: ms
            miny: 0
            graphpoints:
              Reads:
                dpName: msedbInstancesIODatabaseReadsAverageLatency_msedbInstancesIODatabaseReadsAverageLatency
              Writes:
                dpName: msedbInstancesIODatabaseWritesAverageLatency_msedbInstancesIODatabaseWritesAverageLatency
          Mailbox Assistant Events:
            units: events/sec
            miny: 0
            graphpoints:
              Mail submission:
                dpName: mseapdbMailboxSubmissionEventsPolledPerSec_mseapdbMailboxSubmissionEventsPolledPerSec
          Mailbox Assistant Mailboxes:
            units: mailboxes/sec
            miny: 0
            graphpoints:
              Mail submission:
                dpName: mseapdbMailboxSubmissionMailboxesProcessedPerSec_mseapdbMailboxSubmissionMailboxesProcessedPerSec
          Full Crawl Mode Status:
            units: crawl
            miny: 0
            maxy: 1
            graphpoints:
              Full crawl mode:
                dpName: msesiFullCrawlModeStatus_msesiFullCrawlModeStatus
          Client Search Findrow Rate:
            miny: 0
            graphpoints:
              Slow findrow:
                dpName: mseismbSlowFindrowRate_mseismbSlowFindrowRate
                includeThresholds: true
          Mailbox Assistant Processing:
            miny: 0
            graphpoints:
              Submission:
                dpName: mseapdbMailBoxSubmissionAverageEventProcessingTime_mseapdbMailBoxSubmissionAverageEventProcessingTime
                includeThresholds: true
          Content Indexing:
            units: ms
            miny: 0
            graphpoints:
              RPC content:
                dpName: msesiAverageLatencyofRPCsUsedtoObtainContent_msesiAverageLatencyofRPCsUsedtoObtainContent
              Document indexing:
                dpName: msesimbdbAveragedocumentIndexingTime_msesimbdbAveragedocumentIndexingTime
                includeThresholds: true
          Database Log Generation:
            units: depth
            miny: 0
            graphpoints:
              Checkpoint:
                dpName: msedbInstancesLogGenerationCheckpointDepth_msedbInstancesLogGenerationCheckpointDepth
                includeThresholds: true
          Client Search Task Rate:
            units: tasks/sec
            miny: 0
            graphpoints:
              Search tasks:
                dpName: mseismbSearchTaskRate_mseismbSearchTaskRate
                includeThresholds: true
      MailboxDatabase:
        description: Exchange Server Mailbox Database Monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Exchange.MailboxDatabase
        thresholds:
          mailbox_assistant_event_processing_time:
            dsnames: [mseapdbMailBoxAssistantsAverageEventProcessingTime_mseapdbMailBoxAssistantsAverageEventProcessingTime]
            eventClass: /Status
            maxval: '2'
        datasources:
          mseapdbMailboxAssistantsMailboxesProcessedPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseapdbMailboxAssistantsMailboxesProcessedPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate of mailboxes processed by time-based assistants
                  per second.
                aliases: {mseapdbMbxAstMbxsProc__sec: null}
            counter: \MSExchange Assistants - Per Database(msexchangemailboxassistants-${here/id})\Mailboxes
              Processed/sec
          mseapdbMailBoxAssistantsAverageEventProcessingTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseapdbMailBoxAssistantsAverageEventProcessingTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average processing time of the events chosen.
                aliases: {mseapdbMbxAstAvgEventProc__sec: null}
            counter: \MSExchange Assistants - Per Database(msexchangemailboxassistants-${here/id})\Average
              Event Processing Time in Seconds
          msereplicationCopyQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msereplicationCopyQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of transaction log files waiting to
                  be copied to the passive copy log file folder.
                aliases: {msereplicationCopyQueueLength: null}
            counter: \MSExchange Replication(_total)\CopyQueueLength
          mseapdbMailboxAssistantsEventsPolledPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseapdbMailboxAssistantsEventsPolledPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of events polled per second.
                aliases: {mseapdbMbxAstEventsPolled__sec: null}
            counter: \MSExchange Assistants - Per Database(msexchangemailboxassistants-${here/id})\Events
              Polled/sec
          mseapdbMailBoxAssistantsEventsInQueue:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseapdbMailBoxAssistantsEventsInQueue:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of events in the in-memory queue waiting
                  to be processed by the assistants.
                aliases: {mseapdbMbxAstEventsInQueue: null}
            counter: \MSExchange Assistants - Per Database(msexchangemailboxassistants-${here/id})\Events
              in queue
          msereplicationReplayQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msereplicationReplayQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of transaction log files waiting to
                  be replayed into the passive copy.
                aliases: {msereplicationReplayQueueLength: null}
            counter: \MSExchange Replication(_total)\ReplayQueueLength
        graphs:
          Mailbox Assistant Events:
            units: events/sec
            miny: 0
            graphpoints:
              Mailbox assistant:
                dpName: mseapdbMailboxAssistantsEventsPolledPerSec_mseapdbMailboxAssistantsEventsPolledPerSec
          Mailbox Assistant Processing:
            miny: 0
            graphpoints:
              Assistant:
                dpName: mseapdbMailBoxAssistantsAverageEventProcessingTime_mseapdbMailBoxAssistantsAverageEventProcessingTime
                includeThresholds: true
          Replication Queue:
            units: files
            miny: 0
            graphpoints:
              Replay length:
                dpName: msereplicationReplayQueueLength_msereplicationReplayQueueLength
              Copy length:
                dpName: msereplicationCopyQueueLength_msereplicationCopyQueueLength
          Mailbox Assistant Mailboxes:
            units: mailboxes/sec
            miny: 0
            graphpoints:
              Mailbox assistant:
                dpName: mseapdbMailboxAssistantsMailboxesProcessedPerSec_mseapdbMailboxAssistantsMailboxesProcessedPerSec
      MSExchangeSA:
        description: Microsoft Windows MSExchangeSA service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      MSExchangeMailboxAssistants:
        description: Microsoft Windows MSExchangeMailboxAssistants service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      IIS:
        description: Microsoft Internet Information Services.
        datasources:
          iisPostRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPostRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisPostRequests__sec: null}
            counter: \Web Service(_Total)\Post Requests/sec
          iisISAPIExtensionRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisISAPIExtensionRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisISAPIExtensionRequests__sec: null}
            counter: \Web Service(_Total)\ISAPI Extension Requests/sec
          iisGetRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisGetRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisGetRequests__sec: null}
            counter: \Web Service(_Total)\Get Requests/sec
          iisLockRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisLockRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisLockRequests__sec: null}
            counter: \Web Service(_Total)\Lock Requests/sec
          iisFilesReceived:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisFilesReceived:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisFilesReceived__sec: null}
            counter: \Web Service(_Total)\Files Received/sec
          iisCopyRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCopyRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisCopyRequests__sec: null}
            counter: \Web Service(_Total)\Copy Requests/sec
          iisConnectionAttempts:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisConnectionAttempts:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisConnectionAttempts__sec: null}
            counter: \Web Service(_Total)\Connection Attempts/sec
          iisOtherRequestMethods:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisOtherRequestMethods:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisOtherRequestMethods__sec: null}
            counter: \Web Service(_Total)\Other Request Methods/sec
          iisUnlockRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisUnlockRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisUnlockRequests__sec: null}
            counter: \Web Service(_Total)\Unlock Requests/sec
          iisSearchRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisSearchRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisSearchRequests__sec: null}
            counter: \Web Service(_Total)\Search Requests/sec
          iisTraceRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisTraceRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisTraceRequests__sec: null}
            counter: \Web Service(_Total)\Trace Requests/sec
          iisDeleteRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisDeleteRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisDeleteRequests__sec: null}
            counter: \Web Service(_Total)\Delete Requests/sec
          iisPropfindRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPropfindRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisPropfindRequests__sec: null}
            counter: \Web Service(_Total)\Propfind Requests/sec
          iisMkcolRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisMkcolRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisMkcolRequests__sec: null}
            counter: \Web Service(_Total)\Mkcol Requests/sec
          iisMoveRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisMoveRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisMoveRequests__sec: null}
            counter: \Web Service(_Total)\Move Requests/sec
          iisOptionsRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisOptionsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisOptionsRequests__sec: null}
            counter: \Web Service(_Total)\Options Requests/sec
          iisPutRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPutRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisPutRequests__sec: null}
            counter: \Web Service(_Total)\Put Requests/sec
          iisBytesSent:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisBytesSent:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisSent__bytes: null}
            counter: \Web Service(_Total)\Bytes Sent/sec
          iisCurrentConnections:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCurrentConnections:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisCurrentConnections: null}
            counter: \Web Service(_Total)\Current Connections
          iisFilesSent:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisFilesSent:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisFilesSent__sec: null}
            counter: \Web Service(_Total)\Files Sent/sec
          iisBytesReceived:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisBytesReceived:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisReceived__bytes: null}
            counter: \Web Service(_Total)\Bytes Received/sec
          iisProppatchRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisProppatchRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisProppatchRequests__sec: null}
            counter: \Web Service(_Total)\Proppatch Requests/sec
          iisCGIRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCGIRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisCGIRequests: null}
            counter: \Web Service(_Total)\CGI Requests/sec
          iisHeadRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisHeadRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisHeadRequests__sec: null}
            counter: \Web Service(_Total)\Head Requests/sec
        graphs:
          IIS - Other Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Connections:
            units: connections
            miny: 0
            graphpoints:
              Current:
                dpName: iisCurrentConnections_iisCurrentConnections
                format: '%7.0lf'
          IIS - Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              Attempts:
                dpName: iisConnectionAttempts_iisConnectionAttempts
                format: '%7.2lf%s'
          IIS - Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Received:
                dpName: iisBytesReceived_iisBytesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisBytesSent_iisBytesSent
                format: '%7.2lf%s'
          IIS - Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Basic Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - File Rate:
            units: files/sec
            miny: 0
            graphpoints:
              Received:
                dpName: iisFilesReceived_iisFilesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisFilesSent_iisFilesSent
                format: '%7.2lf%s'
      MSExchangeSearch:
        description: Microsoft Windows MSExchangeSearch service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      WinDBInstance:
        description: Microsoft SQL Server per-instance monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLInstance
        datasources:
          InstanceStatus:
            type: Windows Shell
            cycletime: '300'
            resource: status
            strategy: powershell MSSQL Instance
      Active Directory 2003:
        description: Microsoft Active Directory
        thresholds:
          ldapBindTimeCrit:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 5
            maxval: '30'
          ldapBindTimeErr:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 4
            maxval: '15'
          ldapBindTimeWarn:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            maxval: '5'
        datasources:
          ldapNewConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP New Connections/sec
          ldapSuccessfulBinds:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSuccessfulBinds:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Successful Binds/sec
          dsSearchSuboperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsSearchSuboperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Search sub-operations/sec
          dsThreadsInUse:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsThreadsInUse:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Threads in Use
          ldapBindTime:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapBindTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Bind Time
          kdcTgsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcTgsRequests:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\KDC TGS Requests
          SystemLog:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SystemLog
            strategy: DCDiag
          PortCheck:
            type: Windows PortCheck
            severity: 4
            cycletime: '1800'
            ports: '[{"port": "9389", "desc": "Traffic:SOAP. Usage:Web Services"},{"port":
              "3268", "desc": "Traffic:LDAP GC; Usage:Directory, Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "3269",
              "desc": "Traffic:LDAP GC SSL; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "88", "desc":
              "Traffic:Kerberos; Usage:User and Computer Authentication, Forest Level
              Trusts"},{"port": "464", "desc": "Traffic:Kerberos change/set password.
              Usage:Replication, User and Computer Authentication, Trusts"},{"port":
              "389", "desc": "Traffic:LDAP; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "636", "desc":
              "Traffic:LDAP SSL; Usage:Directory, Replication, User and Computer Authentication,
              Group Policy, Trusts"},{"port": "445", "desc": "Traffic:SMB,CIFS,SMB2,
              DFSN, LSARPC, NbtSS, NetLogonR, SamR, SrvSvc; Usage:Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "135",
              "desc": "Traffic:RPC, EPM; Usage:Replication"},{"port": "5722", "desc":
              "Traffic:RPC, DFSR (SYSVOL); Usage:File Replication"}]'
          dsServerNameTranslationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerNameTranslationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Server Name Translations/sec
          MachineAccount:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: MachineAccount
            strategy: DCDiag
          dsServerBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Server Binds/sec
          FSMOCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FSMOCheck
            strategy: DCDiag
          dsDirectoryReadsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryReadsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Reads/sec
          DFSREvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: DFSREvent
            strategy: DCDiag
          ldapActiveThreads:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapActiveThreads:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Active Threads
          ntlmAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ntlmAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\NTLM Authentications
          LocatorCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: LocatorCheck
            strategy: DCDiag
          NetLogons:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NetLogons
            strategy: DCDiag
          dsClientBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsClientBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Client Binds/sec
          kdcAsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcAsRequests:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\KDC AS Requests
          VerifyEnterpriseReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyEnterpriseReferences
            strategy: DCDiag
          dsDirectoryWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Writes/sec
          Services:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Services
            strategy: DCDiag
          ldapWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Writes/sec
          SysVolCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SysVolCheck
            strategy: DCDiag
          NCSecDesc:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NCSecDesc
            strategy: DCDiag
          kerberosAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kerberosAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\Kerberos Authentications
          ldapClientSessions:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClientSessions:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Client Sessions
          CrossRefValidation:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CrossRefValidation
            strategy: DCDiag
          ldapSearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Searches/sec
          Replications:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Replications
            strategy: DCDiag
          ldapUdpOperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapUdpOperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP UDP operations/sec
          Advertising:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Advertising
            strategy: DCDiag
          FrsEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FrsEvent
            strategy: DCDiag
          ldapNewSSLConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewSSLConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP New SSL Connections/sec
          VerifyReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyReferences
            strategy: DCDiag
          ldapClosedConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClosedConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Closed Connections/sec
          CheckSDRefDom:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CheckSDRefDom
            strategy: DCDiag
          dsNotifyQueueSize:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNotifyQueueSize:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Notify Queue Size
          dsNameCacheHitRate:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNameCacheHitRate:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Name Cache hit rate
          RidManager:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: RidManager
            strategy: DCDiag
          KnowsOfRoleHolders:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KnowsOfRoleHolders
            strategy: DCDiag
          KccEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KccEvent
            strategy: DCDiag
          dsDirectorySearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectorySearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Searches/sec
          ObjectsReplicated:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: ObjectsReplicated
            strategy: DCDiag
        graphs:
          Sessions:
            units: sessions
            miny: 0
            graphpoints:
              LDAP Client:
                dpName: ldapClientSessions_ldapClientSessions
                format: '%7.2lf%s'
          Authentication Rate:
            units: auths/sec
            miny: 0
            graphpoints:
              Kerberos:
                dpName: kerberosAuthentications_kerberosAuthentications
                format: '%7.2lf%s'
              NTLM:
                dpName: ntlmAuthentications_ntlmAuthentications
                format: '%7.2lf%s'
          KDC Requests:
            units: requests
            miny: 0
            graphpoints:
              TGS:
                dpName: kdcTgsRequests_kdcTgsRequests
                format: '%7.2lf%s'
              AS:
                dpName: kdcAsRequests_kdcAsRequests
                format: '%7.2lf%s'
          Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              LDAP New:
                dpName: ldapNewConnectionsSec_ldapNewConnectionsSec
                format: '%7.2lf%s'
              LDAP Closed:
                dpName: ldapClosedConnectionsSec_ldapClosedConnectionsSec
                format: '%7.2lf%s'
              LDAP New SSL:
                dpName: ldapNewSSLConnectionsSec_ldapNewSSLConnectionsSec
                format: '%7.2lf%s'
          Bind Rate:
            units: binds/sec
            miny: 0
            graphpoints:
              DS Client:
                dpName: dsClientBindsSec_dsClientBindsSec
                format: '%7.2lf%s'
              DS Server:
                dpName: dsServerBindsSec_dsServerBindsSec
                format: '%7.2lf%s'
              LDAP Success:
                dpName: ldapSuccessfulBinds_ldapSuccessfulBinds
                format: '%7.2lf%s'
          Bind Time:
            units: ms
            miny: 0
            graphpoints:
              LDAP:
                dpName: ldapBindTime_ldapBindTime
                format: '%7.2lf%s'
          Queue Size:
            units: notifications
            miny: 0
            graphpoints:
              DS Notify:
                dpName: dsNotifyQueueSize_dsNotifyQueueSize
                format: '%7.2lf%s'
          Threads:
            units: threads
            miny: 0
            graphpoints:
              LDAP Active:
                dpName: ldapActiveThreads_ldapActiveThreads
                format: '%7.2lf%s'
              DS In Use:
                dpName: dsThreadsInUse_dsThreadsInUse
                format: '%7.2lf%s'
          Cache Hit Rate:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              DS Name:
                dpName: dsNameCacheHitRate_dsNameCacheHitRate
                format: '%7.2lf%%'
          Operation Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              DS Name Translations:
                dpName: dsServerNameTranslationsSec_dsServerNameTranslationsSec
                format: '%7.2lf%s'
              'DS Writes           ':
                dpName: dsDirectoryWritesSec_dsDirectoryWritesSec
                format: '%7.2lf%s'
              'DS Searches         ':
                dpName: dsDirectorySearchesSec_dsDirectorySearchesSec
                format: '%7.2lf%s'
              'DS Reads            ':
                dpName: dsDirectoryReadsSec_dsDirectoryReadsSec
                format: '%7.2lf%s'
              'LDAP Writes         ':
                dpName: ldapWritesSec_ldapWritesSec
                format: '%7.2lf%s'
              'LDAP UDP            ':
                dpName: ldapUdpOperationsSec_ldapUdpOperationsSec
                format: '%7.2lf%s'
              'DS Sub-Search       ':
                dpName: dsSearchSuboperationsSec_dsSearchSuboperationsSec
                format: '%7.2lf%s'
              'LDAP Searches       ':
                dpName: ldapSearchesSec_ldapSearchesSec
                format: '%7.2lf%s'
      WinDatabase:
        description: Microsoft SQL Server per-database monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLDatabase
        datasources:
          LogFileSize:
            type: Windows Shell
            datapoints:
              LogFileSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logSize__kbytes: null}
            cycletime: '300'
            resource: Log File(s) Size (KB)
            strategy: powershell MSSQL
          LogCacheReadsSec:
            type: Windows Shell
            datapoints:
              LogCacheReadsSec:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Log Cache Reads/sec
            strategy: powershell MSSQL
          CacheHitRatio:
            type: Windows Shell
            datapoints:
              CacheHitRatio:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {cacheHitRatio__pct: null}
            cycletime: '300'
            resource: Cache Hit Ratio
            strategy: powershell MSSQL
          LogCacheHitRatio:
            type: Windows Shell
            datapoints:
              LogCacheHitRatio:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logCacheHitRatio__pct: null}
            cycletime: '300'
            resource: Log Cache Hit Ratio
            strategy: powershell MSSQL
          CacheEntriesCount:
            type: Windows Shell
            datapoints:
              CacheEntriesCount:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {cacheEntries: null}
            cycletime: '300'
            resource: Cache Entries Count
            strategy: powershell MSSQL
          CacheHitRatioBase:
            type: Windows Shell
            datapoints:
              CacheHitRatioBase:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Cache Hit Ratio Base
            strategy: powershell MSSQL
          DBCCLogicalScanBytesSec:
            type: Windows Shell
            datapoints:
              DBCCLogicalScanBytesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {DBCCLogicalScanBytes__sec: null}
            cycletime: '300'
            resource: DBCC Logical Scan Bytes/sec
            strategy: powershell MSSQL
          LogFlushWaitsSec:
            type: Windows Shell
            datapoints:
              LogFlushWaitsSec:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Log Flush Waits/sec
            strategy: powershell MSSQL
          ShrinkDataMovementBytesSec:
            type: Windows Shell
            datapoints:
              ShrinkDataMovementBytesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {shrinkDataMovementBytes__sec: null}
            cycletime: '300'
            resource: Shrink Data Movement Bytes/sec
            strategy: powershell MSSQL
          PercentLogUsed:
            type: Windows Shell
            datapoints:
              PercentLogUsed:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logUsed__pct: null}
            cycletime: '300'
            resource: Percent Log Used
            strategy: powershell MSSQL
          BulkCopyRowsSec:
            type: Windows Shell
            datapoints:
              BulkCopyRowsSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {bulkCopyRows__sec: null}
            cycletime: '300'
            resource: Bulk Copy Rows/sec
            strategy: powershell MSSQL
          LogFileUsedSize:
            type: Windows Shell
            datapoints:
              LogFileUsedSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logSizeUsed__kbytes: null}
            cycletime: '300'
            resource: Log File(s) Used Size (KB)
            strategy: powershell MSSQL
          LogGrowths:
            type: Windows Shell
            datapoints:
              LogGrowths:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logGrowths__sec: null}
            cycletime: '300'
            resource: Log Growths
            strategy: powershell MSSQL
          LogTruncations:
            type: Windows Shell
            datapoints:
              LogTruncations:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logTruncations__sec: null}
            cycletime: '300'
            resource: Log Truncations
            strategy: powershell MSSQL
          LogFlushWaitTime:
            type: Windows Shell
            datapoints:
              LogFlushWaitTime:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logFlushWaitTime__sec: null}
            cycletime: '300'
            resource: Log Flush Wait Time
            strategy: powershell MSSQL
          LogShrinks:
            type: Windows Shell
            datapoints:
              LogShrinks:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logShrinks__sec: null}
            cycletime: '300'
            resource: Log Shrinks
            strategy: powershell MSSQL
          BulkCopyThroughputSec:
            type: Windows Shell
            datapoints:
              BulkCopyThroughputSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {bulkCopyThroughput__sec: null}
            cycletime: '300'
            resource: Bulk Copy Throughput/sec
            strategy: powershell MSSQL
          LogBytesFlushedSec:
            type: Windows Shell
            datapoints:
              LogBytesFlushedSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logBytesFlushed__sec: null}
            cycletime: '300'
            resource: Log Bytes Flushed/sec
            strategy: powershell MSSQL
          LogFlushesSec:
            type: Windows Shell
            datapoints:
              LogFlushesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logFlushes__sec: null}
            cycletime: '300'
            resource: Log Flushes/sec
            strategy: powershell MSSQL
          ReplPendingXacts:
            type: Windows Shell
            datapoints:
              ReplPendingXacts:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
            resource: Repl. Pending Xacts
            strategy: powershell MSSQL
          TransactionsSec:
            type: Windows Shell
            datapoints:
              TransactionsSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {transactions__sec: null}
            cycletime: '300'
            resource: Transactions/sec
            strategy: powershell MSSQL
          CacheEntriesPinnedCount:
            type: Windows Shell
            datapoints:
              CacheEntriesPinnedCount:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {cacheEntriesPinned: null}
            cycletime: '300'
            resource: Cache Entries Pinned Count
            strategy: powershell MSSQL
          ActiveTransactions:
            type: Windows Shell
            datapoints:
              ActiveTransactions:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {activeTransactions: null}
            cycletime: '300'
            resource: Active Transactions
            strategy: powershell MSSQL
          BackupRestoreThroughputSec:
            type: Windows Shell
            datapoints:
              BackupRestoreThroughputSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {backupRestoreThroughput__sec: null}
            cycletime: '300'
            resource: Backup/Restore Throughput/sec
            strategy: powershell MSSQL
          DataFileSize:
            type: Windows Shell
            datapoints:
              DataFileSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {fileSize__kbytes: null}
            cycletime: '300'
            resource: Data File(s) Size (KB)
            strategy: powershell MSSQL
          ReplTransRate:
            type: Windows Shell
            datapoints:
              ReplTransRate:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {replTransactions__sec: null}
            cycletime: '300'
            resource: Repl. Trans. Rate
            strategy: powershell MSSQL
          LogCacheHitRatioBase:
            type: Windows Shell
            datapoints:
              LogCacheHitRatioBase:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logCacheHitRatioBase__pct: null}
            cycletime: '300'
            resource: Log Cache Hit Ratio Base
            strategy: powershell MSSQL
        graphs:
          Log Cache Hit Ratio:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Base:
                dpName: LogCacheHitRatioBase_LogCacheHitRatioBase
                lineType: DONTDRAW
              Hit:
                dpName: LogCacheHitRatio_LogCacheHitRatio
                format: '%7.2lf%%'
                rpn: Base,/,100,*,0,MAX,100,MIN
                color: 00cc00
          Log Flush Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: LogBytesFlushedSec_LogBytesFlushedSec
                format: '%7.2lf%s'
          Log File Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Used:
                dpName: LogFileUsedSize_LogFileUsedSize
                lineType: AREA
                format: '%7.2lf%s'
                rpn: 1024,*
                color: 00cc00
              Total:
                dpName: LogFileSize_LogFileSize
                format: '%7.2lf%s'
                rpn: 1024,*
                color: '000000'
          Database Console Commands (DBCC) Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Logical Scan:
                dpName: DBCCLogicalScanBytesSec_DBCCLogicalScanBytesSec
                format: '%7.2lf%s'
              Shrink Data:
                dpName: ShrinkDataMovementBytesSec_ShrinkDataMovementBytesSec
                format: '%7.2lf%s'
          Log Flush Rates:
            units: per/sec
            miny: 0
            graphpoints:
              Flushes:
                dpName: LogFlushesSec_LogFlushesSec
                format: '%7.2lf%s'
              Waits:
                dpName: LogFlushWaitsSec_LogFlushWaitsSec
                format: '%7.2lf%s'
          Cache Entries:
            units: entries
            miny: 0
            graphpoints:
              Pinned:
                dpName: CacheEntriesPinnedCount_CacheEntriesPinnedCount
                format: '%7.2lf%s'
              Total:
                dpName: CacheEntriesCount_CacheEntriesCount
                format: '%7.2lf%s'
          Log File Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Used:
                dpName: PercentLogUsed_PercentLogUsed
                format: '%7.2lf%%'
          Transactions:
            units: transactions
            miny: 0
            graphpoints:
              Active:
                dpName: ActiveTransactions_ActiveTransactions
                format: '%7.0lf'
          Cache Hit Ratio:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Base:
                dpName: CacheHitRatioBase_CacheHitRatioBase
                lineType: DONTDRAW
              Hit:
                dpName: CacheHitRatio_CacheHitRatio
                format: '%7.2lf%%'
                rpn: Base,/,100,*,0,MAX,100,MIN
                color: 00cc00
          Bulk Copy Rates:
            units: per/sec
            miny: 0
            graphpoints:
              Rows:
                dpName: BulkCopyRowsSec_BulkCopyRowsSec
                format: '%7.2lf%s'
          Bulk Copy Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Bytes:
                dpName: BulkCopyThroughputSec_BulkCopyThroughputSec
                format: '%7.2lf%s'
          Replication:
            units: transactions
            miny: 0
            graphpoints:
              Pending:
                dpName: ReplPendingXacts_ReplPendingXacts
                format: '%7.2lf%s'
          Backup and Restore Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: BackupRestoreThroughputSec_BackupRestoreThroughputSec
                format: '%7.2lf%s'
          Log Operation Rates:
            units: operations/sec
            miny: 0
            graphpoints:
              Growths:
                dpName: LogGrowths_LogGrowths
                format: '%7.2lf%s'
              Shrinks:
                dpName: LogShrinks_LogShrinks
                format: '%7.2lf%s'
              Truncations:
                dpName: LogTruncations_LogTruncations
                format: '%7.2lf%s'
          Transaction Rates:
            units: transactions/sec
            miny: 0
            graphpoints:
              Replication:
                dpName: ReplTransRate_ReplTransRate
                format: '%7.2lf%s'
              Normal:
                dpName: TransactionsSec_TransactionsSec
                format: '%7.2lf%s'
          Log Cache Throughput:
            units: operations/sec
            miny: 0
            graphpoints:
              Reads:
                dpName: LogCacheReadsSec_LogCacheReadsSec
                format: '%7.2lf%s'
          Log Flush Latency:
            units: seconds
            miny: 0
            graphpoints:
              Wait Time:
                dpName: LogFlushWaitTime_LogFlushWaitTime
                format: '%7.2lf%s'
                rpn: 1000,/
          Data File Size:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: DataFileSize_DataFileSize
                format: '%7.2lf%s'
                rpn: 1024,*
      MSExchangeADTopology:
        description: Microsoft Windows MSExchangeADTopology service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      msftesql-Exchange:
        description: Microsoft Windows msftesql-Exchange service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Manual
      FileSystem:
        description: Microsoft Windows file system monitoring.
        targetPythonClass: Products.ZenModel.FileSystem
        thresholds:
          low disk space:
            dsnames: [FreeMegabytes_FreeMegabytes]
            eventClass: /Perf/Filesystem
            minval: here.totalBlocks * here.blockSize / 1024 / 1024 * .1
        datasources:
          DiskReadTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadTime:
                rrdtype: GAUGE
                aliases: {diskReadTime: null}
            counter: \% Disk Read Time
          DiskWriteBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteBytesSec:
                rrdtype: GAUGE
                aliases: {diskWriteBytes__sec: null}
            counter: \Disk Write Bytes/sec
          DiskWriteTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteTime:
                rrdtype: GAUGE
                aliases: {diskWriteTime: null}
            counter: \% Disk Write Time
          DiskReadBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadBytesSec:
                rrdtype: GAUGE
                aliases: {diskReadBytes__sec: null}
            counter: \Disk Read Bytes/sec
          FreeMegabytes:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              FreeMegabytes:
                rrdtype: GAUGE
                aliases: {usedFilesystemSpace__bytes: '1024,*,1024,*,${here/totalBytes},EXC,-'}
            counter: \Free Megabytes
        graphs:
          Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Used:
                dpName: FreeMegabytes_FreeMegabytes
                lineType: AREA
                format: '%7.2lf%%'
                rpn: 1048576,*,${here/totalBlocks},/,${here/blockSize},/,100,*,100,-,-1,*
          Disk Size:
            units: Gigabytes
            miny: 0
            graphpoints:
              Size:
                dpName: FreeMegabytes_FreeMegabytes
                format: '%7.2lf%s'
                rpn: 1024,/,${here/usedBytes},1073741824,/,+
          Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadBytesSec_DiskReadBytesSec
                format: '%7.2lf%s'
              Write:
                dpName: DiskWriteBytesSec_DiskWriteBytesSec
                format: '%7.2lf%s'
          Time:
            units: percent
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadTime_DiskReadTime
                format: '%7.2lf%%'
              Write:
                dpName: DiskWriteTime_DiskWriteTime
                format: '%7.2lf%%'
      Device:
        description: Microsoft Windows server monitoring.
        thresholds:
          CPU Utilization:
            dsnames: [ProcessorTotalProcessorTime_ProcessorTotalProcessorTime]
            eventClass: /Perf/CPU
            maxval: '90'
          Paging File Usage:
            dsnames: [PagingFileTotalUsage_PagingFileTotalUsage]
            eventClass: /Perf
            maxval: '95'
          Memory:
            dsnames: [MemoryCommittedBytes_MemoryCommittedBytes]
            eventClass: /Perf/Memory
            maxval: here.hw.totalMemory * 0.9
        datasources:
          sysUpTime:
            type: Windows Perfmon
            datapoints:
              sysUpTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \System\System Up Time
          MemoryAvailableBytes:
            type: Windows Perfmon
            datapoints:
              MemoryAvailableBytes:
                rrdtype: GAUGE
                aliases: {memoryAvailable__bytes: null}
            counter: \Memory\Available bytes
          ProcessorTotalProcessorTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalProcessorTime:
                rrdtype: GAUGE
                aliases: {cpu__pct: null}
            counter: \Processor(_Total)\% Processor Time
          MemoryPagesOutputSec:
            type: Windows Perfmon
            datapoints:
              MemoryPagesOutputSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Pages Output/sec
          WinRMPing:
            type: WinRM Ping
            enabled: false
          ProcessorTotalUserTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalUserTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Processor(_Total)\% User Time
          ProcessorTotalPrivilegedTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalPrivilegedTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Processor(_Total)\% Privileged Time
          MemoryPagesInputSec:
            type: Windows Perfmon
            datapoints:
              MemoryPagesInputSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Pages Input/sec
          PagingFileTotalUsage:
            type: Windows Perfmon
            datapoints:
              PagingFileTotalUsage:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Paging File(_Total)\% Usage
          MemoryCommittedBytes:
            type: Windows Perfmon
            datapoints:
              MemoryCommittedBytes:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Committed Bytes
        graphs:
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Available:
                dpName: MemoryAvailableBytes_MemoryAvailableBytes
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Committed:
                dpName: MemoryCommittedBytes_MemoryCommittedBytes
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
                includeThresholds: true
          CPU Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Total:
                dpName: ProcessorTotalProcessorTime_ProcessorTotalProcessorTime
                format: '%7.2lf%%'
                includeThresholds: true
              Privileged:
                dpName: ProcessorTotalPrivilegedTime_ProcessorTotalPrivilegedTime
                format: '%7.2lf%%'
              User:
                dpName: ProcessorTotalUserTime_ProcessorTotalUserTime
                format: '%7.2lf%%'
          Memory Paging:
            units: pages/sec
            miny: 0
            graphpoints:
              Input:
                dpName: MemoryPagesInputSec_MemoryPagesInputSec
                format: '%7.2lf%s'
              Output:
                dpName: MemoryPagesOutputSec_MemoryPagesOutputSec
                format: '%7.2lf%s'
          Paging File Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Total Usage:
                dpName: PagingFileTotalUsage_PagingFileTotalUsage
                lineType: AREA
                format: '%7.2lf%%'
                includeThresholds: true
      WinService:
        description: Microsoft Windows per-service monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            severity: 5
            cycletime: '300'
            startmode: None
      TransportRole-2010:
        description: Exchange Server 2010 Transport Role Monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Exchange.ExchangeServer
        thresholds:
          total_delivery_queue_length:
            dsnames: [msetqAggregateDeliveryQueueLength_msetqAggregateDeliveryQueueLength]
            eventClass: /Status
            minval: '3000'
            maxval: '5000'
          retry_remote_delivery_queue_length:
            dsnames: [msetqRetryRemoteDeliveryQueueLength_msetqRetryRemoteDeliveryQueueLength]
            eventClass: /Status
            maxval: '100'
          active_remote_delivery_queue_length:
            dsnames: [msetqActiveRemoteDeliveryQueueLength_msetqActiveRemoteDeliveryQueueLength]
            eventClass: /Status
            maxval: '250'
          largest_delivery_queue_length:
            dsnames: [msetqLargestDeliveryQueueLength_msetqLargestDeliveryQueueLength]
            eventClass: /Status
            maxval: '200'
        datasources:
          msesdInboundLocalDeliveryCallsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesdInboundLocalDeliveryCallsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of local delivery attempts per second.
                aliases: {msesdInbndLocalDlvrCalls__sec: null}
            counter: '\MSExchange Store Driver\Inbound: LocalDeliveryCallsPerSecond'
          msedDumpsterInsertsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedDumpsterInsertsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate at which items are inserted into the transport
                  dumpster on this server.
                aliases: {msedDumpsterInserts__sec: null}
            counter: \MSExchangeTransport Dumpster\Dumpster Inserts/sec
          msetqActiveRemoteDeliveryQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqActiveRemoteDeliveryQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in the active remote delivery
                  queues.
                aliases: {msetqActvRmtDeliveryQueueLen: null}
            counter: \MSExchangeTransport Queues(_total)\Active Remote Delivery Queue
              Length
          msetqLargestDeliveryQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqLargestDeliveryQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in the largest delivery
                  queues.
                aliases: {msetqLargestDeliveryQueueLength: null}
            counter: \MSExchangeTransport Queues(_total)\Largest Delivery Queue Length
          msetqAggregateDeliveryQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqAggregateDeliveryQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages queued for delivery in all
                  queues.
                aliases: {msetqAggeDeliveryQueueLen: null}
            counter: \MSExchangeTransport Queues(_total)\Aggregate Delivery Queue
              Length (All Queues)
          msesdInboundRecipientsDeliveredPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesdInboundRecipientsDeliveredPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of inbound recipients delivered per
                  second.
                aliases: {msesdInbndRcpsDelivered__sec: null}
            counter: '\MSExchange Store Driver\Inbound: Recipients Delivered Per Second'
          msetdDumpsterItemCount:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetdDumpsterItemCount:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the total number of mail items currently in the
                  transport dumpster on this server.
                aliases: {msetdDumpsterItemCount: null}
            counter: \MSExchangeTransport Dumpster\Dumpster Item Count
          msetqRetryRemoteDeliveryQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqRetryRemoteDeliveryQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in a retry state in the
                  remote delivery queues.
                aliases: {msetqRetryRmtDeliveryQueueLen: null}
            counter: \MSExchangeTransport Queues(_total)\Retry Remote Delivery Queue
              Length
          msetdDumpsterDeletesPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetdDumpsterDeletesPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate at which items are deleted from the transport
                  dumpster on this server.
                aliases: {msetdDumpsterDeletes__sec: null}
            counter: \MSExchangeTransport Dumpster\Dumpster Deletes/sec
          msesdOutboundSubmittedMailItemsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesdOutboundSubmittedMailItemsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of mail items per second being submitted.
                aliases: {msesdOutbndSubmitMailItem__sec: null}
            counter: '\MSExchange Store Driver\Outbound: Submitted Mail Items Per
              Second'
          msesdInboundMessageDeliveryAttemptsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesdInboundMessageDeliveryAttemptsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of attempts for delivering transport
                  mail items per second
                aliases: {msesdInbndMsgDlvrAttempt__sec: null}
            counter: '\MSExchange Store Driver\Inbound: MessageDeliveryAttemptsPerSecond'
          msetdDumpsterSize:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetdDumpsterSize:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the total size (in bytes) of mail items currently
                  in the transport dumpster on this server.
                aliases: {msetdDumpsterSize: null}
            counter: \MSExchangeTransport Dumpster\Dumpster Size
        graphs:
          Submitted Mail Items:
            units: items/sec
            miny: 0
            graphpoints:
              Submitted mail:
                dpName: msesdOutboundSubmittedMailItemsPerSec_msesdOutboundSubmittedMailItemsPerSec
          Transport Dumpster Deletes:
            units: deletes/sec
            miny: 0
            graphpoints:
              Deletes:
                dpName: msetdDumpsterDeletesPerSec_msetdDumpsterDeletesPerSec
          Transport Queue Lengths:
            units: messages
            miny: 0
            graphpoints:
              Aggregate:
                dpName: msetqAggregateDeliveryQueueLength_msetqAggregateDeliveryQueueLength
                includeThresholds: true
              Active remote:
                dpName: msetqActiveRemoteDeliveryQueueLength_msetqActiveRemoteDeliveryQueueLength
                includeThresholds: true
              Retry remote:
                dpName: msetqRetryRemoteDeliveryQueueLength_msetqRetryRemoteDeliveryQueueLength
                includeThresholds: true
              Largest:
                dpName: msetqLargestDeliveryQueueLength_msetqLargestDeliveryQueueLength
                includeThresholds: true
          Transport Dumpster Inserts:
            units: inserts/sec
            miny: 0
            graphpoints:
              Inserts:
                dpName: msedDumpsterInsertsPerSec_msedDumpsterInsertsPerSec
          Transport Dumpster:
            units: bytes
            miny: 0
            graphpoints:
              Dumpster:
                dpName: msetdDumpsterSize_msetdDumpsterSize
          Recipients Delivered:
            units: recipients/sec
            miny: 0
            graphpoints:
              Recipients:
                dpName: msesdInboundRecipientsDeliveredPerSec_msesdInboundRecipientsDeliveredPerSec
          Transport Load (Attempts):
            units: attempts/sec
            miny: 0
            graphpoints:
              Transport mail items:
                dpName: msesdInboundMessageDeliveryAttemptsPerSec_msesdInboundMessageDeliveryAttemptsPerSec
          Transport Dumpster Count:
            units: items
            miny: 0
            graphpoints:
              Items:
                dpName: msetdDumpsterItemCount_msetdDumpsterItemCount
      MSExchangeTransportLogSearch:
        description: Microsoft Windows MSExchangeTransportLogSearch service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      MSExchangeFDS:
        description: Microsoft Windows MSExchangeFDS service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      Active Directory:
        description: Microsoft Active Directory
        thresholds:
          ldapBindTimeCrit:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 5
            maxval: '30'
          ldapBindTimeErr:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 4
            maxval: '15'
          ldapBindTimeWarn:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            maxval: '5'
        datasources:
          ldapNewConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapNewConnections__sec: null}
            counter: \NTDS\LDAP New Connections/sec
          ldapSuccessfulBinds:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSuccessfulBinds:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapSuccessfulBinds: null}
            counter: \NTDS\LDAP Successful Binds/sec
          dsSearchSuboperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsSearchSuboperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsSearchSuboperations__sec: null}
            counter: \NTDS\DS Search sub-operations/sec
          dsThreadsInUse:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsThreadsInUse:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsThreadsInUse: null}
            counter: \NTDS\DS Threads in Use
          ldapBindTime:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapBindTime:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapBindTime: null}
            counter: \NTDS\LDAP Bind Time
          kdcTgsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcTgsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kdcTgsRequests: null}
            counter: \Security System-Wide Statistics\KDC TGS Requests
          SystemLog:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SystemLog
            strategy: DCDiag
          PortCheck:
            type: Windows PortCheck
            severity: 4
            cycletime: '1800'
            ports: '[{"port": "9389", "desc": "Traffic:SOAP. Usage:Web Services"},{"port":
              "3268", "desc": "Traffic:LDAP GC; Usage:Directory, Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "3269",
              "desc": "Traffic:LDAP GC SSL; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "88", "desc":
              "Traffic:Kerberos; Usage:User and Computer Authentication, Forest Level
              Trusts"},{"port": "464", "desc": "Traffic:Kerberos change/set password.
              Usage:Replication, User and Computer Authentication, Trusts"},{"port":
              "389", "desc": "Traffic:LDAP; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "636", "desc":
              "Traffic:LDAP SSL; Usage:Directory, Replication, User and Computer Authentication,
              Group Policy, Trusts"},{"port": "445", "desc": "Traffic:SMB,CIFS,SMB2,
              DFSN, LSARPC, NbtSS, NetLogonR, SamR, SrvSvc; Usage:Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "135",
              "desc": "Traffic:RPC, EPM; Usage:Replication"}]'
          dsServerNameTranslationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerNameTranslationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsServerNameTranslations__sec: null}
            counter: \NTDS\DS Server Name Translations/sec
          MachineAccount:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: MachineAccount
            strategy: DCDiag
          dsServerBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsServerBinds__sec: null}
            counter: \NTDS\DS Server Binds/sec
          FSMOCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FSMOCheck
            strategy: DCDiag
          dsDirectoryReadsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryReadsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsDirectoryReads__sec: null}
            counter: \NTDS\DS Directory Reads/sec
          DFSREvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: DFSREvent
            strategy: DCDiag
          ldapActiveThreads:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapActiveThreads:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapActiveThreads: null}
            counter: \NTDS\LDAP Active Threads
          ntlmAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ntlmAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ntlmAuthentications: null}
            counter: \Security System-Wide Statistics\NTLM Authentications
          LocatorCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: LocatorCheck
            strategy: DCDiag
          NetLogons:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NetLogons
            strategy: DCDiag
          dsClientBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsClientBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsClientBinds__sec: null}
            counter: \NTDS\DS Client Binds/sec
          kdcAsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcAsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kdcAsRequests: null}
            counter: \Security System-Wide Statistics\KDC AS Requests
          VerifyEnterpriseReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyEnterpriseReferences
            strategy: DCDiag
          dsDirectoryWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsDirectoryWrites__sec: null}
            counter: \NTDS\DS Directory Writes/sec
          Services:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Services
            strategy: DCDiag
          ldapWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapWrites__sec: null}
            counter: \NTDS\LDAP Writes/sec
          SysVolCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SysVolCheck
            strategy: DCDiag
          NCSecDesc:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NCSecDesc
            strategy: DCDiag
          kerberosAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kerberosAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kerberosAuthentications: null}
            counter: \Security System-Wide Statistics\Kerberos Authentications
          ldapClientSessions:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClientSessions:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapClientSessions: null}
            counter: \NTDS\LDAP Client Sessions
          CrossRefValidation:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CrossRefValidation
            strategy: DCDiag
          ldapSearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapSearches__sec: null}
            counter: \NTDS\LDAP Searches/sec
          Replications:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Replications
            strategy: DCDiag
          ldapUdpOperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapUdpOperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapUdpOperations__sec: null}
            counter: \NTDS\LDAP UDP operations/sec
          Advertising:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Advertising
            strategy: DCDiag
          FrsEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FrsEvent
            strategy: DCDiag
          ldapNewSSLConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewSSLConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapNewSSLConnections__sec: null}
            counter: \NTDS\LDAP New SSL Connections/sec
          VerifyReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyReferences
            strategy: DCDiag
          ldapClosedConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClosedConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapClosedConnections__sec: null}
            counter: \NTDS\LDAP Closed Connections/sec
          CheckSDRefDom:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CheckSDRefDom
            strategy: DCDiag
          dsNotifyQueueSize:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNotifyQueueSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsNotifyQueueSize: null}
            counter: \NTDS\DS Notify Queue Size
          dsNameCacheHitRate:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNameCacheHitRate:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsNameCacheHitRate__pct: null}
            counter: \NTDS\DS Name Cache hit rate
          RidManager:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: RidManager
            strategy: DCDiag
          KnowsOfRoleHolders:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KnowsOfRoleHolders
            strategy: DCDiag
          KccEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KccEvent
            strategy: DCDiag
          dsDirectorySearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectorySearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsDirectorySearches__sec: null}
            counter: \NTDS\DS Directory Searches/sec
          ObjectsReplicated:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: ObjectsReplicated
            strategy: DCDiag
        graphs:
          Sessions:
            units: sessions
            miny: 0
            graphpoints:
              LDAP Client:
                dpName: ldapClientSessions_ldapClientSessions
                format: '%7.2lf%s'
          Authentication Rate:
            units: auths/sec
            miny: 0
            graphpoints:
              Kerberos:
                dpName: kerberosAuthentications_kerberosAuthentications
                format: '%7.2lf%s'
              NTLM:
                dpName: ntlmAuthentications_ntlmAuthentications
                format: '%7.2lf%s'
          KDC Requests:
            units: requests
            miny: 0
            graphpoints:
              TGS:
                dpName: kdcTgsRequests_kdcTgsRequests
                format: '%7.2lf%s'
              AS:
                dpName: kdcAsRequests_kdcAsRequests
                format: '%7.2lf%s'
          Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              LDAP New:
                dpName: ldapNewConnectionsSec_ldapNewConnectionsSec
                format: '%7.2lf%s'
              LDAP Closed:
                dpName: ldapClosedConnectionsSec_ldapClosedConnectionsSec
                format: '%7.2lf%s'
              LDAP New SSL:
                dpName: ldapNewSSLConnectionsSec_ldapNewSSLConnectionsSec
                format: '%7.2lf%s'
          Bind Rate:
            units: binds/sec
            miny: 0
            graphpoints:
              DS Client:
                dpName: dsClientBindsSec_dsClientBindsSec
                format: '%7.2lf%s'
              DS Server:
                dpName: dsServerBindsSec_dsServerBindsSec
                format: '%7.2lf%s'
              LDAP Success:
                dpName: ldapSuccessfulBinds_ldapSuccessfulBinds
                format: '%7.2lf%s'
          Bind Time:
            units: ms
            miny: 0
            graphpoints:
              LDAP:
                dpName: ldapBindTime_ldapBindTime
                format: '%7.2lf%s'
          Queue Size:
            units: notifications
            miny: 0
            graphpoints:
              DS Notify:
                dpName: dsNotifyQueueSize_dsNotifyQueueSize
                format: '%7.2lf%s'
          Threads:
            units: threads
            miny: 0
            graphpoints:
              LDAP Active:
                dpName: ldapActiveThreads_ldapActiveThreads
                format: '%7.2lf%s'
              DS In Use:
                dpName: dsThreadsInUse_dsThreadsInUse
                format: '%7.2lf%s'
          Cache Hit Rate:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              DS Name:
                dpName: dsNameCacheHitRate_dsNameCacheHitRate
                format: '%7.2lf%%'
          Operation Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              DS Name Translations:
                dpName: dsServerNameTranslationsSec_dsServerNameTranslationsSec
                format: '%7.2lf%s'
              'DS Writes           ':
                dpName: dsDirectoryWritesSec_dsDirectoryWritesSec
                format: '%7.2lf%s'
              'DS Searches         ':
                dpName: dsDirectorySearchesSec_dsDirectorySearchesSec
                format: '%7.2lf%s'
              'DS Reads            ':
                dpName: dsDirectoryReadsSec_dsDirectoryReadsSec
                format: '%7.2lf%s'
              'LDAP Writes         ':
                dpName: ldapWritesSec_ldapWritesSec
                format: '%7.2lf%s'
              'LDAP UDP            ':
                dpName: ldapUdpOperationsSec_ldapUdpOperationsSec
                format: '%7.2lf%s'
              'DS Sub-Search       ':
                dpName: dsSearchSuboperationsSec_dsSearchSuboperationsSec
                format: '%7.2lf%s'
              'LDAP Searches       ':
                dpName: ldapSearchesSec_ldapSearchesSec
                format: '%7.2lf%s'
      OSProcess-2003:
        description: Microsoft Windows 2003 per-process monitoring.
        targetPythonClass: Products.ZenModel.OSProcess
        thresholds:
          count:
            dsnames: [process_count]
            eventClass: /Status/OSProcess
            minval: here.getMinProcessCount()
            maxval: here.getMaxProcessCount()
        datasources:
          process:
            type: Windows Process
            datapoints:
              count:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSet:
                rrdtype: GAUGE
                rrdmin: 0
              PercentProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
        graphs:
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Total Working Set:
                dpName: process_WorkingSet
                format: '%7.2lf%s'
          CPU Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Processor Time:
                dpName: process_PercentProcessorTime
                format: '%7.2lf%%'
          Running Processes:
            units: processes
            miny: 0
            graphpoints:
              Count:
                dpName: process_count
                format: '%7.0lf'
      MSExchangeServiceHost:
        description: Microsoft Windows MSExchangeServiceHost service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      MailboxRole-2010:
        description: Exchange Server 2010 Mailbox Role Monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Exchange.ExchangeServer
        thresholds:
          replication_receive_queue_size:
            dsnames: [mseisPublicReplicationReceiveQueueSize_mseisPublicReplicationReceiveQueueSize]
            eventClass: /Status
            maxval: '100'
          mailbox_client_rpc_fails:
            dsnames: [mseisClientRPCFailedPerSec_mseisClientRPCFailedPerSec]
            eventClass: /Status
            maxval: '0'
          mailbox_slow_search_threads:
            dsnames: [mseisSlowSearchThreads_mseisSlowSearchThreads]
            eventClass: /Status
            maxval: '10'
          mailbox_average_document_indexing_time:
            dsnames: [msesiAverageDocumentIndexingTime_msesiAverageDocumentIndexingTime]
            eventClass: /Status
            maxval: '30000'
          mailbox_slow_qp_threads:
            dsnames: [mseisSlowQPThreads_mseisSlowQPThreads]
            eventClass: /Status
            maxval: '10'
          mailbox_messages_queued:
            dsnames: [mseisMailboxTotalMessagesQueued_mseisMailboxTotalMessagesQueued]
            eventClass: /Status
            maxval: '50'
          mailbox_public_message_queued:
            dsnames: [mseisPublicMailboxTotalMessagesQueued_mseisPublicMailboxTotalMessagesQueued]
            eventClass: /Status
            maxval: '20'
        datasources:
          msesiAverageLatencyObtainContent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesiAverageLatencyObtainContent:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average latency of the most recent RPCs to
                  the Information Store service.
                aliases: {msesiAvgLatencyObtainContent: null}
            counter: \MSExchange Search Indices(_Total)\Average Latency of RPCs Used
              to Obtain Content
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: RPC latency in ms  averaged for all operations in the
                  last 1024 packets.
                aliases: {mseisRPCAveragedLatency: null}
            counter: \MSExchangeIS\RPC Averaged Latency
          mseisMailboxMessagesSubmittedPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisMailboxMessagesSubmittedPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate that messages are submitted by clients.
                aliases: {mseisMbxMsgsSubmitted__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Messages Submitted/sec
          msemsftesqProcessorTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msemsftesqProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
                rrdmax: 100
                description: Shows the amount of processor time being consumed to
                  update content indexing within the store process.
                aliases: {msemsftesqProcessorTime: null}
            counter: \Process(msftesql)\% Processor Time
          mseSearchProcessProcessorTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseSearchProcessProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
                rrdmax: 100
                description: Shows the amount of processor time currently being consumed
                  by the Exchange Search service.
                aliases: {mseSearchProcessProcessorTime: null}
            counter: \Process(Microsoft.Exchange.Search.ExSearch)\% Processor time
          mseisSlowSearchThreads:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisSlowSearchThreads:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of search threads currently running
                  queries that aren't optimized.
                aliases: {mseisSlowSearchThreads: null}
            counter: \MSExchangeIS\Slow Search Threads
          msesiAverageDocumentIndexingTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesiAverageDocumentIndexingTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average of how long it takes to index documents.
                aliases: {msesiAvgDocumentIndexingTime: null}
            counter: \MSExchange Search Indices(_Total)\Average Document Indexing
              Time
          mseisMailboxSlowFindrowRate:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisMailboxSlowFindrowRate:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate at which the slower FindRow needs to be
                  used in the mailbox store.
                aliases: {mseisMailboxSlowFindrowRate: null}
            counter: \MSExchangeIS Mailbox(_Total)\Slow Findrow Rate
          mseisPublicMailboxTotalMessagesQueued:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisPublicMailboxTotalMessagesQueued:
                rrdtype: GAUGE
                rrdmin: 0
                description: The current number of submitted messages not yet processed
                  by the transport layer.
                aliases: {mseisPublicMbxTotalMsgsQueued: null}
            counter: \MSExchangeIS Public(_Total)\Messages Queued for Submission
          mseisRPCClientBackoffPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisRPCClientBackoffPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Indicates the rate at which client backoffs are occurring.
                aliases: {mseisRPCClientBackoff__sec: null}
            counter: \MSExchangeIS\RPC Client Backoff/sec
          mseisClientRPCFailedPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisClientRPCFailedPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the client-reported rate of failed RPCs.
                aliases: {mseisClientRPCFailed__sec: null}
            counter: '\MSExchangeIS\Client: RPCs Failed/sec'
          mseisSlowQPThreads:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisSlowQPThreads:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of query processor threads currently
                  running queries that aren't optimized.
                aliases: {mseisSlowQPThreads: null}
            counter: \MSExchangeIS\Slow QP Threads
          mseisMailboxTotalMessagesQueued:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisMailboxTotalMessagesQueued:
                rrdtype: GAUGE
                rrdmin: 0
                description: The current number of submitted messages not yet processed
                  by the transport layer.
                aliases: {mseisMailboxTotalMessagesQueued: null}
            counter: \MSExchangeIS Mailbox(_Total)\Messages Queued for Submission
          mseisMailboxSearchTaskRate:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisMailboxSearchTaskRate:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of search tasks created per second.
                aliases: {mseisMailboxSearchTaskRate: null}
            counter: \MSExchangeIS Mailbox(_Total)\Search Task Rate
          mseisPublicReplicationReceiveQueueSize:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisPublicReplicationReceiveQueueSize:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of replication messages waiting to be
                  processed.
                aliases: {mseisPublicReplRcvQueueSize: null}
            counter: \MSExchangeIS Public(_Total)\Replication Receive Queue Size
          mseisUserCount:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisUserCount:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of users connected to the information
                  store.
                aliases: {mseisUserCount: null}
            counter: \MSExchangeIS\User Count
          mseisMailboxMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisMailboxMessagesDeliveredPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate that messages are delivered to all recipients.
                aliases: {mseisMbxMsgsDelivered: null}
            counter: \MSExchangeIS Mailbox(_Total)\Messages Delivered/sec
          mseisMailboxMessagesSentPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisMailboxMessagesSentPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate that messages are sent to transport.
                aliases: {mseisMailboxMessagesSent__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Messages Sent/sec
        graphs:
          RPC Client Throttling:
            units: RPCs/sec
            graphpoints:
              RPCs failed per second:
                dpName: mseisClientRPCFailedPerSec_mseisClientRPCFailedPerSec
                includeThresholds: true
          Messages:
            units: messages/sec
            miny: 0
            graphpoints:
              Delivered:
                dpName: mseisMailboxMessagesDeliveredPerSec_mseisMailboxMessagesDeliveredPerSec
              Submitted:
                dpName: mseisMailboxMessagesSubmittedPerSec_mseisMailboxMessagesSubmittedPerSec
              Sent:
                dpName: mseisMailboxMessagesSentPerSec_mseisMailboxMessagesSentPerSec
          Content Indexing Time:
            units: ms
            miny: 0
            graphpoints:
              Average latency obtaining content:
                dpName: msesiAverageLatencyObtainContent_msesiAverageLatencyObtainContent
              Average document indexing time:
                dpName: msesiAverageDocumentIndexingTime_msesiAverageDocumentIndexingTime
                includeThresholds: true
          Message Queuing:
            units: messages
            graphpoints:
              Mailbox Messages Queued:
                dpName: mseisMailboxTotalMessagesQueued_mseisMailboxTotalMessagesQueued
                includeThresholds: true
              Public Messages Queued:
                dpName: mseisPublicMailboxTotalMessagesQueued_mseisPublicMailboxTotalMessagesQueued
                includeThresholds: true
          Client Search Findrow Rate:
            graphpoints:
              Slow findrow rate:
                dpName: mseisMailboxSlowFindrowRate_mseisMailboxSlowFindrowRate
          Information Store RPC Latency:
            units: ms
            graphpoints:
              RPC average latency:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
          Content Indexing:
            units: percent
            miny: 100
            maxy: 0
            graphpoints:
              Content indexing service:
                dpName: msemsftesqProcessorTime_msemsftesqProcessorTime
              Exchange Search service:
                dpName: mseSearchProcessProcessorTime_mseSearchProcessProcessorTime
          Client Search Task Rate:
            units: tasks/sec
            graphpoints:
              Search task rate:
                dpName: mseisMailboxSearchTaskRate_mseisMailboxSearchTaskRate
          RPC Backoffs:
            units: backoffs/sec
            miny: 0
            graphpoints:
              RPC backoffs:
                dpName: mseisRPCClientBackoffPerSec_mseisRPCClientBackoffPerSec
          Client Search Threads:
            units: threads
            graphpoints:
              Slow search threads:
                dpName: mseisSlowSearchThreads_mseisSlowSearchThreads
                includeThresholds: true
              Slow QP threads:
                dpName: mseisSlowQPThreads_mseisSlowQPThreads
                includeThresholds: true
      MSExchange2013IS:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCAveragedLatency: null}
            counter: \MSExchange Store Interface(_Total)\RPC Latency average (msec)
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCOperations__sec: null}
            counter: \MSExchange Store Interface(_Total)\RPC Requests sent/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpServerLocalQueueLength: null}
            counter: \MSExchangeTransport Queues(_Total)\Active Mailbox Delivery Queue
              Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpServerMsgsDelivered__sec: null}
            counter: \MSExchange Delivery SmtpSend(_Total)\Messages Sent/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxLocalDeliveryRate: null}
            counter: \MSExchangeIS Store(_Total)\Messages Delivered/sec
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxMessageOpens__sec: null}
            counter: \MSExchangeIS Store(_Total)\Messages opened/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCRequests: null}
            counter: \MSExchange Store Interface(_Total)\RPC Requests sent
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxFolderOpens__sec: null}
            counter: \MSExchangeIS Store(_Total)\Folders opened/sec
        graphs:
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
          Exchange - RPC Requests Sent:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Messages Delivered:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
              'Message Opens   ':
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              'Folder Opens    ':
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
          SMTP Server - Active Delivery Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          Exchange - RPC Requests Sent per Sec:
            units: requests/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
      IISSites:
        description: Microsoft IIS site monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinIIS
        datasources:
          sitecheck:
            type: Windows IIS Site
            eventClass: /Status
            cycletime: '300'
          iisPostRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPostRequests:
                rrdtype: GAUGE
                aliases: {iisSitePostRequests__sec: null}
            counter: \Web Service(${here/sitename})\Post Requests/sec
          iisISAPIExtensionRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisISAPIExtensionRequests:
                rrdtype: GAUGE
                aliases: {iisSiteISAPIExtensionReqs__sec: null}
            counter: \Web Service(${here/sitename})\ISAPI Extension Requests/sec
          iisGetRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisGetRequests:
                rrdtype: GAUGE
                aliases: {iisSiteGetRequests__sec: null}
            counter: \Web Service(${here/sitename})\Get Requests/sec
          iisLockRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisLockRequests:
                rrdtype: GAUGE
                aliases: {iisSiteLockRequests__sec: null}
            counter: \Web Service(${here/sitename})\Lock Requests/sec
          iisFilesReceived:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisFilesReceived:
                rrdtype: GAUGE
                aliases: {iisSiteFilesReceived__sec: null}
            counter: \Web Service(${here/sitename})\Files Received/sec
          iisCopyRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCopyRequests:
                rrdtype: GAUGE
                aliases: {iisSiteCopyRequests__sec: null}
            counter: \Web Service(${here/sitename})\Copy Requests/sec
          iisConnectionAttempts:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisConnectionAttempts:
                rrdtype: GAUGE
                aliases: {iisSiteConnectionAttempts__sec: null}
            counter: \Web Service(${here/sitename})\Connection Attempts/sec
          iisOtherRequestMethods:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisOtherRequestMethods:
                rrdtype: GAUGE
                aliases: {iisSiteOtherRequestMethods__sec: null}
            counter: \Web Service(${here/sitename})\Other Request Methods/sec
          iisUnlockRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisUnlockRequests:
                rrdtype: GAUGE
                aliases: {iisSiteUnlockRequests__sec: null}
            counter: \Web Service(${here/sitename})\Unlock Requests/sec
          iisSearchRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisSearchRequests:
                rrdtype: GAUGE
                aliases: {iisSiteSearchRequests__sec: null}
            counter: \Web Service(${here/sitename})\Search Requests/sec
          iisTraceRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisTraceRequests:
                rrdtype: GAUGE
                aliases: {iisSiteTraceRequests__sec: null}
            counter: \Web Service(${here/sitename})\Trace Requests/sec
          iisDeleteRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisDeleteRequests:
                rrdtype: GAUGE
                aliases: {iisSiteDeleteRequests__sec: null}
            counter: \Web Service(${here/sitename})\Delete Requests/sec
          iisPropfindRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPropfindRequests:
                rrdtype: GAUGE
                aliases: {iisSitePropfindRequests__sec: null}
            counter: \Web Service(${here/sitename})\Propfind Requests/sec
          iisMkcolRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisMkcolRequests:
                rrdtype: GAUGE
                aliases: {iisSiteMkcolRequests__sec: null}
            counter: \Web Service(${here/sitename})\Mkcol Requests/sec
          iisMoveRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisMoveRequests:
                rrdtype: GAUGE
                aliases: {iisSiteMoveRequests__sec: null}
            counter: \Web Service(${here/sitename})\Move Requests/sec
          iisOptionsRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisOptionsRequests:
                rrdtype: GAUGE
                aliases: {iisSiteOptionsRequests__sec: null}
            counter: \Web Service(${here/sitename})\Options Requests/sec
          iisPutRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPutRequests:
                rrdtype: GAUGE
                aliases: {iisSitePutRequests__sec: null}
            counter: \Web Service(${here/sitename})\Put Requests/sec
          iisBytesSent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisBytesSent:
                rrdtype: GAUGE
                aliases: {iisSiteSent__bytes: null}
            counter: \Web Service(${here/sitename})\Bytes Sent/sec
          iisCurrentConnections:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCurrentConnections:
                rrdtype: GAUGE
                aliases: {iisSiteCurrentConnections: null}
            counter: \Web Service(${here/sitename})\Current Connections
          iisFilesSent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisFilesSent:
                rrdtype: GAUGE
                aliases: {iisSiteFilesSent__sec: null}
            counter: \Web Service(${here/sitename})\Files Sent/sec
          iisBytesReceived:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisBytesReceived:
                rrdtype: GAUGE
                aliases: {iisSiteReceived__bytes: null}
            counter: \Web Service(${here/sitename})\Bytes Received/sec
          iisProppatchRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisProppatchRequests:
                rrdtype: GAUGE
                aliases: {iisSiteProppatchRequests__sec: null}
            counter: \Web Service(${here/sitename})\Proppatch Requests/sec
          iisCGIRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCGIRequests:
                rrdtype: GAUGE
                aliases: {iisSiteCGIRequests: null}
            counter: \Web Service(${here/sitename})\CGI Requests/sec
          iisHeadRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisHeadRequests:
                rrdtype: GAUGE
                aliases: {iisSiteHeadRequests__sec: null}
            counter: \Web Service(${here/sitename})\Head Requests/sec
        graphs:
          IIS - Other Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Connections:
            units: connections
            miny: 0
            graphpoints:
              Current:
                dpName: iisCurrentConnections_iisCurrentConnections
                format: '%7.0lf'
          IIS - Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              Attempts:
                dpName: iisConnectionAttempts_iisConnectionAttempts
                format: '%7.2lf%s'
          IIS - Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Received:
                dpName: iisBytesReceived_iisBytesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisBytesSent_iisBytesSent
                format: '%7.2lf%s'
          IIS - Basic Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - File Rate:
            units: files/sec
            miny: 0
            graphpoints:
              Received:
                dpName: iisFilesReceived_iisFilesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisFilesSent_iisFilesSent
                format: '%7.2lf%s'
      ClientAccessRole-2010:
        description: Exchange Server 2010 Client Access Role Monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Exchange.ExchangeServer
        thresholds:
          oab_download_tasks_queued:
            dsnames: [mseoabDownloadTaskQueued_mseoabDownloadTaskQueued]
            eventClass: /Status
            maxval: '0'
        datasources:
          mseoabDownloadTaskQueued:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseoabDownloadTaskQueued:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of OAB download tasks queued since the
                  File Distribution service started.
                aliases: {mseoabDownloadTaskQueued: null}
            counter: \MSExchangeFDS:OAB(_Total)\Download Task Queued
          mseoabDownloadTaskCompleted:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseoabDownloadTaskCompleted:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of OAB download tasks completed since
                  the File Distribution service started. The default value is every
                  480 minutes or 8 hours.
                aliases: {mseoabDownloadTaskCompleted: null}
            counter: \MSExchangeFDS:OAB(_Total)\Download Tasks Completed
        graphs:
          OAB Tasks:
            units: tasks
            miny: 0
            graphpoints:
              Completed:
                dpName: mseoabDownloadTaskCompleted_mseoabDownloadTaskCompleted
              Queued:
                dpName: mseoabDownloadTaskQueued_mseoabDownloadTaskQueued
                includeThresholds: true
      MSExchangeMonitoring:
        description: Microsoft Windows MSExchangeMonitoring service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Manual
      ethernetCsmacd:
        description: Microsoft Windows network interface monitoring.
        targetPythonClass: Products.ZenModel.IpInterface
        thresholds:
          high utilization:
            dsnames: [bytesReceivedSec_bytesReceivedSec, bytesSentSec_bytesSentSec]
            eventClass: /Status/Interface
            maxval: (here.speed or 1e9) / 8 * .75
        datasources:
          bytesSentSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              bytesSentSec:
                rrdtype: GAUGE
                aliases: {outputOctets__bytes: null}
            counter: \Bytes Sent/sec
          packetsReceivedErrors:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsReceivedErrors:
                rrdtype: GAUGE
                aliases: {ifInErrors: null}
            counter: \Packets Received Errors
          packetsSentSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsSentSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {packetsSent__sec: null}
            counter: \Packets Sent/sec
          bytesReceivedSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              bytesReceivedSec:
                rrdtype: GAUGE
                aliases: {inputOctets__bytes: null}
            counter: \Bytes Received/sec
          packetsSentErrors:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsSentErrors:
                rrdtype: GAUGE
                aliases: {ifOutErrors: null}
            counter: \Packets Outbound Errors
          packetsReceivedSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsReceivedSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {packetsReceived__sec: null}
            counter: \Packets Received/sec
        graphs:
          Throughput:
            units: bits/sec
            miny: 0
            graphpoints:
              Inbound:
                dpName: bytesReceivedSec_bytesReceivedSec
                format: '%7.2lf%s'
                rpn: 8,*
              Outbound:
                dpName: bytesSentSec_bytesSentSec
                format: '%7.2lf%s'
                rpn: 8,*
          Errors:
            units: '# of errors'
            miny: 0
            graphpoints:
              Receive:
                dpName: packetsReceivedErrors_packetsReceivedErrors
                format: '%7.2lf%s'
              Send:
                dpName: packetsSentErrors_packetsSentErrors
                format: '%7.2lf%s'
          Packets:
            units: packets/sec
            miny: 0
            graphpoints:
              Inbound:
                dpName: packetsReceivedSec_packetsReceivedSec
                format: '%7.2lf%s'
              Outbound:
                dpName: packetsSentSec_packetsSentSec
                format: '%7.2lf%s'
      MSExchangeMailSubmission:
        description: Microsoft Windows MSExchangeMailSubmission service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      Cluster:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: State collection for Cluster Services
            cycletime: '300'
            resource: get-clustergroup
            strategy: powershell Cluster Services
      IISADMIN:
        description: Microsoft Windows IISADMIN service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto
      MailboxRole:
        description: Exchange Server Mailbox Role Monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Exchange.ExchangeServer
        thresholds:
          mailbox_log_read_latency:
            dsnames: [msedbIODatabaseLogReadAverageLatency_msedbIODatabaseLogReadAverageLatency]
            eventClass: /Status
            maxval: '200'
          mailbox_log_threads_waiting:
            dsnames: [msedbInformationStoreLogThreadsWaiting_msedbInformationStoreLogThreadsWaiting]
            eventClass: /Status
            maxval: '10'
          mailbox_log_bytes_write:
            dsnames: [msedbInformationStoreLogBytesWritePerSec_msedbInformationStoreLogBytesWritePerSec]
            eventClass: /Status
            maxval: '10000000'
          rpc_latency_average:
            dsnames: [msesiRPClatencyAverage_msesiRPClatencyAverage]
            eventClass: /Status
            maxval: '100'
          rpc_requests_outstanding:
            dsnames: [mseisRPCRequestsOutstanding_mseisRPCRequestsOutstanding]
            eventClass: /Status
            maxval: '0'
          calendar_attendant_requests_failed:
            dsnames: [msecaRequestsFailed_msecaRequestsFailed]
            eventClass: /Status
            maxval: '0'
          mailbox_database_page_flush:
            dsnames: [msedbInformationStoreDBPageFaultStallsPerSec_msedbInformationStoreDBPageFaultStallsPerSec]
            eventClass: /Status
            maxval: '0'
          mailbox_read_recovery_latency:
            dsnames: [msedbIODatabaseReadsRecoveryAverageLatency_msedbIODatabaseReadsRecoveryAverageLatency]
            eventClass: /Status
            maxval: '20'
          mailbox_version_buckets:
            dsnames: [msedbInformationStoreVersionBucketsAllocated_msedbInformationStoreVersionBucketsAllocated]
            eventClass: /Status
            maxval: '12000'
          resource_booking_requests_failed:
            dsnames: [mserbRequestsFailed_mserbRequestsFailed]
            eventClass: /Status
            maxval: '0'
          mailbox_read_attached_latency:
            dsnames: [msedbIODatabaseReadsAverageLatency_msedbIODatabaseReadsAverageLatency]
            eventClass: /Status
            maxval: '20'
          mailbox_log_stalls:
            dsnames: [mseDBInformationStoreLogRecordStallsPerSec_mseDBInformationStoreLogRecordStallsPerSec]
            eventClass: /Status
            maxval: '10'
          mailbox_database_cache_size:
            dsnames: [msedbInformationStoreDatabaseCacheSizeMB_msedbInformationStoreDatabaseCacheSizeMB]
            eventClass: /Status
            maxval: (here.device().hw.totalMemory-2147483648)/1048576
        datasources:
          msedbIODatabaseReadsAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbIODatabaseReadsAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Average time in ms to read from the database file.
                aliases: {msedbIODbReadsAverageLatency: null}
            counter: \MSExchange Database(information store)\I/O Database Reads (Attached)
              Average Latency
          msedbInformationStoreLogBytesWritePerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInformationStoreLogBytesWritePerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the rate of bytes written to the log.
                aliases: {msedbInfoStoreLogBytesWrt__sec: null}
            counter: \MSExchange Database(Information Store)\Log Bytes Write/sec
          msedbIODatabaseWritesRecoveryAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbIODatabaseWritesRecoveryAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Average time in ms to write to the database file.
                aliases: {msedbIODbWritesRecovAvgLatency: null}
            counter: \MSExchange Database(information store)\I/O Database Writes (Recovery)
              Average Latency
          msedbInformationStoreDBPageFaultStallsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInformationStoreDBPageFaultStallsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: The rate that database file page requests require of
                  the database cache manager to allocate a new page from the database
                  cache.
                aliases: {msedbInfoStoreDbPgFltStlls__sec: null}
            counter: \MSExchange Database(Information Store)\Database Page Fault Stalls/sec
          msesiRPClatencyAverage:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msesiRPClatencyAverage:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average latency in ms of RPC requests. The
                  average is calculated over all RPCs since exrpc32 was loaded.
                aliases: {msesiRPClatencyAverage: null}
            counter: \MSExchange Store Interface(_Total)\RPC Latency average (msec)
          mserbAverageResourceBookingProcessingTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mserbAverageResourceBookingProcessingTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time to process an event in the Resource
                  Booking Attendant.  Should be a low value at all times.
                aliases: {mserbAvgResourceBookProcTime: null}
            counter: \MSExchange Resource Booking\Average Resource Booking Processing
              Time
          msedbInformationStoreVersionBucketsAllocated:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInformationStoreVersionBucketsAllocated:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the total number of version buckets allocated.
                aliases: {msedbInfoStoreVerBucketsAlloc: null}
            counter: \MSExchange Database(Information Store)\Version buckets allocated
          msedbIODatabaseWritesAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbIODatabaseWritesAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Average time in ms to write to the database file.
                aliases: {msedbIODbWritesAverageLatency: null}
            counter: \MSExchange Database(information store)\I/O Database Writes (Attached)
              Average Latency
          msedbInformationStoreDatabaseCachePercentHit:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInformationStoreDatabaseCachePercentHit:
                rrdtype: GAUGE
                rrdmin: 0
                rrdmax: 100
                description: Shows the percentage of database file page requests fulfilled
                  by the database cache without causing a file operation.
                aliases: {msedbInfoStoreDbCachePctHit: null}
            counter: \MSExchange Database(Information Store)\Database Cache % Hit
          msedbIOLogWritesAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbIOLogWritesAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Average time in ms to write to the log file.
                aliases: {msedbIOLogWritesAverageLatency: null}
            counter: \MSExchange Database(information store)\I/O Log Writes Average
              Latency
          mseMailboxAssistantsProcessorTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseMailboxAssistantsProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the amount of processor time being consumed by
                  mailbox assistants.
                aliases: {mseMbxAssistantsProcessorTime: null}
            counter: \Process(MSExchangeMailboxAssistants)\% Processor Time
          mserbRequestsFailed:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mserbRequestsFailed:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the total number of failures that occurred while
                  the Resource Booking Attendant was processing events.
                aliases: {mserbRequestsFailed: null}
            counter: \MSExchange Resource Booking\Requests Failed
          msedbIODatabaseReadsRecoveryAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbIODatabaseReadsRecoveryAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Average time in ms to read from the database file.
                aliases: {msedbIODbReadsRecovAvgLatency: null}
            counter: \MSExchange Database(information store)\I/O Database Reads (Recovery)
              Average Latency
          msedbIODatabaseLogReadAverageLatency:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbIODatabaseLogReadAverageLatency:
                rrdtype: GAUGE
                rrdmin: 0
                description: Average time in ms to read from a log file.
                aliases: {msedbIODbLogReadAverageLatency: null}
            counter: \MSExchange Database(information store)\I/O Log Reads Average
              Latency
          mseDBInformationStoreLogRecordStallsPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseDBInformationStoreLogRecordStallsPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of log records that can't be added to
                  the log buffers per second because the log buffers are full.
                aliases: {mseDBInfoStoreLogRecStalls__sec: null}
            counter: \MSExchange Database(Information Store)\Log Record Stalls/sec
          msecaAverageCalendarAttendantProcessingtime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecaAverageCalendarAttendantProcessingtime:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average time to process an event in the Calendar
                  Attendant.  Should be a low value at all times.
                aliases: {msecaAvgCalAttendantProcTime: null}
            counter: \MSExchange Calendar Attendant\Average Calendar Attendant Processing
              time
          msedbInformationStoreDatabaseCacheSizeMB:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInformationStoreDatabaseCacheSizeMB:
                rrdtype: GAUGE
                rrdmin: 0
                description: ''
                aliases: {msedbInforStoreDbCacheSizeMB: null}
            counter: \MSExchange Database(Information Store)\Database Cache Size (MB)
          mseisRPCRequestsOutstanding:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              mseisRPCRequestsOutstanding:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the current number of outstanding RPC requests.
                aliases: {mseisRPCRequestsOutstanding: null}
            counter: \MSExchange Store Interface(_Total)\RPC Requests outstanding
          msedbInformationStoreLogThreadsWaiting:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msedbInformationStoreLogThreadsWaiting:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of threads waiting for their data to
                  be written to the log to complete an update of the database.
                aliases: {msedbInfoStoreLogThrdsWaiting: null}
            counter: \MSExchange Database(Information Store)\Log Threads Waiting
          msecaRequestsFailed:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msecaRequestsFailed:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the total number of failures that occurred while
                  the Calendar Attendant was processing events.
                aliases: {msecaRequestsFailed: null}
            counter: \MSExchange Calendar Attendant\Requests Failed
        graphs:
          Database Cache Hit:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Database cache hit:
                dpName: msedbInformationStoreDatabaseCachePercentHit_msedbInformationStoreDatabaseCachePercentHit
          Resource Booking Requests Failed:
            units: failures
            miny: 0
            graphpoints:
              Requests Failed:
                dpName: mserbRequestsFailed_mserbRequestsFailed
                includeThresholds: true
          RPC Latency Average:
            units: ms
            miny: 0
            graphpoints:
              RPC Latency:
                dpName: msesiRPClatencyAverage_msesiRPClatencyAverage
                includeThresholds: true
          Resource Booking Processing:
            units: ms
            miny: 0
            graphpoints:
              Average resource booking processing time:
                dpName: mserbAverageResourceBookingProcessingTime_mserbAverageResourceBookingProcessingTime
          Database Log Bytes Write:
            units: bytes/sec
            graphpoints:
              Database Log Bytes:
                dpName: msedbInformationStoreLogBytesWritePerSec_msedbInformationStoreLogBytesWritePerSec
                includeThresholds: true
          Database Cache Size:
            units: mb
            base: true
            graphpoints:
              Database cache:
                dpName: msedbInformationStoreDatabaseCacheSizeMB_msedbInformationStoreDatabaseCacheSizeMB
                includeThresholds: true
          Database Copy IO Latency:
            units: ms
            graphpoints:
              Passive writes latency:
                dpName: msedbIODatabaseWritesRecoveryAverageLatency_msedbIODatabaseWritesRecoveryAverageLatency
              Passive reads latency:
                dpName: msedbIODatabaseReadsRecoveryAverageLatency_msedbIODatabaseReadsRecoveryAverageLatency
                includeThresholds: true
              Active writes latency:
                dpName: msedbIODatabaseWritesAverageLatency_msedbIODatabaseWritesAverageLatency
              Active reads latency:
                dpName: msedbIODatabaseReadsAverageLatency_msedbIODatabaseReadsAverageLatency
                includeThresholds: true
          Database Log Threads:
            units: threads
            graphpoints:
              Database log threads waiting:
                dpName: msedbInformationStoreLogThreadsWaiting_msedbInformationStoreLogThreadsWaiting
                includeThresholds: true
          Database Stalls:
            units: stalls/sec
            graphpoints:
              Database page fault stalls:
                dpName: msedbInformationStoreDBPageFaultStallsPerSec_msedbInformationStoreDBPageFaultStallsPerSec
                includeThresholds: true
              Log record stalls:
                dpName: mseDBInformationStoreLogRecordStallsPerSec_mseDBInformationStoreLogRecordStallsPerSec
                includeThresholds: true
          Calendar Attendant Requests Failed:
            units: failures
            miny: 0
            graphpoints:
              Requests Failed:
                dpName: msecaRequestsFailed_msecaRequestsFailed
                includeThresholds: true
          Database Version Buckets Allocated:
            units: buckets
            graphpoints:
              Database version buckets:
                dpName: msedbInformationStoreVersionBucketsAllocated_msedbInformationStoreVersionBucketsAllocated
                includeThresholds: true
          Log IO Latency:
            units: ms
            graphpoints:
              Replay log reads latency:
                dpName: msedbIODatabaseLogReadAverageLatency_msedbIODatabaseLogReadAverageLatency
                includeThresholds: true
              Active log writes Latency:
                dpName: msedbIOLogWritesAverageLatency_msedbIOLogWritesAverageLatency
          Calendar Attendant Processing:
            units: ms
            miny: 0
            graphpoints:
              Average calendar attendant processing time:
                dpName: msecaAverageCalendarAttendantProcessingtime_msecaAverageCalendarAttendantProcessingtime
      OSProcess:
        description: Microsoft Windows per-process monitoring.
        targetPythonClass: Products.ZenModel.OSProcess
        thresholds:
          count:
            dsnames: [process_count]
            eventClass: /Status/OSProcess
            minval: here.getMinProcessCount()
            maxval: here.getMaxProcessCount()
        datasources:
          process:
            type: Windows Process
            datapoints:
              count:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSet:
                rrdtype: GAUGE
                rrdmin: 0
              PercentProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSetPrivate:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
        graphs:
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              'Total Working Set  ':
                dpName: process_WorkingSet
                format: '%7.2lf%s'
              Private Working Set:
                dpName: process_WorkingSetPrivate
                format: '%7.2lf%s'
          CPU Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Processor Time:
                dpName: process_PercentProcessorTime
                format: '%7.2lf%%'
          Running Processes:
            units: processes
            miny: 0
            graphpoints:
              Count:
                dpName: process_count
                format: '%7.0lf'
      HardDisk:
        description: Microsoft Windows file system monitoring.
        targetPythonClass: Products.ZenModel.HardDisk
        datasources:
          DiskReadTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadTime:
                rrdtype: GAUGE
                aliases: {diskReadTime: null}
            counter: \% Disk Read Time
          DiskWriteBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteBytesSec:
                rrdtype: GAUGE
                aliases: {diskWriteBytes__sec: null}
            counter: \Disk Write Bytes/sec
          DiskWriteTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteTime:
                rrdtype: GAUGE
                aliases: {diskWriteTime: null}
            counter: \% Disk Write Time
          DiskReadBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadBytesSec:
                rrdtype: GAUGE
                aliases: {diskReadBytes__sec: null}
            counter: \Disk Read Bytes/sec
        graphs:
          Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadBytesSec_DiskReadBytesSec
                format: '%7.2lf%s'
              Write:
                dpName: DiskWriteBytesSec_DiskWriteBytesSec
                format: '%7.2lf%s'
          Time:
            units: percent
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadTime_DiskReadTime
                format: '%7.2lf%%'
              Write:
                dpName: DiskWriteTime_DiskWriteTime
                format: '%7.2lf%%'
      TransportRole:
        description: Exchange Server Transport Role Monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Exchange.ExchangeServer
        thresholds:
          retry_mailbox_delivery_queue_length:
            dsnames: [msetqRetryMailboxDeliveryQueueLength_msetqRetryMailboxDeliveryQueueLength]
            eventClass: /Status
            maxval: '100'
          submission_queue_length:
            dsnames: [msetqSubmissionQueueLength_msetqSubmissionQueueLength]
            eventClass: /Status
            maxval: '100'
          active_mailbox_delivery_queue_length:
            dsnames: [msetqActivemailboxDeliveryQueueLength_msetqActivemailboxDeliveryQueueLength]
            eventClass: /Status
            maxval: '250'
          poison_queue_length:
            dsnames: [msetqPoisonQueueLength_msetqPoisonQueueLength]
            eventClass: /Status
            maxval: '0'
          active_non_smtp_delivery_queue_length:
            dsnames: [msetqActiveNonSmtpDeliveryQueueLength_msetqActiveNonSmtpDeliveryQueueLength]
            eventClass: /Status
            maxval: '250'
          unreachable_queue_length:
            dsnames: [msetqUnreachableQueueLength_msetqUnreachableQueueLength]
            eventClass: /Status
            maxval: '100'
          retry_non_smtp_delivery_queue_length:
            dsnames: [msetqRetryNonSmtpDeliveryQueueLength_msetqRetryNonSmtpDeliveryQueueLength]
            eventClass: /Status
            maxval: '100'
        datasources:
          msetqActiveNonSmtpDeliveryQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqActiveNonSmtpDeliveryQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in the drop directory used
                  by a Foreign connector.
                aliases: {msetqActvNonSmtpDlvrQueueLen: null}
            counter: \MSExchangeTransport Queues(_total)\Active Non-Smtp Delivery
              Queue Length
          msetSmtpReceiveMessagesReceivedPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetSmtpReceiveMessagesReceivedPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages received by the SMTP server
                  each second.
                aliases: {msetSmtpRcvMsgRcv__sec: null}
            counter: \MSExchangeTransport SmtpReceive(_total)\Messages Received/sec
          msetSmtpReceiveAverageBytesPerMessage:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetSmtpReceiveAverageBytesPerMessage:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the average number of message bytes per inbound
                  message received.
                aliases: {msetSmtpRcvAvgBytesPerMsg: null}
            counter: \MSExchangeTransport SmtpReceive(_total)\Average bytes/message
          msetqSubmissionQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqSubmissionQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in the submission queue.
                aliases: {msetqSubmissionQueueLength: null}
            counter: \MSExchangeTransport Queues(_total)\Submission Queue Length
          msetqRetryMailboxDeliveryQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqRetryMailboxDeliveryQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in a retry state attempting
                  to deliver a message to a remote mailbox.
                aliases: {msetqRetryMbxDlvrQueueLen: null}
            counter: \MSExchangeTransport Queues(_total)\Retry Mailbox Delivery Queue
              Length
          msetSmtpSendMessagesSentPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetSmtpSendMessagesSentPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages sent by the SMTP send connector
                  each second.
                aliases: {msetSmtpSendMessagesSent__sec: null}
            counter: \MSExchangeTransport SmtpSend(_total)\Messages Sent/sec
          msetqMessagesSubmittedPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqMessagesSubmittedPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages queued in the Submission
                  queue per second.
                aliases: {msetqMessagesSubmitted__sec: null}
            counter: \MSExchangeTransport Queues(_total)\Messages Submitted Per Second
          msetqMessagesQueuedForDeliveryPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqMessagesQueuedForDeliveryPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages queued for delivery per
                  second.
                aliases: {msetqMsgtsQueuedForDlvr__sec: null}
            counter: \MSExchangeTransport Queues(_total)\Messages Queued for Delivery
              Per Second
          msetqMessagesCompletedDeliveryPerSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqMessagesCompletedDeliveryPerSec:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages delivered per second. Determines
                  current load.
                aliases: {msetqMsgsCmpltDlvr__sec: null}
            counter: \MSExchangeTransport Queues(_total)\Messages Completed Delivery
              Per Second
          msetqUnreachableQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqUnreachableQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in the Unreachable queue.
                aliases: {msetqUnreachableQueueLength: null}
            counter: \MSExchangeTransport Queues(_total)\Unreachable Queue Length
          msetqPoisonQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqPoisonQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in the poison message queue.
                aliases: {msetqPoisonQueueLength: null}
            counter: \MSExchangeTransport Queues(_total)\Poison Queue Length
          msetqRetryNonSmtpDeliveryQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqRetryNonSmtpDeliveryQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in a retry state in the
                  non-SMTP gateway delivery queues.
                aliases: {msetqRetryNonSmtpDlvrQueueLen: null}
            counter: \MSExchangeTransport Queues(_total)\Retry Non-Smtp Delivery Queue
              Length
          msetqActivemailboxDeliveryQueueLength:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              msetqActivemailboxDeliveryQueueLength:
                rrdtype: GAUGE
                rrdmin: 0
                description: Shows the number of messages in the active mailbox queues.
                aliases: {msetqActvMbxDlvrQueueLen: null}
            counter: \MSExchangeTransport Queues(_total)\Active Mailbox Delivery Queue
              Length
        graphs:
          Average Bytes Per Message:
            units: bytes
            miny: 0
            graphpoints:
              Message:
                dpName: msetSmtpReceiveAverageBytesPerMessage_msetSmtpReceiveAverageBytesPerMessage
          Transport Queue Lengths:
            units: messages
            miny: 0
            graphpoints:
              Active mailbox:
                dpName: msetqActivemailboxDeliveryQueueLength_msetqActivemailboxDeliveryQueueLength
                includeThresholds: true
              Submission:
                dpName: msetqSubmissionQueueLength_msetqSubmissionQueueLength
                includeThresholds: true
              Retry non-smtp:
                dpName: msetqRetryNonSmtpDeliveryQueueLength_msetqRetryNonSmtpDeliveryQueueLength
                includeThresholds: true
              Retry mailbox:
                dpName: msetqRetryMailboxDeliveryQueueLength_msetqRetryMailboxDeliveryQueueLength
                includeThresholds: true
              Poison:
                dpName: msetqPoisonQueueLength_msetqPoisonQueueLength
                includeThresholds: true
              Active non-smtp:
                dpName: msetqActiveNonSmtpDeliveryQueueLength_msetqActiveNonSmtpDeliveryQueueLength
                includeThresholds: true
              Unreachable:
                dpName: msetqUnreachableQueueLength_msetqUnreachableQueueLength
                includeThresholds: true
          Transport Load (Messages):
            units: messages/sec
            miny: 0
            graphpoints:
              Delivered:
                dpName: msetqMessagesCompletedDeliveryPerSec_msetqMessagesCompletedDeliveryPerSec
              SMTP Sent:
                dpName: msetSmtpSendMessagesSentPerSec_msetSmtpSendMessagesSentPerSec
              SMTP Received:
                dpName: msetSmtpReceiveMessagesReceivedPerSec_msetSmtpReceiveMessagesReceivedPerSec
              Queued:
                dpName: msetqMessagesQueuedForDeliveryPerSec_msetqMessagesQueuedForDeliveryPerSec
              Submitted:
                dpName: msetqMessagesSubmittedPerSec_msetqMessagesSubmittedPerSec
      MSExchangeIS:
        description: Microsoft Windows MSExchangeIS service monitoring
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            startmode: Auto

event_classes:
  /Status:
    mappings:
      WindowsServiceLog:
        eventClassKey: WindowsServiceLog
        sequence: 10
        transform: "import re\n\n@transact\ndef change_properties(currentstate):\n\
          \    if getattr(component, 'state') != currentstate:\n            setattr(component,\
          \ 'state', currentstate)\n\nmsg = evt.summary\nsummaryObj = re.match(r'Service\
          \ (.*): (.*) has changed to (.*) state(.*)', msg)\n\nchange_properties(summaryObj.group(3))"
        example: 'Service Alert: ALG has changed to Stopped state'
        remove: true
      IISSiteStatus:
        eventClassKey: IISSiteStatus
        sequence: 10
        transform: "import re\n\n@transact\ndef change_properties(currentstate):\n\
          \    if getattr(component, 'status') != currentstate:\n        setattr(component,\
          \ 'status', currentstate)\n\nmsg = evt.summary\nsummaryObj = re.match(r'IIS\
          \ Service (.*) is in (.*) state(.*)', msg)\n\nchange_properties(summaryObj.group(2))"
        example: IIS Service W3SVC_1 is in Stopped state
        remove: true
  /Status/Kerberos:
    mappings:
      Failure Default:
        eventClassKey: MW|Kerberos|Auth|Failure
        sequence: 1111
  /Status/Kerberos/Auth:
    mappings:
      Failure Default:
        eventClassKey: MW|Kerberos|Auth|Failure
        sequence: 1111
  /Status/Kerberos/Auth/Failure:
    remove: true
    mappings:
      Failure Default:
        eventClassKey: MW|Kerberos|Auth|Failure
        sequence: 1111
  /Status/Kerberos/Failure:
    remove: true
    mappings:
      Failure Default:
        eventClassKey: MW|Kerberos|Failure
        sequence: 1101
  /Status/Winrm:
    mappings:
      Wrong Credentials Default:
        eventClassKey: MW|WrongCredentials
        sequence: 1002
  /Status/Winrm/Ping:
    remove: true
  /Status/Winrm/Auth:
    mappings:
      Wrong Credentials Default:
        eventClassKey: MW|WrongCredentials
        sequence: 1002
  /Status/Winrm/Auth/WrongCredentials:
    remove: true
    mappings:
      Wrong Credentials Default:
        eventClassKey: MW|WrongCredentials
        sequence: 1002
  /Status/Winrm/Auth/PasswordExpired:
    remove: true
    mappings:
      Password Expired Default:
        eventClassKey: MW|PasswordExpired
        sequence: 1001
