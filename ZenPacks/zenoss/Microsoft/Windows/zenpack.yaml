name: ZenPacks.zenoss.Microsoft.Windows
zProperties:
  DEFAULTS:
    category: Windows
  zWinRMPassword:
    type: password
    default: ''
    label: Windows Authentication Password
    description: Password for user defined by zWinRMUser
  zWinRMUser:
    default: ''
    label: Windows Authentication User
    description: If user@somedomain then zWinKDC and zWinRMServerName are possibly required
  zWinRMServerName:
    default: ''
    label: Server Fully Qualified Domain Name
    description: FQDN for domain authentication if resolution fails or different from AD
  zWinRMPort:
    default: '5985'
    label: WS-Management Port
    description: WS-Management TCP communication port
  zDBInstances:
    type: instancecredentials
    default: '[{"instance": "MSSQLSERVER", "user": "", "passwd": ""}]'
    category: 'Misc'
    label: MSSQL Instance parameters
    description: Microsoft SQL connection parameters 
  zWinKDC:
    default: ''
    label: Windows Key Distribution Center 
    description: Domain controller IP or resolvable hostname
  zWinKeyTabFilePath:
    default: ''
    label: Windows Keytab Path
    description: Reserved for future use keytab file
  zWinScheme:
    default: 'http'
    label: Windows Protocol Scheme
    description: Either "http" or "https"
  zWinPerfmonInterval:
    default: 300
    label: Windows Collection Interval
    description: Interval in seconds at which data is collected
  zWinTrustedRealm:
    default: ''
    label: Windows Trusted Realm
    description: Authentication domain trusted by zWinRMUser 
  zWinTrustedKDC:
    default: ''
    label: Windows Key Distribution Center (Trusted)
    description: Domain controller IP or resolvable hostname
  zWinUseWsmanSPN:
    default: false
    type: boolean
    label: Use WSMAN Service Principal Name
    description: Set to true if HTTP/HTTPS service principles are exclusively for use by a particular service account
  zWinRMEnvelopeSize:
    default: 512000
    type: int
    label: WMI Query Output Envelope Size
    description: Used when WinRM configuration setting "MaxEnvelopeSizekb" exceeds default of 512k
  zWinRMLocale:
    default: en-US
    label: Windows Locale 
    description: Communication locale to use for monitoring
  zWinRSCodePage:
    default: 65001
    type: int
    label: Windows Code Page
    description: Code page used by monitoring user account.


class_relationships:
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(winrmservices) 1:MC (os)WinService
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(winrmiis) 1:MC (os)WinIIS
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(winsqlinstances) 1:MC (os)WinSQLInstance
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(clusterservices) 1:MC (os)ClusterService
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(clusternetworks) 1:MC (os)ClusterNetwork
  - ZenPacks.zenoss.Microsoft.Windows.OperatingSystem.OperatingSystem(clusternodes) 1:MC (os)ClusterNode
  - ClusterService(clusterresources) 1:MC (clusterservice)ClusterResource
  - ClusterNode(clusterdisks) 1:MC (clusternode)ClusterDisk
  - ClusterNode(clusterinterfaces) 1:MC (clusternode)ClusterInterface
  - WinSQLInstance(backups) 1:MC (winsqlinstance)WinSQLBackup
  - WinSQLInstance(databases) 1:MC (winsqlinstance)WinSQLDatabase
  - WinSQLInstance(jobs) 1:MC (winsqlinstance)WinSQLJob
  - TeamInterface(teaminterfaces) 1:M (teaminterface)Interface


classes:
  BaseDevice:
    base: [zenpacklib.Device]

  ClusterObject:
    base: [zenpacklib.OSComponent]
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      getState:
        label: State
        api_only: true
        api_backendtype: method
        grid_display: true
        order: 7
      domain:
        label: Domain
        default: ''

  ClusterNodeObject:
    base: [ClusterObject]
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      ownernode:
        label: Owner Node
      get_host_device:
        label: Cluster Node
        grid_display: true
        api_only: true
        api_backendtype: method
        type: entity
        order: 1

  Device:
    base: [BaseDevice]
    label: Device
    properties:
      clusterdevices:
        label: Cluster Devices
        default: ''
      sqlhostname:
        label: SQL Host Name
        default: None
      msexchangeversion:
        label: MS Exchange Version
        default: None
      ip_and_hostname:
        default: None
      domain_controller:
        label: MS Exchange Version
        type: boolean
        default: false
    impacts:
      - all_filesystems
      - all_processes
      - all_ipservices
      - all_cpus
      - all_interfaces
      - all_clusterservices
      - all_clusternodes
      - all_clusternetworks
      - all_winservices
      - all_hyperv
      - all_winsqlinstances
      - all_winrmiis
    impacted_by: []
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts:
        - all_filesystems
        - all_processes
        - all_ipservices
        - all_cpus
        - all_interfaces
        - all_clusterservices
        - all_clusternodes
        - all_clusternetworks
        - all_winservices
        - all_hyperv
        - all_winsqlinstances
        - all_winrmiis
      impacted_by: []

  ClusterDevice:
    base: [Device]
    properties:
      clusterhostdevices:
        label: Cluster Host Devices
        default: ''
      GUID:
        label: GUID
        default: None
      creatingdc:
        label: Creating DC
        default: None
    impacts:
      - all_filesystems
      - all_processes
      - all_ipservices
      - all_cpus
      - all_interfaces
      - all_clusterservices
      - all_clusternodes
      - all_clusternetworks
      - all_winservices
      - all_hyperv
      - all_winsqlinstances
      - all_winrmiis
    impacted_by: [all_clusterhosts]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts:
        - all_filesystems
        - all_processes
        - all_ipservices
        - all_cpus
        - all_interfaces
        - all_clusterservices
        - all_clusternodes
        - all_clusternetworks
        - all_winservices
        - all_hyperv
        - all_winsqlinstances
        - all_winrmiis
      impacted_by: [all_clusterhosts]

  ClusterResource:
    label: Cluster Resource
    base: [ClusterNodeObject]
    order: 5
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      description:
        label: Description
      ownergroup:
        label: Owner Group
        type: boolean
        default: False
    monitoring_templates: [ClusterResource]
    impacts: []
    impacted_by: [device, clusterservice]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [clusterservice]

  ClusterService:
    label: Cluster Service
    base: [ClusterNodeObject]
    order: 6
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      description:
        label: Description
      coregroup:
        label: Core Group
        type: boolean
        default: False
      priority:
        label: Priority
        type: int
        default: 0
    monitoring_templates: [ClusterService]
    impacts: [clusterresources]
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: [clusterresources]
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  ClusterNode:
    label: Cluster Node
    base: [ClusterNodeObject]
    order: 1
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      assignedvote:
        label: Assigned Vote
        grid_display: true
        order: 2
      currentvote:
        label: Current Vote
        grid_display: true
        order: 3
    monitoring_templates: [ClusterNode]
    impacts: []
    impacted_by: [clusterdisks, clusterinterfaces]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [clusterdisks, clusterinterfaces]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  ClusterDisk:
    label: Cluster Disk
    base: [ClusterNodeObject]
    order: 2
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      volumepath:
        label: Volume Path
      disknumber:
        label: Disk Number
      partitionnumber:
        label: Partition Number
      size:
        label: Size
        grid_display: true
        order: 5
      freespace:
        label: Free Space
        grid_display: true
        order: 6
      assignedto:
        label: Assigned To
        grid_display: true
        order: 2
    monitoring_templates: [ClusterDisk]
    impacts: [clusternode]
    impacted_by: []
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: [clusternode]
      impacted_by: []

  ClusterNetwork:
    label: Cluster Network
    base: [ClusterObject]
    order: 4
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      description:
        label: Description
        grid_display: true
        order: 3
      role:
        label: Cluster Use
        type: boolean
        default: False
        grid_display: true
        order: 2
    monitoring_templates: [ClusterNetwork]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  ClusterInterface:
    label: Cluster Interface
    base: [ClusterObject]
    order: 3
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      node:
        label: Node
      get_network:
        label: Network
        grid_display: true
        api_only: true
        api_backendtype: method
        type: entity
        order: 2
      network:
        label: Network
      ipaddresses:
        label: IP Addresses
        grid_display: true
        order: 3
      adapter:
        label: Adapter
    monitoring_templates: [ClusterInterface]
    impacts: [clusternode]
    impacted_by: []
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: [clusternode]
      impacted_by: []

  CPU:
    label: Processor
    base: [zenpacklib.CPU]
    properties:
      DEFAULTS:
        grid_display: false
        default: 0
        type: int
      description:
        label: Description
        type: string
        default: None
      cores:
        label: Cores
      cores:
        label: Cores
      threads:
        label: Threads
      cacheSpeedL2:
        label: L2 Cache Speed
      cacheSpeedL3:
        label: L3 Cache Speed
      cacheSizeL3:
        label: L3 Cache Size
        grid_display: true
    monitoring_templates: [CPU]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]

  HardDisk:
    label: Hard Disk
    base: [zenpacklib.HardDisk]
    meta_type: WindowsHardDisk
    plural_label: Hard Disks
    properties:
      DEFAULTS:
        grid_display: false
      size:
        label: Size
        type: int
        renderer: Zenoss.render.bytesString
        order: 4
        grid_display: true
      utilization:
        label: '% Util'
        api_backendtype: method
        api_only: true
        grid_display: true
      partitions:
        label: Partitions
        type: int
        grid_display: true
      capabilities:
        label: Capabilities
        type: lines
      disk_ids:
        label: 'Disk IDs'
        type: lines
        index_type: keyword
      filesystems:
        label: File Systems
        type: entity
        api_only: true
        api_backendtype: method
      fs_ids:
        type: lines
        details_display: false
      freespace:
        label: Free
        type: int
      instance_name:
        details_display: false

  FileSystem:
    label: File System
    base: [zenpacklib.FileSystem]
    properties:
      DEFAULTS:
        details_display: false
        grid_display: false
      mediatype:
        label: Media Type
        default: None
      drivetype:
        label: Drive Type
        default: None
      total_bytes:
        type: long
        label: Total Bytes
        default: 0
      harddisk:
        label: Hard Disk
        type: entity
        api_backendtype: method
        api_only: true
        grid_display: true
        details_display: true
      instance_name:
        label: Instance Name
    monitoring_templates: [FileSystem]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]

  Interface:
    label: Interface
    base: [zenpacklib.IpInterface]
    monitoring_templates: [ethernetCsmacd]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: true
        details_display: false
      teaminterface: {}

  OSProcess:
    label: Process
    base: [zenpacklib.OSProcess]
    monitoring_templates: [OSProcess]
    properties:
      supports_WorkingSetPrivate:
        label: Supports Private Working Set
        type: boolean
        default: False
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]

  TeamInterface:
    label: Team Interface
    base: [zenpacklib.IpInterface]
    monitoring_templates: [TeamInterface]
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      description:
        label: Description
      get_niccount:
        type: int
        label: NIC Count
        default: 0
        api_only: true
        api_backendtype: method
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]

  WinService:
    label: Windows Service
    base: [zenpacklib.WinService]
    properties:
      description:
        label: Description
      usermonitor:
        label: Manually Selected Monitor State
        type: boolean

  WinIIS:
    label: IIS Site
    base: [zenpacklib.OSComponent]
    plural_label: IIS Sites
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      sitename:
        label: Site Name
      apppool:
        label: Application Pool
        grid_display: true
        order: 2
      caption:
        label: Caption
      status:
        label: Status
        grid_display: true
        order: 3
      statusname:
        label: Status Name
      iis_version:
        label: Version
        type: int
    monitoring_templates: [IISSites]
    impacts: []
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  WinSQLBackup:
    label: SQL Backup
    base: [zenpacklib.OSComponent]
    order: 13
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      instancename:
        label: Instance Name
      devicetype:
        label: Device Type
        grid_display: true
        order: 1
      physicallocation:
        label: Physical Location
      status:
        label: Status
    monitoring_templates: [WinBackupDevice]
    impacts: []
    impacted_by:  [winsqlinstance]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by:  [winsqlinstance]

  WinSQLDatabase:
    label: SQL Database
    base: [zenpacklib.OSComponent]
    order: 11
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      instancename:
        label: Instance Name
      version:
        label: Version
      owner:
        label: Owner
        grid_display: true
        order: 1
      lastbackupdate:
        label: Last Backup
      lastlogbackupdate:
        label: Last Log Backup
      isaccessible:
        label: Accessible
      collation:
        label: Collation
      createdate:
        label: Created On
      defaultfilegroup:
        label: File Group
      primaryfilepath:
        label: File Path
      systemobject:
        label: System Object
      recoverymodel:
        label: Recovery Model
      getState:
        label: Status
        api_only: true
        api_backendtype: method
        grid_display: true
        order: 3
      cluster_node_server:
        label: Cluster Node Server
    monitoring_templates: [WinDatabase]
    impacts: []
    impacted_by: [winsqlinstance]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [winsqlinstance]

  WinSQLInstance:
    label: SQL Instance
    base: [zenpacklib.OSComponent]
    order: 10
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      instancename:
        label: Instance Name
        grid_display: true
      sql_server_version:
        label: SQL Server Version
        grid_display: true
      backupdevices:
        label: Backup Devices
      roles:
        label: Roles
      cluster_node_server:
        label: Cluster Node Server
    monitoring_templates: [WinDBInstance]
    impacts: [backups, databases, jobs]
    impacted_by: [device]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: [backups, databases, jobs]
      impacted_by: [device]
    relationships:
      DEFAULTS:
        grid_display: false
        details_display: false
      os: {}

  WinSQLJob:
    label: SQL Job
    base: [zenpacklib.OSComponent]
    order: 12
    properties:
      DEFAULTS:
        grid_display: false
        default: None
      instancename:
        label: Instance Name
      jobid:
        label: Job ID
      enabled:
        label: Enabled
        grid_display: true
        order: 1
      description:
        label: Description
      username:
        label: User
      datecreated:
        label: Date Created
      cluster_node_server:
        label: Cluster Node Server
    monitoring_templates: [WinSQLJob]
    impacts: []
    impacted_by: [winsqlinstance]
    dynamicview_views: [service_view]
    dynamicview_relations:
      impacts: []
      impacted_by: [winsqlinstance]

device_classes:
  /Server/Microsoft/Windows:
    description: Windows Server
    protocol: WinRM
    zProperties:
      zPythonClass: ZenPacks.zenoss.Microsoft.Windows.Device
      zCollectorPlugins: [zenoss.winrm.OperatingSystem, zenoss.winrm.CPUs, zenoss.winrm.FileSystems, zenoss.winrm.Interfaces, zenoss.winrm.Services, zenoss.winrm.Processes, zenoss.winrm.Software, zenoss.winrm.HardDisks]
      zDeviceTemplates: [Device, Active Directory, IIS, MSExchange2010IS]
      zDBInstances:
      - {instance: MSSQLSERVER, passwd: '', user: ''}
  /Server/Microsoft/Cluster:
    description: Windows Cluster
    protocol: WinRM
    zProperties:
      zCollectorPlugins: [zenoss.winrm.OperatingSystem, zenoss.winrm.WinCluster]
      zDBInstances:
      - {instance: MSSQLSERVER, passwd: '', user: ''}
      zDeviceTemplates: [Cluster, Active Directory, IIS, MSExchange2010IS]
      zPythonClass: ZenPacks.zenoss.Microsoft.Windows.ClusterDevice
    templates:
      ClusterNode:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Nodes.
            cycletime: '300'
            resource: get-clusternode
            strategy: powershell Cluster Nodes
      ClusterDisk:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Disks.
            cycletime: '300'
            resource: get-clustersharedvolume
            strategy: powershell Cluster Disks
      ClusterNetwork:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Networks.
            cycletime: '300'
            resource: get-clusternetwork
            strategy: powershell Cluster Network
      ClusterResource:
        description: Used to monitor the state of the Cluster Resources.
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
            cycletime: '300'
            resource: get-clusterresource
            strategy: powershell Cluster Resources
      ClusterInterface:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: Used to monitor the state of the Cluster Interfaces.
            cycletime: '300'
            resource: get-clusternetworkinterface
            strategy: powershell Cluster Interface
      ClusterService:
        description: Used to monitor the state of the Cluster Service.
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
            cycletime: '300'
            resource: get-clustergroup
            strategy: powershell Cluster Services
  /Server/Microsoft:
    zProperties:
      zCollectorPlugins: []
      zCredentialsZProperties: [zWinRMUser, zWinRMPassword, zWinKDC, zWinScheme, zWinRMPort]
      zDeviceTemplates: [Device, Cluster, Active Directory, IIS, MSExchange2010IS]
      zIcon: /++resource++mswindows/img/server-windows.png
    templates:
      WinSQLJob:
        description: Microsoft SQL Server per-job monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLJob
        datasources:
          jobStatus:
            type: Windows Shell
            cycletime: '300'
            resource: status
            strategy: powershell MSSQL Job
      MSExchangeInformationStore:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCAveragedLatency: null}
            counter: \MSExchangeIS\RPC Averaged Latency
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCOperations__sec: null}
            counter: \MSExchangeIS\RPC Operations/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpServerLocalQueueLength: null}
            counter: \SMTP Server(_Total)\Local Queue Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpServerMsgsDelivered__sec: null}
            counter: \SMTP Server(_Total)\Messages Delivered/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxLocalDeliveryRate: null}
            counter: \MSExchangeIS Mailbox(_Total)\Local delivery rate
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxMessageOpens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Message Opens/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCRequests: null}
            counter: \MSExchangeIS\RPC Requests
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxFolderOpens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Folder opens/sec
        graphs:
          Exchange - RPC Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Local Deliveries:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
              'Message Opens   ':
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              'Folder Opens    ':
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          SMTP Server - Local Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          Exchange - RPC Requests:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
      MSExchange2010IS:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                aliases: {mseisRPCAveragedLatency: null}
            counter: \MSExchangeIS\RPC Averaged Latency
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                aliases: {mseisRPCOperations__sec: null}
            counter: \MSExchangeIS\RPC Operations/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                aliases: {smtpServerLocalQueueLength: null}
            counter: \MSExchangeTransport Queues(_Total)\Active Mailbox Delivery Queue
              Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                aliases: {smtpServerMsgsDelivered__sec: null}
            counter: \MSExchangeTransport SmtpSend(_Total)\Messages Sent/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                aliases: {mseisMailboxLocalDeliveryRate: null}
            counter: \MSExchangeIS Mailbox(_Total)\Local delivery rate
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                aliases: {mseisMailboxMessageOpens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Message Opens/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                aliases: {mseisRPCRequests: null}
            counter: \MSExchangeIS\RPC Requests
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                aliases: {mseisMailboxFolderOpens__sec: null}
            counter: \MSExchangeIS Mailbox(_Total)\Folder opens/sec
        graphs:
          Exchange - RPC Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Local Deliveries:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
              'Message Opens   ':
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              'Folder Opens    ':
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
          SMTP Server - Active Delivery Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          Exchange - RPC Requests:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
      IIS:
        description: Microsoft Internet Information Services.
        datasources:
          iisPostRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPostRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisPostRequests__sec: null}
            counter: \Web Service(_Total)\Post Requests/sec
          iisISAPIExtensionRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisISAPIExtensionRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisISAPIExtensionRequests__sec: null}
            counter: \Web Service(_Total)\ISAPI Extension Requests/sec
          iisGetRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisGetRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisGetRequests__sec: null}
            counter: \Web Service(_Total)\Get Requests/sec
          iisLockRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisLockRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisLockRequests__sec: null}
            counter: \Web Service(_Total)\Lock Requests/sec
          iisFilesReceived:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisFilesReceived:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisFilesReceived__sec: null}
            counter: \Web Service(_Total)\Files Received/sec
          iisCopyRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCopyRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisCopyRequests__sec: null}
            counter: \Web Service(_Total)\Copy Requests/sec
          iisConnectionAttempts:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisConnectionAttempts:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisConnectionAttempts__sec: null}
            counter: \Web Service(_Total)\Connection Attempts/sec
          iisOtherRequestMethods:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisOtherRequestMethods:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisOtherRequestMethods__sec: null}
            counter: \Web Service(_Total)\Other Request Methods/sec
          iisUnlockRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisUnlockRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisUnlockRequests__sec: null}
            counter: \Web Service(_Total)\Unlock Requests/sec
          iisSearchRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisSearchRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisSearchRequests__sec: null}
            counter: \Web Service(_Total)\Search Requests/sec
          iisTraceRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisTraceRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisTraceRequests__sec: null}
            counter: \Web Service(_Total)\Trace Requests/sec
          iisDeleteRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisDeleteRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisDeleteRequests__sec: null}
            counter: \Web Service(_Total)\Delete Requests/sec
          iisPropfindRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPropfindRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisPropfindRequests__sec: null}
            counter: \Web Service(_Total)\Propfind Requests/sec
          iisMkcolRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisMkcolRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisMkcolRequests__sec: null}
            counter: \Web Service(_Total)\Mkcol Requests/sec
          iisMoveRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisMoveRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisMoveRequests__sec: null}
            counter: \Web Service(_Total)\Move Requests/sec
          iisOptionsRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisOptionsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisOptionsRequests__sec: null}
            counter: \Web Service(_Total)\Options Requests/sec
          iisPutRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisPutRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisPutRequests__sec: null}
            counter: \Web Service(_Total)\Put Requests/sec
          iisBytesSent:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisBytesSent:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisSent__bytes: null}
            counter: \Web Service(_Total)\Bytes Sent/sec
          iisCurrentConnections:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCurrentConnections:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisCurrentConnections: null}
            counter: \Web Service(_Total)\Current Connections
          iisFilesSent:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisFilesSent:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisFilesSent__sec: null}
            counter: \Web Service(_Total)\Files Sent/sec
          iisBytesReceived:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisBytesReceived:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisReceived__bytes: null}
            counter: \Web Service(_Total)\Bytes Received/sec
          iisProppatchRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisProppatchRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisProppatchRequests__sec: null}
            counter: \Web Service(_Total)\Proppatch Requests/sec
          iisCGIRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisCGIRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisCGIRequests: null}
            counter: \Web Service(_Total)\CGI Requests/sec
          iisHeadRequests:
            type: Windows Perfmon
            component: IIS
            datapoints:
              iisHeadRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {iisHeadRequests__sec: null}
            counter: \Web Service(_Total)\Head Requests/sec
        graphs:
          IIS - Other Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Connections:
            units: connections
            miny: 0
            graphpoints:
              Current:
                dpName: iisCurrentConnections_iisCurrentConnections
                format: '%7.0lf'
          IIS - Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              Attempts:
                dpName: iisConnectionAttempts_iisConnectionAttempts
                format: '%7.2lf%s'
          IIS - Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Received:
                dpName: iisBytesReceived_iisBytesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisBytesSent_iisBytesSent
                format: '%7.2lf%s'
          IIS - Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Basic Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - File Rate:
            units: files/sec
            miny: 0
            graphpoints:
              Received:
                dpName: iisFilesReceived_iisFilesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisFilesSent_iisFilesSent
                format: '%7.2lf%s'
      WinDBInstance:
        description: Microsoft SQL Server per-instance monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLInstance
        datasources:
          InstanceStatus:
            type: Windows Shell
            cycletime: '300'
            resource: status
            strategy: powershell MSSQL Instance
      Active Directory 2003:
        description: Microsoft Active Directory
        thresholds:
          ldapBindTimeCrit:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 5
            maxval: '30'
          ldapBindTimeErr:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 4
            maxval: '15'
          ldapBindTimeWarn:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            maxval: '5'
        datasources:
          ldapNewConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP New Connections/sec
          ldapSuccessfulBinds:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSuccessfulBinds:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Successful Binds/sec
          dsSearchSuboperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsSearchSuboperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Search sub-operations/sec
          dsThreadsInUse:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsThreadsInUse:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Threads in Use
          ldapBindTime:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapBindTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Bind Time
          kdcTgsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcTgsRequests:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\KDC TGS Requests
          SystemLog:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SystemLog
            strategy: DCDiag
          PortCheck:
            type: Windows PortCheck
            severity: 4
            cycletime: '1800'
            ports: '[{"port": "9389", "desc": "Traffic:SOAP. Usage:Web Services"},{"port":
              "3268", "desc": "Traffic:LDAP GC; Usage:Directory, Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "3269",
              "desc": "Traffic:LDAP GC SSL; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "88", "desc":
              "Traffic:Kerberos; Usage:User and Computer Authentication, Forest Level
              Trusts"},{"port": "464", "desc": "Traffic:Kerberos change/set password.
              Usage:Replication, User and Computer Authentication, Trusts"},{"port":
              "389", "desc": "Traffic:LDAP; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "636", "desc":
              "Traffic:LDAP SSL; Usage:Directory, Replication, User and Computer Authentication,
              Group Policy, Trusts"},{"port": "445", "desc": "Traffic:SMB,CIFS,SMB2,
              DFSN, LSARPC, NbtSS, NetLogonR, SamR, SrvSvc; Usage:Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "135",
              "desc": "Traffic:RPC, EPM; Usage:Replication"},{"port": "5722", "desc":
              "Traffic:RPC, DFSR (SYSVOL); Usage:File Replication"}]'
          dsServerNameTranslationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerNameTranslationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Server Name Translations/sec
          MachineAccount:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: MachineAccount
            strategy: DCDiag
          dsServerBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Server Binds/sec
          FSMOCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FSMOCheck
            strategy: DCDiag
          dsDirectoryReadsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryReadsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Reads/sec
          DFSREvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: DFSREvent
            strategy: DCDiag
          ldapActiveThreads:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapActiveThreads:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Active Threads
          ntlmAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ntlmAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\NTLM Authentications
          LocatorCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: LocatorCheck
            strategy: DCDiag
          NetLogons:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NetLogons
            strategy: DCDiag
          dsClientBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsClientBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Client Binds/sec
          kdcAsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcAsRequests:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\KDC AS Requests
          VerifyEnterpriseReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyEnterpriseReferences
            strategy: DCDiag
          dsDirectoryWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Writes/sec
          Services:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Services
            strategy: DCDiag
          ldapWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Writes/sec
          SysVolCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SysVolCheck
            strategy: DCDiag
          NCSecDesc:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NCSecDesc
            strategy: DCDiag
          kerberosAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kerberosAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\Kerberos Authentications
          ldapClientSessions:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClientSessions:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Client Sessions
          CrossRefValidation:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CrossRefValidation
            strategy: DCDiag
          ldapSearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Searches/sec
          Replications:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Replications
            strategy: DCDiag
          ldapUdpOperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapUdpOperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP UDP operations/sec
          Advertising:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Advertising
            strategy: DCDiag
          FrsEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FrsEvent
            strategy: DCDiag
          ldapNewSSLConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewSSLConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP New SSL Connections/sec
          VerifyReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyReferences
            strategy: DCDiag
          ldapClosedConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClosedConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\LDAP Closed Connections/sec
          CheckSDRefDom:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CheckSDRefDom
            strategy: DCDiag
          dsNotifyQueueSize:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNotifyQueueSize:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Notify Queue Size
          dsNameCacheHitRate:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNameCacheHitRate:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Name Cache hit rate
          RidManager:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: RidManager
            strategy: DCDiag
          KnowsOfRoleHolders:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KnowsOfRoleHolders
            strategy: DCDiag
          KccEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KccEvent
            strategy: DCDiag
          dsDirectorySearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectorySearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \NTDS\DS Directory Searches/sec
          ObjectsReplicated:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: ObjectsReplicated
            strategy: DCDiag
        graphs:
          Sessions:
            units: sessions
            miny: 0
            graphpoints:
              LDAP Client:
                dpName: ldapClientSessions_ldapClientSessions
                format: '%7.2lf%s'
          Authentication Rate:
            units: auths/sec
            miny: 0
            graphpoints:
              Kerberos:
                dpName: kerberosAuthentications_kerberosAuthentications
                format: '%7.2lf%s'
              NTLM:
                dpName: ntlmAuthentications_ntlmAuthentications
                format: '%7.2lf%s'
          KDC Requests:
            units: requests
            miny: 0
            graphpoints:
              TGS:
                dpName: kdcTgsRequests_kdcTgsRequests
                format: '%7.2lf%s'
              AS:
                dpName: kdcAsRequests_kdcAsRequests
                format: '%7.2lf%s'
          Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              LDAP New:
                dpName: ldapNewConnectionsSec_ldapNewConnectionsSec
                format: '%7.2lf%s'
              LDAP Closed:
                dpName: ldapClosedConnectionsSec_ldapClosedConnectionsSec
                format: '%7.2lf%s'
              LDAP New SSL:
                dpName: ldapNewSSLConnectionsSec_ldapNewSSLConnectionsSec
                format: '%7.2lf%s'
          Bind Rate:
            units: binds/sec
            miny: 0
            graphpoints:
              DS Client:
                dpName: dsClientBindsSec_dsClientBindsSec
                format: '%7.2lf%s'
              DS Server:
                dpName: dsServerBindsSec_dsServerBindsSec
                format: '%7.2lf%s'
              LDAP Success:
                dpName: ldapSuccessfulBinds_ldapSuccessfulBinds
                format: '%7.2lf%s'
          Bind Time:
            units: ms
            miny: 0
            graphpoints:
              LDAP:
                dpName: ldapBindTime_ldapBindTime
                format: '%7.2lf%s'
          Queue Size:
            units: notifications
            miny: 0
            graphpoints:
              DS Notify:
                dpName: dsNotifyQueueSize_dsNotifyQueueSize
                format: '%7.2lf%s'
          Threads:
            units: threads
            miny: 0
            graphpoints:
              LDAP Active:
                dpName: ldapActiveThreads_ldapActiveThreads
                format: '%7.2lf%s'
              DS In Use:
                dpName: dsThreadsInUse_dsThreadsInUse
                format: '%7.2lf%s'
          Cache Hit Rate:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              DS Name:
                dpName: dsNameCacheHitRate_dsNameCacheHitRate
                format: '%7.2lf%%'
          Operation Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              DS Name Translations:
                dpName: dsServerNameTranslationsSec_dsServerNameTranslationsSec
                format: '%7.2lf%s'
              'DS Writes           ':
                dpName: dsDirectoryWritesSec_dsDirectoryWritesSec
                format: '%7.2lf%s'
              'DS Searches         ':
                dpName: dsDirectorySearchesSec_dsDirectorySearchesSec
                format: '%7.2lf%s'
              'DS Reads            ':
                dpName: dsDirectoryReadsSec_dsDirectoryReadsSec
                format: '%7.2lf%s'
              'LDAP Writes         ':
                dpName: ldapWritesSec_ldapWritesSec
                format: '%7.2lf%s'
              'LDAP UDP            ':
                dpName: ldapUdpOperationsSec_ldapUdpOperationsSec
                format: '%7.2lf%s'
              'DS Sub-Search       ':
                dpName: dsSearchSuboperationsSec_dsSearchSuboperationsSec
                format: '%7.2lf%s'
              'LDAP Searches       ':
                dpName: ldapSearchesSec_ldapSearchesSec
                format: '%7.2lf%s'
      WinDatabase:
        description: Microsoft SQL Server per-database monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinSQLDatabase
        datasources:
          status:
            type: 'Built-In'
            datapoints:
              status: GAUGE
          LogFileSize:
            type: Windows Shell
            datapoints:
              LogFileSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logSize__kbytes: null}
            cycletime: '300'
            resource: Log File(s) Size (KB)
            strategy: powershell MSSQL
          LogCacheReadsSec:
            type: Windows Shell
            datapoints:
              LogCacheReadsSec:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Log Cache Reads/sec
            strategy: powershell MSSQL
          CacheHitRatio:
            type: Windows Shell
            datapoints:
              CacheHitRatio:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {cacheHitRatio__pct: null}
            cycletime: '300'
            resource: Cache Hit Ratio
            strategy: powershell MSSQL
          LogCacheHitRatio:
            type: Windows Shell
            datapoints:
              LogCacheHitRatio:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logCacheHitRatio__pct: null}
            cycletime: '300'
            resource: Log Cache Hit Ratio
            strategy: powershell MSSQL
          CacheEntriesCount:
            type: Windows Shell
            datapoints:
              CacheEntriesCount:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {cacheEntries: null}
            cycletime: '300'
            resource: Cache Entries Count
            strategy: powershell MSSQL
          CacheHitRatioBase:
            type: Windows Shell
            datapoints:
              CacheHitRatioBase:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Cache Hit Ratio Base
            strategy: powershell MSSQL
          DBCCLogicalScanBytesSec:
            type: Windows Shell
            datapoints:
              DBCCLogicalScanBytesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {DBCCLogicalScanBytes__sec: null}
            cycletime: '300'
            resource: DBCC Logical Scan Bytes/sec
            strategy: powershell MSSQL
          LogFlushWaitsSec:
            type: Windows Shell
            datapoints:
              LogFlushWaitsSec:
                rrdtype: DERIVE
                rrdmin: 0
            cycletime: '300'
            resource: Log Flush Waits/sec
            strategy: powershell MSSQL
          ShrinkDataMovementBytesSec:
            type: Windows Shell
            datapoints:
              ShrinkDataMovementBytesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {shrinkDataMovementBytes__sec: null}
            cycletime: '300'
            resource: Shrink Data Movement Bytes/sec
            strategy: powershell MSSQL
          PercentLogUsed:
            type: Windows Shell
            datapoints:
              PercentLogUsed:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logUsed__pct: null}
            cycletime: '300'
            resource: Percent Log Used
            strategy: powershell MSSQL
          BulkCopyRowsSec:
            type: Windows Shell
            datapoints:
              BulkCopyRowsSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {bulkCopyRows__sec: null}
            cycletime: '300'
            resource: Bulk Copy Rows/sec
            strategy: powershell MSSQL
          LogFileUsedSize:
            type: Windows Shell
            datapoints:
              LogFileUsedSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logSizeUsed__kbytes: null}
            cycletime: '300'
            resource: Log File(s) Used Size (KB)
            strategy: powershell MSSQL
          LogGrowths:
            type: Windows Shell
            datapoints:
              LogGrowths:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logGrowths__sec: null}
            cycletime: '300'
            resource: Log Growths
            strategy: powershell MSSQL
          LogTruncations:
            type: Windows Shell
            datapoints:
              LogTruncations:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logTruncations__sec: null}
            cycletime: '300'
            resource: Log Truncations
            strategy: powershell MSSQL
          LogFlushWaitTime:
            type: Windows Shell
            datapoints:
              LogFlushWaitTime:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {logFlushWaitTime__sec: null}
            cycletime: '300'
            resource: Log Flush Wait Time
            strategy: powershell MSSQL
          LogShrinks:
            type: Windows Shell
            datapoints:
              LogShrinks:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logShrinks__sec: null}
            cycletime: '300'
            resource: Log Shrinks
            strategy: powershell MSSQL
          BulkCopyThroughputSec:
            type: Windows Shell
            datapoints:
              BulkCopyThroughputSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {bulkCopyThroughput__sec: null}
            cycletime: '300'
            resource: Bulk Copy Throughput/sec
            strategy: powershell MSSQL
          LogBytesFlushedSec:
            type: Windows Shell
            datapoints:
              LogBytesFlushedSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logBytesFlushed__sec: null}
            cycletime: '300'
            resource: Log Bytes Flushed/sec
            strategy: powershell MSSQL
          LogFlushesSec:
            type: Windows Shell
            datapoints:
              LogFlushesSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logFlushes__sec: null}
            cycletime: '300'
            resource: Log Flushes/sec
            strategy: powershell MSSQL
          ReplPendingXacts:
            type: Windows Shell
            datapoints:
              ReplPendingXacts:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
            resource: Repl. Pending Xacts
            strategy: powershell MSSQL
          TransactionsSec:
            type: Windows Shell
            datapoints:
              TransactionsSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {transactions__sec: null}
            cycletime: '300'
            resource: Transactions/sec
            strategy: powershell MSSQL
          CacheEntriesPinnedCount:
            type: Windows Shell
            datapoints:
              CacheEntriesPinnedCount:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {cacheEntriesPinned: null}
            cycletime: '300'
            resource: Cache Entries Pinned Count
            strategy: powershell MSSQL
          ActiveTransactions:
            type: Windows Shell
            datapoints:
              ActiveTransactions:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {activeTransactions: null}
            cycletime: '300'
            resource: Active Transactions
            strategy: powershell MSSQL
          BackupRestoreThroughputSec:
            type: Windows Shell
            datapoints:
              BackupRestoreThroughputSec:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {backupRestoreThroughput__sec: null}
            cycletime: '300'
            resource: Backup/Restore Throughput/sec
            strategy: powershell MSSQL
          DataFileSize:
            type: Windows Shell
            datapoints:
              DataFileSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {fileSize__kbytes: null}
            cycletime: '300'
            resource: Data File(s) Size (KB)
            strategy: powershell MSSQL
          ReplTransRate:
            type: Windows Shell
            datapoints:
              ReplTransRate:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {replTransactions__sec: null}
            cycletime: '300'
            resource: Repl. Trans. Rate
            strategy: powershell MSSQL
          LogCacheHitRatioBase:
            type: Windows Shell
            datapoints:
              LogCacheHitRatioBase:
                rrdtype: DERIVE
                rrdmin: 0
                aliases: {logCacheHitRatioBase__pct: null}
            cycletime: '300'
            resource: Log Cache Hit Ratio Base
            strategy: powershell MSSQL
        graphs:
          Log Cache Hit Ratio:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Base:
                dpName: LogCacheHitRatioBase_LogCacheHitRatioBase
                lineType: DONTDRAW
              Hit:
                dpName: LogCacheHitRatio_LogCacheHitRatio
                format: '%7.2lf%%'
                rpn: Base,/,100,*,0,MAX,100,MIN
                color: 00cc00
          Log Flush Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: LogBytesFlushedSec_LogBytesFlushedSec
                format: '%7.2lf%s'
          Log File Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Used:
                dpName: LogFileUsedSize_LogFileUsedSize
                lineType: AREA
                format: '%7.2lf%s'
                rpn: 1024,*
                color: 00cc00
              Total:
                dpName: LogFileSize_LogFileSize
                format: '%7.2lf%s'
                rpn: 1024,*
                color: '000000'
          Database Console Commands (DBCC) Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Logical Scan:
                dpName: DBCCLogicalScanBytesSec_DBCCLogicalScanBytesSec
                format: '%7.2lf%s'
              Shrink Data:
                dpName: ShrinkDataMovementBytesSec_ShrinkDataMovementBytesSec
                format: '%7.2lf%s'
          Log Flush Rates:
            units: per/sec
            miny: 0
            graphpoints:
              Flushes:
                dpName: LogFlushesSec_LogFlushesSec
                format: '%7.2lf%s'
              Waits:
                dpName: LogFlushWaitsSec_LogFlushWaitsSec
                format: '%7.2lf%s'
          Cache Entries:
            units: entries
            miny: 0
            graphpoints:
              Pinned:
                dpName: CacheEntriesPinnedCount_CacheEntriesPinnedCount
                format: '%7.2lf%s'
              Total:
                dpName: CacheEntriesCount_CacheEntriesCount
                format: '%7.2lf%s'
          Log File Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Used:
                dpName: PercentLogUsed_PercentLogUsed
                format: '%7.2lf%%'
          Transactions:
            units: transactions
            miny: 0
            graphpoints:
              Active:
                dpName: ActiveTransactions_ActiveTransactions
                format: '%7.0lf'
          Cache Hit Ratio:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Base:
                dpName: CacheHitRatioBase_CacheHitRatioBase
                lineType: DONTDRAW
              Hit:
                dpName: CacheHitRatio_CacheHitRatio
                format: '%7.2lf%%'
                rpn: Base,/,100,*,0,MAX,100,MIN
                color: 00cc00
          Bulk Copy Rates:
            units: per/sec
            miny: 0
            graphpoints:
              Rows:
                dpName: BulkCopyRowsSec_BulkCopyRowsSec
                format: '%7.2lf%s'
          Bulk Copy Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Bytes:
                dpName: BulkCopyThroughputSec_BulkCopyThroughputSec
                format: '%7.2lf%s'
          Replication:
            units: transactions
            miny: 0
            graphpoints:
              Pending:
                dpName: ReplPendingXacts_ReplPendingXacts
                format: '%7.2lf%s'
          Backup and Restore Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: BackupRestoreThroughputSec_BackupRestoreThroughputSec
                format: '%7.2lf%s'
          Log Operation Rates:
            units: operations/sec
            miny: 0
            graphpoints:
              Growths:
                dpName: LogGrowths_LogGrowths
                format: '%7.2lf%s'
              Shrinks:
                dpName: LogShrinks_LogShrinks
                format: '%7.2lf%s'
              Truncations:
                dpName: LogTruncations_LogTruncations
                format: '%7.2lf%s'
          Transaction Rates:
            units: transactions/sec
            miny: 0
            graphpoints:
              Replication:
                dpName: ReplTransRate_ReplTransRate
                format: '%7.2lf%s'
              Normal:
                dpName: TransactionsSec_TransactionsSec
                format: '%7.2lf%s'
          Log Cache Throughput:
            units: operations/sec
            miny: 0
            graphpoints:
              Reads:
                dpName: LogCacheReadsSec_LogCacheReadsSec
                format: '%7.2lf%s'
          Log Flush Latency:
            units: seconds
            miny: 0
            graphpoints:
              Wait Time:
                dpName: LogFlushWaitTime_LogFlushWaitTime
                format: '%7.2lf%s'
                rpn: 1000,/
          Data File Size:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Total:
                dpName: DataFileSize_DataFileSize
                format: '%7.2lf%s'
                rpn: 1024,*
      FileSystem:
        description: Microsoft Windows file system monitoring.
        targetPythonClass: Products.ZenModel.FileSystem
        thresholds:
          low disk space:
            dsnames: [FreeMegabytes_FreeMegabytes]
            eventClass: /Perf/Filesystem
            minval: here.totalBlocks * here.blockSize / 1024 / 1024 * .1
        datasources:
          DiskReadTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadTime:
                rrdtype: GAUGE
                aliases: {diskReadTime: null}
            counter: \% Disk Read Time
          DiskWriteBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteBytesSec:
                rrdtype: GAUGE
                aliases: {diskWriteBytes__sec: null}
            counter: \Disk Write Bytes/sec
          DiskWriteTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteTime:
                rrdtype: GAUGE
                aliases: {diskWriteTime: null}
            counter: \% Disk Write Time
          DiskReadBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadBytesSec:
                rrdtype: GAUGE
                aliases: {diskReadBytes__sec: null}
            counter: \Disk Read Bytes/sec
          FreeMegabytes:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              FreeMegabytes:
                rrdtype: GAUGE
                aliases: {usedFilesystemSpace__bytes: '1024,*,1024,*,${here/totalBytes},EXC,-'}
            counter: \Free Megabytes
        graphs:
          Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Used:
                dpName: FreeMegabytes_FreeMegabytes
                lineType: AREA
                format: '%7.2lf%%'
                rpn: 1048576,*,${here/totalBlocks},/,${here/blockSize},/,100,*,100,-,-1,*
          Disk Size:
            units: Gigabytes
            miny: 0
            graphpoints:
              Size:
                dpName: FreeMegabytes_FreeMegabytes
                format: '%7.2lf%s'
                rpn: 1024,/,${here/usedBytes},1073741824,/,+
          Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadBytesSec_DiskReadBytesSec
                format: '%7.2lf%s'
              Write:
                dpName: DiskWriteBytesSec_DiskWriteBytesSec
                format: '%7.2lf%s'
          Time:
            units: percent
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadTime_DiskReadTime
                format: '%7.2lf%%'
              Write:
                dpName: DiskWriteTime_DiskWriteTime
                format: '%7.2lf%%'
      Device:
        description: Microsoft Windows server monitoring.
        thresholds:
          CPU Utilization:
            dsnames: [ProcessorTotalProcessorTime_ProcessorTotalProcessorTime]
            eventClass: /Perf/CPU
            maxval: '90'
          Paging File Usage:
            dsnames: [PagingFileTotalUsage_PagingFileTotalUsage]
            eventClass: /Perf
            maxval: '95'
          Memory:
            dsnames: [MemoryAvailableBytes_MemoryAvailableBytes]
            eventClass: /Perf/Memory
            minval: here.hw.totalMemory * .1
        datasources:
          sysUpTime:
            type: Windows Perfmon
            datapoints:
              sysUpTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \System\System Up Time
          MemoryAvailableBytes:
            type: Windows Perfmon
            datapoints:
              MemoryAvailableBytes:
                rrdtype: GAUGE
                aliases: {memoryAvailable__bytes: null}
            counter: \Memory\Available bytes
          ProcessorTotalProcessorTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalProcessorTime:
                rrdtype: GAUGE
                aliases: {cpu__pct: null}
            counter: \Processor(_Total)\% Processor Time
          MemoryPagesOutputSec:
            type: Windows Perfmon
            datapoints:
              MemoryPagesOutputSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Pages Output/sec
          WinRMPing:
            type: WinRM Ping
            enabled: false
          ProcessorTotalUserTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalUserTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Processor(_Total)\% User Time
          ProcessorTotalPrivilegedTime:
            type: Windows Perfmon
            datapoints:
              ProcessorTotalPrivilegedTime:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Processor(_Total)\% Privileged Time
          MemoryPagesInputSec:
            type: Windows Perfmon
            datapoints:
              MemoryPagesInputSec:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Pages Input/sec
          PagingFileTotalUsage:
            type: Windows Perfmon
            datapoints:
              PagingFileTotalUsage:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Paging File(_Total)\% Usage
          MemoryCommittedBytes:
            type: Windows Perfmon
            datapoints:
              MemoryCommittedBytes:
                rrdtype: GAUGE
                rrdmin: 0
            counter: \Memory\Committed Bytes
        graphs:
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Available:
                dpName: MemoryAvailableBytes_MemoryAvailableBytes
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Committed:
                dpName: MemoryCommittedBytes_MemoryCommittedBytes
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
                includeThresholds: true
          CPU Utilization:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Total:
                dpName: ProcessorTotalProcessorTime_ProcessorTotalProcessorTime
                format: '%7.2lf%%'
                includeThresholds: true
              Privileged:
                dpName: ProcessorTotalPrivilegedTime_ProcessorTotalPrivilegedTime
                format: '%7.2lf%%'
              User:
                dpName: ProcessorTotalUserTime_ProcessorTotalUserTime
                format: '%7.2lf%%'
          Memory Paging:
            units: pages/sec
            miny: 0
            graphpoints:
              Input:
                dpName: MemoryPagesInputSec_MemoryPagesInputSec
                format: '%7.2lf%s'
              Output:
                dpName: MemoryPagesOutputSec_MemoryPagesOutputSec
                format: '%7.2lf%s'
          Paging File Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Total Usage:
                dpName: PagingFileTotalUsage_PagingFileTotalUsage
                lineType: AREA
                format: '%7.2lf%%'
                includeThresholds: true
      WinService:
        description: Microsoft Windows per-service monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinService
        datasources:
          DefaultService:
            type: Windows Service
            severity: 5
            cycletime: '300'
            startmode: None
      Active Directory:
        description: Microsoft Active Directory
        thresholds:
          ldapBindTimeCrit:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 5
            maxval: '30'
          ldapBindTimeErr:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            severity: 4
            maxval: '15'
          ldapBindTimeWarn:
            dsnames: [ldapBindTime_ldapBindTime]
            eventClass: /Perf
            maxval: '5'
        datasources:
          ldapNewConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapNewConnections__sec: null}
            counter: \NTDS\LDAP New Connections/sec
          ldapSuccessfulBinds:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSuccessfulBinds:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapSuccessfulBinds: null}
            counter: \NTDS\LDAP Successful Binds/sec
          dsSearchSuboperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsSearchSuboperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsSearchSuboperations__sec: null}
            counter: \NTDS\DS Search sub-operations/sec
          dsThreadsInUse:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsThreadsInUse:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsThreadsInUse: null}
            counter: \NTDS\DS Threads in Use
          ldapBindTime:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapBindTime:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapBindTime: null}
            counter: \NTDS\LDAP Bind Time
          kdcTgsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcTgsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kdcTgsRequests: null}
            counter: \Security System-Wide Statistics\KDC TGS Requests
          SystemLog:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SystemLog
            strategy: DCDiag
          PortCheck:
            type: Windows PortCheck
            severity: 4
            cycletime: '1800'
            ports: '[{"port": "9389", "desc": "Traffic:SOAP. Usage:Web Services"},{"port":
              "3268", "desc": "Traffic:LDAP GC; Usage:Directory, Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "3269",
              "desc": "Traffic:LDAP GC SSL; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "88", "desc":
              "Traffic:Kerberos; Usage:User and Computer Authentication, Forest Level
              Trusts"},{"port": "464", "desc": "Traffic:Kerberos change/set password.
              Usage:Replication, User and Computer Authentication, Trusts"},{"port":
              "389", "desc": "Traffic:LDAP; Usage:Directory, Replication, User and
              Computer Authentication, Group Policy, Trusts"},{"port": "636", "desc":
              "Traffic:LDAP SSL; Usage:Directory, Replication, User and Computer Authentication,
              Group Policy, Trusts"},{"port": "445", "desc": "Traffic:SMB,CIFS,SMB2,
              DFSN, LSARPC, NbtSS, NetLogonR, SamR, SrvSvc; Usage:Replication, User
              and Computer Authentication, Group Policy, Trusts"},{"port": "135",
              "desc": "Traffic:RPC, EPM; Usage:Replication"}]'
          dsServerNameTranslationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerNameTranslationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsServerNameTranslations__sec: null}
            counter: \NTDS\DS Server Name Translations/sec
          MachineAccount:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: MachineAccount
            strategy: DCDiag
          dsServerBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsServerBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsServerBinds__sec: null}
            counter: \NTDS\DS Server Binds/sec
          FSMOCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FSMOCheck
            strategy: DCDiag
          dsDirectoryReadsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryReadsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsDirectoryReads__sec: null}
            counter: \NTDS\DS Directory Reads/sec
          DFSREvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: DFSREvent
            strategy: DCDiag
          ldapActiveThreads:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapActiveThreads:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapActiveThreads: null}
            counter: \NTDS\LDAP Active Threads
          ntlmAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ntlmAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ntlmAuthentications: null}
            counter: \Security System-Wide Statistics\NTLM Authentications
          LocatorCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: LocatorCheck
            strategy: DCDiag
          NetLogons:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NetLogons
            strategy: DCDiag
          dsClientBindsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsClientBindsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsClientBinds__sec: null}
            counter: \NTDS\DS Client Binds/sec
          kdcAsRequests:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kdcAsRequests:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kdcAsRequests: null}
            counter: \Security System-Wide Statistics\KDC AS Requests
          VerifyEnterpriseReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyEnterpriseReferences
            strategy: DCDiag
          dsDirectoryWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectoryWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsDirectoryWrites__sec: null}
            counter: \NTDS\DS Directory Writes/sec
          Services:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Services
            strategy: DCDiag
          ldapWritesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapWritesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapWrites__sec: null}
            counter: \NTDS\LDAP Writes/sec
          SysVolCheck:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: SysVolCheck
            strategy: DCDiag
          NCSecDesc:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: NCSecDesc
            strategy: DCDiag
          kerberosAuthentications:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              kerberosAuthentications:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {kerberosAuthentications: null}
            counter: \Security System-Wide Statistics\Kerberos Authentications
          ldapClientSessions:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClientSessions:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapClientSessions: null}
            counter: \NTDS\LDAP Client Sessions
          CrossRefValidation:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CrossRefValidation
            strategy: DCDiag
          ldapSearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapSearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapSearches__sec: null}
            counter: \NTDS\LDAP Searches/sec
          Replications:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Replications
            strategy: DCDiag
          ldapUdpOperationsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapUdpOperationsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapUdpOperations__sec: null}
            counter: \NTDS\LDAP UDP operations/sec
          Advertising:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: Advertising
            strategy: DCDiag
          FrsEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: FrsEvent
            strategy: DCDiag
          ldapNewSSLConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapNewSSLConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapNewSSLConnections__sec: null}
            counter: \NTDS\LDAP New SSL Connections/sec
          VerifyReferences:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: VerifyReferences
            strategy: DCDiag
          ldapClosedConnectionsSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              ldapClosedConnectionsSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {ldapClosedConnections__sec: null}
            counter: \NTDS\LDAP Closed Connections/sec
          CheckSDRefDom:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: CheckSDRefDom
            strategy: DCDiag
          dsNotifyQueueSize:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNotifyQueueSize:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsNotifyQueueSize: null}
            counter: \NTDS\DS Notify Queue Size
          dsNameCacheHitRate:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsNameCacheHitRate:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsNameCacheHitRate__pct: null}
            counter: \NTDS\DS Name Cache hit rate
          RidManager:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: RidManager
            strategy: DCDiag
          KnowsOfRoleHolders:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KnowsOfRoleHolders
            strategy: DCDiag
          KccEvent:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: KccEvent
            strategy: DCDiag
          dsDirectorySearchesSec:
            type: Windows Perfmon
            component: NTDS
            datapoints:
              dsDirectorySearchesSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {dsDirectorySearches__sec: null}
            counter: \NTDS\DS Directory Searches/sec
          ObjectsReplicated:
            type: Windows Shell
            severity: 4
            cycletime: '1800'
            resource: ObjectsReplicated
            strategy: DCDiag
        graphs:
          Sessions:
            units: sessions
            miny: 0
            graphpoints:
              LDAP Client:
                dpName: ldapClientSessions_ldapClientSessions
                format: '%7.2lf%s'
          Authentication Rate:
            units: auths/sec
            miny: 0
            graphpoints:
              Kerberos:
                dpName: kerberosAuthentications_kerberosAuthentications
                format: '%7.2lf%s'
              NTLM:
                dpName: ntlmAuthentications_ntlmAuthentications
                format: '%7.2lf%s'
          KDC Requests:
            units: requests
            miny: 0
            graphpoints:
              TGS:
                dpName: kdcTgsRequests_kdcTgsRequests
                format: '%7.2lf%s'
              AS:
                dpName: kdcAsRequests_kdcAsRequests
                format: '%7.2lf%s'
          Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              LDAP New:
                dpName: ldapNewConnectionsSec_ldapNewConnectionsSec
                format: '%7.2lf%s'
              LDAP Closed:
                dpName: ldapClosedConnectionsSec_ldapClosedConnectionsSec
                format: '%7.2lf%s'
              LDAP New SSL:
                dpName: ldapNewSSLConnectionsSec_ldapNewSSLConnectionsSec
                format: '%7.2lf%s'
          Bind Rate:
            units: binds/sec
            miny: 0
            graphpoints:
              DS Client:
                dpName: dsClientBindsSec_dsClientBindsSec
                format: '%7.2lf%s'
              DS Server:
                dpName: dsServerBindsSec_dsServerBindsSec
                format: '%7.2lf%s'
              LDAP Success:
                dpName: ldapSuccessfulBinds_ldapSuccessfulBinds
                format: '%7.2lf%s'
          Bind Time:
            units: ms
            miny: 0
            graphpoints:
              LDAP:
                dpName: ldapBindTime_ldapBindTime
                format: '%7.2lf%s'
          Queue Size:
            units: notifications
            miny: 0
            graphpoints:
              DS Notify:
                dpName: dsNotifyQueueSize_dsNotifyQueueSize
                format: '%7.2lf%s'
          Threads:
            units: threads
            miny: 0
            graphpoints:
              LDAP Active:
                dpName: ldapActiveThreads_ldapActiveThreads
                format: '%7.2lf%s'
              DS In Use:
                dpName: dsThreadsInUse_dsThreadsInUse
                format: '%7.2lf%s'
          Cache Hit Rate:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              DS Name:
                dpName: dsNameCacheHitRate_dsNameCacheHitRate
                format: '%7.2lf%%'
          Operation Rate:
            units: operations/sec
            miny: 0
            graphpoints:
              DS Name Translations:
                dpName: dsServerNameTranslationsSec_dsServerNameTranslationsSec
                format: '%7.2lf%s'
              'DS Writes           ':
                dpName: dsDirectoryWritesSec_dsDirectoryWritesSec
                format: '%7.2lf%s'
              'DS Searches         ':
                dpName: dsDirectorySearchesSec_dsDirectorySearchesSec
                format: '%7.2lf%s'
              'DS Reads            ':
                dpName: dsDirectoryReadsSec_dsDirectoryReadsSec
                format: '%7.2lf%s'
              'LDAP Writes         ':
                dpName: ldapWritesSec_ldapWritesSec
                format: '%7.2lf%s'
              'LDAP UDP            ':
                dpName: ldapUdpOperationsSec_ldapUdpOperationsSec
                format: '%7.2lf%s'
              'DS Sub-Search       ':
                dpName: dsSearchSuboperationsSec_dsSearchSuboperationsSec
                format: '%7.2lf%s'
              'LDAP Searches       ':
                dpName: ldapSearchesSec_ldapSearchesSec
                format: '%7.2lf%s'
      OSProcess-2003:
        description: Microsoft Windows 2003 per-process monitoring.
        targetPythonClass: Products.ZenModel.OSProcess
        thresholds:
          count:
            dsnames: [process_count]
            eventClass: /Status/OSProcess
            minval: here.getMinProcessCount()
            maxval: here.getMaxProcessCount()
        datasources:
          process:
            type: Windows Process
            datapoints:
              count:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSet:
                rrdtype: GAUGE
                rrdmin: 0
              PercentProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
        graphs:
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              Total Working Set:
                dpName: process_WorkingSet
                format: '%7.2lf%s'
          CPU Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Processor Time:
                dpName: process_PercentProcessorTime
                format: '%7.2lf%%'
          Running Processes:
            units: processes
            miny: 0
            graphpoints:
              Count:
                dpName: process_count
                format: '%7.0lf'
      MSExchange2013IS:
        description: Microsoft Exchange monitoring.
        datasources:
          mseisRPCAveragedLatency:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCAveragedLatency:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCAveragedLatency: null}
            counter: \MSExchange Store Interface(_Total)\RPC Latency average (msec)
          mseisRPCOperationsPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCOperationsPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCOperations__sec: null}
            counter: \MSExchange Store Interface(_Total)\RPC Requests sent/sec
          smtpServerLocalQueueLength:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerLocalQueueLength:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpServerLocalQueueLength: null}
            counter: \MSExchangeTransport Queues(_Total)\Active Mailbox Delivery Queue
              Length
          smtpServerMessagesDeliveredPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              smtpServerMessagesDeliveredPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {smtpServerMsgsDelivered__sec: null}
            counter: \MSExchange Delivery SmtpSend(_Total)\Messages Sent/sec
          mseisMailboxLocalDeliveryRate:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxLocalDeliveryRate:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxLocalDeliveryRate: null}
            counter: \MSExchangeIS Store(_Total)\Messages Delivered/sec
          mseisMailboxMessageOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxMessageOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxMessageOpens__sec: null}
            counter: \MSExchangeIS Store(_Total)\Messages opened/sec
          mseisRPCRequests:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisRPCRequests:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisRPCRequests: null}
            counter: \MSExchange Store Interface(_Total)\RPC Requests sent
          mseisMailboxFolderOpensPerSec:
            type: Windows Perfmon
            component: Exchange
            datapoints:
              mseisMailboxFolderOpensPerSec:
                rrdtype: GAUGE
                description: Microsoft Exchange monitoring.
                aliases: {mseisMailboxFolderOpens__sec: null}
            counter: \MSExchangeIS Store(_Total)\Folders opened/sec
        graphs:
          SMTP Server - Message Delivery Rate:
            units: messages/sec
            miny: 0
            graphpoints:
              Messages:
                dpName: smtpServerMessagesDeliveredPerSec_smtpServerMessagesDeliveredPerSec
                format: '%7.2lf%s'
          Exchange - RPC Requests Sent:
            units: requests
            miny: 0
            graphpoints:
              Current:
                dpName: mseisRPCRequests_mseisRPCRequests
                format: '%7.2lf%s'
          Exchange - Mailbox Operations:
            units: operations/sec
            miny: 0
            graphpoints:
              Messages Delivered:
                dpName: mseisMailboxLocalDeliveryRate_mseisMailboxLocalDeliveryRate
                format: '%7.2lf%s'
              'Message Opens   ':
                dpName: mseisMailboxMessageOpensPerSec_mseisMailboxMessageOpensPerSec
                format: '%7.2lf%s'
              'Folder Opens    ':
                dpName: mseisMailboxFolderOpensPerSec_mseisMailboxFolderOpensPerSec
                format: '%7.2lf%s'
          SMTP Server - Active Delivery Queue Length:
            units: messages
            miny: 0
            graphpoints:
              Queued:
                dpName: smtpServerLocalQueueLength_smtpServerLocalQueueLength
                format: '%7.2lf%s'
          Exchange - RPC Latency:
            units: seconds
            miny: 0
            graphpoints:
              Averaged:
                dpName: mseisRPCAveragedLatency_mseisRPCAveragedLatency
                format: '%7.2lf%s'
                rpn: 1000,/
          Exchange - RPC Requests Sent per Sec:
            units: requests/sec
            miny: 0
            graphpoints:
              Operations:
                dpName: mseisRPCOperationsPerSec_mseisRPCOperationsPerSec
                format: '%7.2lf%s'
      IISSites:
        description: Microsoft IIS site monitoring.
        targetPythonClass: ZenPacks.zenoss.Microsoft.Windows.WinIIS
        datasources:
          sitecheck:
            type: Windows IIS Site
            eventClass: /Status
            cycletime: '300'
          iisPostRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPostRequests:
                rrdtype: GAUGE
                aliases: {iisSitePostRequests__sec: null}
            counter: \Web Service(${here/sitename})\Post Requests/sec
          iisISAPIExtensionRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisISAPIExtensionRequests:
                rrdtype: GAUGE
                aliases: {iisSiteISAPIExtensionReqs__sec: null}
            counter: \Web Service(${here/sitename})\ISAPI Extension Requests/sec
          iisGetRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisGetRequests:
                rrdtype: GAUGE
                aliases: {iisSiteGetRequests__sec: null}
            counter: \Web Service(${here/sitename})\Get Requests/sec
          iisLockRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisLockRequests:
                rrdtype: GAUGE
                aliases: {iisSiteLockRequests__sec: null}
            counter: \Web Service(${here/sitename})\Lock Requests/sec
          iisFilesReceived:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisFilesReceived:
                rrdtype: GAUGE
                aliases: {iisSiteFilesReceived__sec: null}
            counter: \Web Service(${here/sitename})\Files Received/sec
          iisCopyRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCopyRequests:
                rrdtype: GAUGE
                aliases: {iisSiteCopyRequests__sec: null}
            counter: \Web Service(${here/sitename})\Copy Requests/sec
          iisConnectionAttempts:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisConnectionAttempts:
                rrdtype: GAUGE
                aliases: {iisSiteConnectionAttempts__sec: null}
            counter: \Web Service(${here/sitename})\Connection Attempts/sec
          iisOtherRequestMethods:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisOtherRequestMethods:
                rrdtype: GAUGE
                aliases: {iisSiteOtherRequestMethods__sec: null}
            counter: \Web Service(${here/sitename})\Other Request Methods/sec
          iisUnlockRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisUnlockRequests:
                rrdtype: GAUGE
                aliases: {iisSiteUnlockRequests__sec: null}
            counter: \Web Service(${here/sitename})\Unlock Requests/sec
          iisSearchRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisSearchRequests:
                rrdtype: GAUGE
                aliases: {iisSiteSearchRequests__sec: null}
            counter: \Web Service(${here/sitename})\Search Requests/sec
          iisTraceRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisTraceRequests:
                rrdtype: GAUGE
                aliases: {iisSiteTraceRequests__sec: null}
            counter: \Web Service(${here/sitename})\Trace Requests/sec
          iisDeleteRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisDeleteRequests:
                rrdtype: GAUGE
                aliases: {iisSiteDeleteRequests__sec: null}
            counter: \Web Service(${here/sitename})\Delete Requests/sec
          iisPropfindRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPropfindRequests:
                rrdtype: GAUGE
                aliases: {iisSitePropfindRequests__sec: null}
            counter: \Web Service(${here/sitename})\Propfind Requests/sec
          iisMkcolRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisMkcolRequests:
                rrdtype: GAUGE
                aliases: {iisSiteMkcolRequests__sec: null}
            counter: \Web Service(${here/sitename})\Mkcol Requests/sec
          iisMoveRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisMoveRequests:
                rrdtype: GAUGE
                aliases: {iisSiteMoveRequests__sec: null}
            counter: \Web Service(${here/sitename})\Move Requests/sec
          iisOptionsRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisOptionsRequests:
                rrdtype: GAUGE
                aliases: {iisSiteOptionsRequests__sec: null}
            counter: \Web Service(${here/sitename})\Options Requests/sec
          iisPutRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisPutRequests:
                rrdtype: GAUGE
                aliases: {iisSitePutRequests__sec: null}
            counter: \Web Service(${here/sitename})\Put Requests/sec
          iisBytesSent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisBytesSent:
                rrdtype: GAUGE
                aliases: {iisSiteSent__bytes: null}
            counter: \Web Service(${here/sitename})\Bytes Sent/sec
          iisCurrentConnections:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCurrentConnections:
                rrdtype: GAUGE
                aliases: {iisSiteCurrentConnections: null}
            counter: \Web Service(${here/sitename})\Current Connections
          iisFilesSent:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisFilesSent:
                rrdtype: GAUGE
                aliases: {iisSiteFilesSent__sec: null}
            counter: \Web Service(${here/sitename})\Files Sent/sec
          iisBytesReceived:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisBytesReceived:
                rrdtype: GAUGE
                aliases: {iisSiteReceived__bytes: null}
            counter: \Web Service(${here/sitename})\Bytes Received/sec
          iisProppatchRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisProppatchRequests:
                rrdtype: GAUGE
                aliases: {iisSiteProppatchRequests__sec: null}
            counter: \Web Service(${here/sitename})\Proppatch Requests/sec
          iisCGIRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisCGIRequests:
                rrdtype: GAUGE
                aliases: {iisSiteCGIRequests: null}
            counter: \Web Service(${here/sitename})\CGI Requests/sec
          iisHeadRequests:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              iisHeadRequests:
                rrdtype: GAUGE
                aliases: {iisSiteHeadRequests__sec: null}
            counter: \Web Service(${here/sitename})\Head Requests/sec
        graphs:
          IIS - Other Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              CGI:
                dpName: iisCGIRequests_iisCGIRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPFIND:
                dpName: iisPropfindRequests_iisPropfindRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MKCOL:
                dpName: iisMkcolRequests_iisMkcolRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              LOCK:
                dpName: iisLockRequests_iisLockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              MOVE:
                dpName: iisMoveRequests_iisMoveRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              SEARCH:
                dpName: iisSearchRequests_iisSearchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PROPPATCH:
                dpName: iisProppatchRequests_iisProppatchRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              UNLOCK:
                dpName: iisUnlockRequests_iisUnlockRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              Other:
                dpName: iisOtherRequestMethods_iisOtherRequestMethods
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              COPY:
                dpName: iisCopyRequests_iisCopyRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              ISAPI:
                dpName: iisISAPIExtensionRequests_iisISAPIExtensionRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - Connections:
            units: connections
            miny: 0
            graphpoints:
              Current:
                dpName: iisCurrentConnections_iisCurrentConnections
                format: '%7.0lf'
          IIS - Connection Rate:
            units: connections/sec
            miny: 0
            graphpoints:
              Attempts:
                dpName: iisConnectionAttempts_iisConnectionAttempts
                format: '%7.2lf%s'
          IIS - Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Received:
                dpName: iisBytesReceived_iisBytesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisBytesSent_iisBytesSent
                format: '%7.2lf%s'
          IIS - Basic Request Rate:
            units: requests/sec
            miny: 0
            graphpoints:
              HEAD:
                dpName: iisHeadRequests_iisHeadRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              TRACE:
                dpName: iisTraceRequests_iisTraceRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              GET:
                dpName: iisGetRequests_iisGetRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              PUT:
                dpName: iisPutRequests_iisPutRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              POST:
                dpName: iisPostRequests_iisPostRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              OPTIONS:
                dpName: iisOptionsRequests_iisOptionsRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
              DELETE:
                dpName: iisDeleteRequests_iisDeleteRequests
                lineType: AREA
                stacked: true
                format: '%7.2lf%s'
          IIS - File Rate:
            units: files/sec
            miny: 0
            graphpoints:
              Received:
                dpName: iisFilesReceived_iisFilesReceived
                format: '%7.2lf%s'
              Sent:
                dpName: iisFilesSent_iisFilesSent
                format: '%7.2lf%s'
      ethernetCsmacd:
        description: Microsoft Windows network interface monitoring.
        targetPythonClass: Products.ZenModel.IpInterface
        thresholds:
          high utilization:
            dsnames: [bytesReceivedSec_bytesReceivedSec, bytesSentSec_bytesSentSec]
            eventClass: /Status/Interface
            maxval: (here.speed or 1e9) / 8 * .75
        datasources:
          bytesSentSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              bytesSentSec:
                rrdtype: GAUGE
                aliases: {outputOctets__bytes: null}
            counter: \Bytes Sent/sec
          packetsReceivedErrors:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsReceivedErrors:
                rrdtype: GAUGE
                aliases: {ifInErrors: null}
            counter: \Packets Received Errors
          packetsSentSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsSentSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {packetsSent__sec: null}
            counter: \Packets Sent/sec
          bytesReceivedSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              bytesReceivedSec:
                rrdtype: GAUGE
                aliases: {inputOctets__bytes: null}
            counter: \Bytes Received/sec
          packetsSentErrors:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsSentErrors:
                rrdtype: GAUGE
                aliases: {ifOutErrors: null}
            counter: \Packets Outbound Errors
          packetsReceivedSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              packetsReceivedSec:
                rrdtype: GAUGE
                rrdmin: 0
                aliases: {packetsReceived__sec: null}
            counter: \Packets Received/sec
        graphs:
          Throughput:
            units: bits/sec
            miny: 0
            graphpoints:
              Inbound:
                dpName: bytesReceivedSec_bytesReceivedSec
                format: '%7.2lf%s'
                rpn: 8,*
              Outbound:
                dpName: bytesSentSec_bytesSentSec
                format: '%7.2lf%s'
                rpn: 8,*
          Errors:
            units: '# of errors'
            miny: 0
            graphpoints:
              Receive:
                dpName: packetsReceivedErrors_packetsReceivedErrors
                format: '%7.2lf%s'
              Send:
                dpName: packetsSentErrors_packetsSentErrors
                format: '%7.2lf%s'
          Packets:
            units: packets/sec
            miny: 0
            graphpoints:
              Inbound:
                dpName: packetsReceivedSec_packetsReceivedSec
                format: '%7.2lf%s'
              Outbound:
                dpName: packetsSentSec_packetsSentSec
                format: '%7.2lf%s'
      Cluster:
        datasources:
          state:
            type: Windows Shell
            datapoints:
              state:
                rrdtype: GAUGE
                description: State collection for Cluster Services
            cycletime: '300'
            resource: get-clustergroup
            strategy: powershell Cluster Services
      OSProcess:
        description: Microsoft Windows per-process monitoring.
        targetPythonClass: Products.ZenModel.OSProcess
        thresholds:
          count:
            dsnames: [process_count]
            eventClass: /Status/OSProcess
            minval: here.getMinProcessCount()
            maxval: here.getMaxProcessCount()
        datasources:
          process:
            type: Windows Process
            datapoints:
              count:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSet:
                rrdtype: GAUGE
                rrdmin: 0
              PercentProcessorTime:
                rrdtype: GAUGE
                rrdmin: 0
              WorkingSetPrivate:
                rrdtype: GAUGE
                rrdmin: 0
            cycletime: '300'
        graphs:
          Memory Usage:
            units: bytes
            base: true
            miny: 0
            graphpoints:
              'Total Working Set  ':
                dpName: process_WorkingSet
                format: '%7.2lf%s'
              Private Working Set:
                dpName: process_WorkingSetPrivate
                format: '%7.2lf%s'
          CPU Usage:
            units: percent
            miny: 0
            maxy: 100
            graphpoints:
              Processor Time:
                dpName: process_PercentProcessorTime
                format: '%7.2lf%%'
          Running Processes:
            units: processes
            miny: 0
            graphpoints:
              Count:
                dpName: process_count
                format: '%7.0lf'
      HardDisk:
        description: Microsoft Windows file system monitoring.
        targetPythonClass: Products.ZenModel.HardDisk
        datasources:
          DiskReadTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadTime:
                rrdtype: GAUGE
                aliases: {diskReadTime: null}
            counter: \PhysicalDisk({$here/instance_name})\% Disk Read Time
          DiskWriteBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteBytesSec:
                rrdtype: GAUGE
                aliases: {diskWriteBytes__sec: null}
            counter: \PhysicalDisk({$here/instance_name})\Disk Write Bytes/sec
          DiskWriteTime:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskWriteTime:
                rrdtype: GAUGE
                aliases: {diskWriteTime: null}
            counter: \PhysicalDisk({$here/instance_name})\% Disk Write Time
          DiskReadBytesSec:
            type: Windows Perfmon
            component: ${here/id}
            datapoints:
              DiskReadBytesSec:
                rrdtype: GAUGE
                aliases: {diskReadBytes__sec: null}
            counter: \PhysicalDisk({$here/instance_name})\Disk Read Bytes/sec
        graphs:
          Throughput:
            units: bytes/sec
            base: true
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadBytesSec_DiskReadBytesSec
                format: '%7.2lf%s'
              Write:
                dpName: DiskWriteBytesSec_DiskWriteBytesSec
                format: '%7.2lf%s'
          Time:
            units: percent
            miny: 0
            graphpoints:
              Read:
                dpName: DiskReadTime_DiskReadTime
                format: '%7.2lf%%'
              Write:
                dpName: DiskWriteTime_DiskWriteTime
                format: '%7.2lf%%'

event_classes:
  /Status:
    mappings:
      WindowsServiceLog:
        eventClassKey: WindowsServiceLog
        sequence: 10
        transform: "import re\n\n@transact\ndef change_properties(currentstate):\n\
          \    if getattr(component, 'state') != currentstate:\n            setattr(component,\
          \ 'state', currentstate)\n\nmsg = evt.summary\nsummaryObj = re.match(r'Service\
          \ (.*): (.*) has changed to (.*) state(.*)', msg)\n\nchange_properties(summaryObj.group(3))"
        example: 'Service Alert: ALG has changed to Stopped state'
        remove: true
      IISSiteStatus:
        eventClassKey: IISSiteStatus
        sequence: 10
        transform: "import re\n\n@transact\ndef change_properties(currentstate):\n\
          \    if getattr(component, 'status') != currentstate:\n        setattr(component,\
          \ 'status', currentstate)\n\nmsg = evt.summary\nsummaryObj = re.match(r'IIS\
          \ Service (.*) is in (.*) state(.*)', msg)\n\nchange_properties(summaryObj.group(2))"
        example: IIS Service W3SVC_1 is in Stopped state
        remove: true
  /Status/Kerberos:
    mappings:
      Failure Default:
        eventClassKey: MW|Kerberos|Auth|Failure
        sequence: 1111
  /Status/Kerberos/Auth:
    mappings:
      Failure Default:
        eventClassKey: MW|Kerberos|Auth|Failure
        sequence: 1111
  /Status/Kerberos/Auth/Failure:
    remove: true
    mappings:
      Failure Default:
        eventClassKey: MW|Kerberos|Auth|Failure
        sequence: 1111
  /Status/Kerberos/Failure:
    remove: true
    mappings:
      Failure Default:
        eventClassKey: MW|Kerberos|Failure
        sequence: 1101
  /Status/Winrm:
    mappings:
      Wrong Credentials Default:
        eventClassKey: MW|WrongCredentials
        sequence: 1002
  /Status/Winrm/Ping:
    remove: true
  /Status/Winrm/Auth:
    mappings:
      Wrong Credentials Default:
        eventClassKey: MW|WrongCredentials
        sequence: 1002
  /Status/Winrm/Auth/WrongCredentials:
    remove: true
    mappings:
      Wrong Credentials Default:
        eventClassKey: MW|WrongCredentials
        sequence: 1002
  /Status/Winrm/Auth/PasswordExpired:
    remove: true
    mappings:
      Password Expired Default:
        eventClassKey: MW|PasswordExpired
        sequence: 1001
